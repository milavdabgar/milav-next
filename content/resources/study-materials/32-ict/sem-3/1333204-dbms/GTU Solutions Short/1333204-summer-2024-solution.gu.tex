\documentclass{article}
\input{../../../../../../../latex-templates/gtu-solutions-short/preamble.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/gujarati-boxes.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/commands.tex}
\usetikzlibrary{mindmap,trees,shadows}

\title{Database Management System (1333204) - Summer 2024 Solution Gujarati}
\date{June 14, 2024}

\begin{document}
\maketitle

\questionmarks{1(અ)}{3}{વ્યાખ્યા આપો: DBMS, ઈન્સટન્સ, મેટાડેટા}

\begin{solutionbox}

\begin{itemize}
    \item \textbf{DBMS (ડેટાબેઝ મેનેજમેન્ટ સિસ્ટમ)}: એક સોફ્ટવેર જે વપરાશકર્તાઓને ડેટાબેઝ બનાવવા, જાળવવા, અને ઍક્સેસ કરવા સક્ષમ બનાવે છે. જે ડેટા ઑર્ગેનાઈઝેશન, સ્ટોરેજ, પુનઃપ્રાપ્તિ, સુરક્ષા, અને અખંડતાનું નિયંત્રણ કરે છે.
    \item \textbf{ઈન્સટન્સ}: કોઈ ચોક્કસ સમયે ડેટાબેઝમાં સંગ્રહિત વાસ્તવિક ડેટા. તે ડેટાબેઝની વર્તમાન સ્થિતિ અથવા સ્નેપશોટ છે.
    \item \textbf{મેટાડેટા}: ડેટા વિશેનો ડેટા, જે ડેટાબેઝ સ્ટ્રક્ચરનું વર્ણન કરે છે, જેમાં ટેબલ્સ, ફીલ્ડ્સ, સંબંધો, કન્સ્ટ્રેઈન્ટ્સ, અને ઇન્ડેક્સનો સમાવેશ થાય છે.
\end{itemize}

\end{solutionbox}

\begin{mnemonicbox}[title={DIM દૃશ્ય}]ડેટાબેઝ સિસ્ટમ, ઈન્સટન્સ સ્નેપશોટ, મેટાડેટા વર્ણન\end{mnemonicbox}

\questionmarks{1(બ)}{4}{વ્યાખ્યા આપો અને ઉદાહરણ સાથે સમજાવો: 1.Entity 2. Attribute}

\begin{solutionbox}

\textbf{કોષ્ટક: Entity અને Attribute વચ્ચેનો તફાવત}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    \textbf{કોન્સેપ્ટ} & \textbf{વ્યાખ્યા} & \textbf{ઉદાહરણ} \\
    \hline
    એન્ટિટી & એક વાસ્તવિક દુનિયાની વસ્તુ અથવા ખ્યાલ જેને સ્પષ્ટપણે ઓળખી શકાય છે & વિદ્યાર્થી (જોન), પુસ્તક (હેરી પોટર), કાર (ટોયોટા કેમરી) \\
    \hline
    એટ્રિબ્યુટ & એક લક્ષણ અથવા ગુણધર્મ જે એન્ટિટીનું વર્ણન કરે છે & વિદ્યાર્થી: રોલ\_નં, નામ, સરનામું \newline પુસ્તક: ISBN, શીર્ષક, લેખક \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    % Student Entity
    \node[gtu block] (std) {
        \textbf{STUDENT} \\
        \par\noindent\rule{3cm}{0.4pt}\par
        + student\_id \\
        + name \\
        + address
    };
    
    % Book Entity
    \node[gtu block, right=3cm of std] (book) {
        \textbf{BOOK} \\
        \par\noindent\rule{3cm}{0.4pt}\par
        + ISBN \\
        + title \\
        + author
    };
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={EA-PC}]એન્ટિટીઝ આર ફિઝિકલ/કોન્સેપ્ચ્યુઅલ, એટ્રિબ્યુટ્સ પ્રોવાઇડ કેરેક્ટરિસ્ટિક્સ\end{mnemonicbox}

\questionmarks{1(ક)}{7}{DBA નું પૂર્ણ નામ લખો. DBAની ભૂમિકા અને જવાબદારીઓ સમજાવો.}

\begin{solutionbox}

DBA એટલે \textbf{ડેટાબેઝ એડમિનિસ્ટ્રેટર}.

\textbf{કોષ્ટક: DBA જવાબદારીઓ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|}
    \hline
    \textbf{ભૂમિકા} & \textbf{વર્ણન} \\
    \hline
    ડેટાબેઝ ડિઝાઇન & લોજિકલ/ફિઝિકલ ડેટાબેઝ સ્ટ્રક્ચર અને સ્કીમા બનાવે છે \\
    \hline
    સિક્યોરિટી મેનેજમેન્ટ & યુઝર એકાઉન્ટ્સ અને પરમિશન્સ દ્વારા ઍક્સેસ નિયંત્રિત કરે છે \\
    \hline
    પરફોર્મન્સ ટ્યુનિંગ & ઝડપી ડેટા પુનઃપ્રાપ્તિ માટે ક્વેરીઝ, ઇન્ડેક્સ ઓપ્ટિમાઇઝ કરે છે \\
    \hline
    બેકઅપ \& રિકવરી & ડેટા નુકસાન રોકવા માટેની વ્યૂહરચના અમલમાં મૂકે છે \\
    \hline
    મેઇન્ટેનન્સ & સોફ્ટવેર અપડેટ કરે છે, પેચિસ લાગુ કરે છે, સ્પેસનું મોનિટરિંગ કરે છે \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[
    mindmap,
    concept color=blue!20,
    every node/.style={concept},
    root concept/.append style={font=\large\bfseries},
    level 1/.append style={level distance=4.5cm, sibling angle=72},
    level 2/.append style={level distance=3cm, sibling angle=45, font=\small}
]
    \node[root concept] {DBA}
        child { node {ડિઝાઇન}
            child { node {સ્કીમા} }
            child { node {ટેબલ્સ} }
            child { node {રિલેશનશિપ્સ} }
        }
        child { node {સિક્યોરિટી}
            child { node {યુઝર્સ} }
            child { node {પરમિશન્સ} }
            child { node {એન્ક્રિપ્શન} }
        }
        child { node {પરફોર્મન્સ}
            child { node {ક્વેરી ઓપ્ટિમાઇઝેશન} }
            child { node {ઇન્ડેક્સિંગ} }
            child { node {મોનિટરિંગ} }
        }
        child { node {બેકઅપ}
            child { node {નિયમિત બેકઅપ્સ} }
            child { node {રિકવરી પ્લાન્સ} }
        }
        child { node {મેઇન્ટેનન્સ}
            child { node {અપડેટ્સ} }
            child { node {સ્પેસ મેનેજમેન્ટ} }
        };
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={SPMBU}]સિક્યોરિટી, પરફોર્મન્સ, મેઇન્ટેનન્સ, બેકઅપ, અપડેટ્સ\end{mnemonicbox}

\questionmarks{1(ક) OR}{7}{રીલેશનલ અને નેટવર્ક ડેટા મોડેલ વિસ્તારથી સમજાવો.}

\begin{solutionbox}

\textbf{કોષ્ટક: રીલેશનલ અને નેટવર્ક ડેટા મોડેલની તુલના}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    \textbf{લક્ષણ} & \textbf{રીલેશનલ મોડેલ} & \textbf{નેટવર્ક મોડેલ} \\
    \hline
    સ્ટ્રક્ચર & ટેબલ્સ (રીલેશન્સ) - રો અને કોલમ્સ સાથે & રેકોર્ડ્સ પોઇન્ટર્સ દ્વારા જોડાયેલા જટિલ નેટવર્ક બનાવે છે \\
    \hline
    સંબંધ & પ્રાઇમરી અને ફોરેન કી દ્વારા જોડાયેલા & પેરન્ટ-ચાઇલ્ડ રેકોર્ડ્સ વચ્ચે ડાયરેક્ટ લિંક્સ \\
    \hline
    ફ્લેક્સિબિલિટી & ઉચ્ચ - ટેબલ્સ જરૂરિયાત મુજબ જોઈન કરી શકાય છે & સીમિત - પૂર્વનિર્ધારિત ફિઝિકલ કનેક્શન \\
    \hline
    ઉદાહરણો & MySQL, Oracle, SQL Server & IDS, IDMS \\
    \hline
    ક્વેરી લેંગ્વેજ & SQL (સ્ટ્રક્ચર્ડ ક્વેરી લેંગ્વેજ) & પ્રોસીજરલ લેંગ્વેજ \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    % Relational Model
    \node (rel_label) {\textbf{રીલેશનલ મોડેલ}};
    
    \node[gtu block, below=0.5cm of rel_label] (courses) {ટેબલ: અભ્યાસક્રમો};
    \node[gtu block, left=0.5cm of courses] (students) {ટેબલ: વિદ્યાર્થીઓ};
    \node[gtu block, right=0.5cm of courses] (grades) {ટેબલ: ગ્રેડ્સ};
    
    \draw (students) -- (grades);
    \draw (courses) -- (grades);
    
    % Network Model
    \node[right=6cm of rel_label] (net_label) {\textbf{નેટવર્ક મોડેલ}};
    
    \node[gtu block, below=0.5cm of net_label] (rec_student) {રેકોર્ડ: વિદ્યાર્થી};
    \node[gtu block, below left=1cm and -0.5cm of rec_student] (rec_c1) {રેકોર્ડ: અભ્યાસક્રમ1};
    \node[gtu block, below right=1cm and -0.5cm of rec_student] (rec_c2) {રેકોર્ડ: અભ્યાસક્રમ2};
    \node[gtu block, below=1cm of rec_c2] (rec_grade) {રેકોર્ડ: ગ્રેડ};
    
    \draw[gtu arrow] (rec_student) -- (rec_c1);
    \draw[gtu arrow] (rec_student) -- (rec_c2);
    \draw[gtu arrow] (rec_c2) -- (rec_grade);
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={RSPEN}]રીલેશનલ યુઝિસ સેટ્સ, પોઇન્ટર્સ એનેબલ નેટવર્ક્સ\end{mnemonicbox}

\questionmarks{2(અ)}{3}{Generalization આકૃતિ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Generalization}: બે કે વધુ એન્ટિટીઓમાંથી સામાન્ય લક્ષણો કાઢીને નવી ઉચ્ચ સ્તરની એન્ટિટી બનાવવાની પ્રક્રિયા.

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[node distance=2cm]
    \node[gtu block] (vehicle) {
        \textbf{Vehicle} \\
        + vehicle\_id \\
        + manufacturer \\
        + year
    };
    
    \node[gtu block, below left=2cm and 1cm of vehicle] (car) {
        \textbf{Car} \\
        + num\_doors \\
        + fuel\_type
    };
    
    \node[gtu block, below=2cm of vehicle] (truck) {
        \textbf{Truck} \\
        + cargo\_capacity \\
        + towing\_capacity
    };
    
    \node[gtu block, below right=2cm and 1cm of vehicle] (moto) {
        \textbf{Motorcycle} \\
        + engine\_size \\
        + type
    };
    
    % Inheritance arrows
    \draw[gtu arrow, -{Triangle[open, scale=2]}] (car) -- (vehicle);
    \draw[gtu arrow, -{Triangle[open, scale=2]}] (truck) -- (vehicle);
    \draw[gtu arrow, -{Triangle[open, scale=2]}] (moto) -- (vehicle);
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={BUSH}]બોટમ-અપ શેર્ડ હાયરાર્કી\end{mnemonicbox}

\questionmarks{2(બ)}{4}{Primary કી અને Foreign કી Constraints સમજાઓ.}

\begin{solutionbox}

\textbf{કોષ્ટક: પ્રાઇમરી કી વિ. ફોરેન કી}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{કન્સ્ટ્રેઇન્ટ} & \textbf{વ્યાખ્યા} & \textbf{ગુણધર્મો} & \textbf{ઉદાહરણ} \\
    \hline
    પ્રાઇમરી કી & ટેબલમાં દરેક રેકોર્ડને અનન્ય રીતે ઓળખે છે & અનન્ય, નોટ નલ, ટેબલ દીઠ માત્ર એક & વિદ્યાર્થી ટેબલમાં StudentID \\
    \hline
    ફોરેન કી & ટેબલો વચ્ચે ડેટાને જોડે છે, બીજા ટેબલના પ્રાઇમરી કીનો સંદર્ભ આપે છે & NULL હોઈ શકે, એક ટેબલમાં અનેક હોઈ શકે & એમ્પ્લોયી ટેબલમાં DeptID \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[node distance=4cm]
    \node[gtu block] (dept) {
        \textbf{DEPARTMENT} \\
        + \underline{dept\_id} PK \\
        + dept\_name
    };
    
    \node[gtu block, right=of dept] (emp) {
        \textbf{EMPLOYEE} \\
        + \underline{emp\_id} PK \\
        + name \\
        + dept\_id FK
    };
    
    \draw[gtu arrow] (dept) -- node[above] {1} node[below] {has} (emp);
    \node[above left] at (emp.west) {M};
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={PURE FIRE}]પ્રાઇમરી યુનિકલી રેફરન્સિસ એન્ટિટીઝ, ફોરેન ઇમ્પોર્ટ્સ રેફરન્સ્ડ એન્ટિટીઝ\end{mnemonicbox}

\questionmarks{2(ક)}{7}{હોસ્પિટલ મેનેજમેન્ટ સિસ્ટમ માટે E-R ડાયાગ્રામ બનાવો}

\begin{solutionbox}

\textbf{હોસ્પિટલ મેનેજમેન્ટ સિસ્ટમ માટે E-R ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, every node/.style={scale=0.8}, transform shape]
    % Entities with attributes
    \node[gtu block] (patient) {
        \textbf{PATIENT} \\
        + \underline{patient\_id} PK \\
        + name, address \\
        + DOB, phone
    };
    
    \node[gtu block, right=4cm of patient] (doc) {
        \textbf{DOCTOR} \\
        + \underline{doctor\_id} PK, name \\
        + specialization \\
        + dept\_id FK
    };
    
    \node[gtu block, below=3cm of patient] (room) {
        \textbf{ROOM} \\
        + \underline{room\_id} PK \\
        + type \\
        + availability
    };
    
    \node[gtu block, below=3cm of doc] (app) {
        \textbf{APPOINTMENT} \\
        + \underline{app\_id} PK \\
        + patient\_id FK \\
        + doctor\_id FK \\
        + date\_time, status
    };
    
    \node[gtu block, right=3cm of doc] (dept) {
        \textbf{DEPARTMENT} \\
        + \underline{dept\_id} PK \\
        + name \\
        + location
    };
    
    \node[gtu block, below=2cm of app] (pres) {
        \textbf{PRESCRIPTION} \\
        + \underline{pres\_id} PK \\
        + app\_id FK \\
        + date \\
        + medications
    };
    
    % Relationships
    \draw[gtu arrow] (patient) -- node[midway, fill=white] {makes} (app);
    \draw[gtu arrow] (doc) -- node[midway, fill=white] {conducts} (app);
    \draw[gtu arrow] (app) -- node[midway, fill=white] {generates} (pres);
    \draw[gtu arrow] (dept) -- node[midway, fill=white] {employs} (doc);
    \draw[gtu arrow] (room) -- node[midway, fill=white] {admits} (patient);
    
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={PADRE}]પેશન્ટ અપોઇન્ટમેન્ટ ડોક્ટર રૂમ એન્ટિટીઝ\end{mnemonicbox}

\questionmarks{2(અ) OR}{3}{Specialization આકૃતિ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Specialization}: હાલની એન્ટિટીમાંથી તેમને અલગ ઓળખવા માટે અનન્ય લક્ષણો ઉમેરીને નવી એન્ટિટીઓ બનાવવાની પ્રક્રિયા.

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[node distance=2cm]
    \node[gtu block] (emp) {
        \textbf{Employee} \\
        + emp\_id \\
        + name \\
        + address \\
        + phone
    };
    
    \node[gtu block, below left=2cm and 1cm of emp] (full) {
        \textbf{FullTime} \\
        + salary \\
        + benefits
    };
    
    \node[gtu block, below right=2cm and 1cm of emp] (part) {
        \textbf{PartTime} \\
        + hourly\_rate \\
        + hours\_worked
    };
    
    % Specialization arrows (Top-down)
    \draw[gtu arrow] (emp) -- (full);
    \draw[gtu arrow] (emp) -- (part);
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={TDSB}]ટોપ-ડાઉન સ્પેશલાઇઝ્ડ બ્રેકડાઉન\end{mnemonicbox}

\questionmarks{2(બ) OR}{4}{યોગ્ય ઉદાહરણ સાથે સિંગલ વેલ્યુડ અને મલ્ટીવેલ્યુડ એટ્રીબ્યુટ વચ્ચેનો તફાવત સમજાવો.}

\begin{solutionbox}

\textbf{કોષ્ટક: સિંગલ-વેલ્યુડ અને મલ્ટી-વેલ્યુડ એટ્રીબ્યુટ્સ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{પ્રકાર} & \textbf{વ્યાખ્યા} & \textbf{ઉદાહરણ} & \textbf{ઇમ્પ્લિમેન્ટેશન} \\
    \hline
    સિંગલ-વેલ્યુડ & દરેક એન્ટિટી ઇન્સ્ટન્સ માટે માત્ર એક જ મૂલ્ય ધરાવે છે & વ્યક્તિની જન્મતારીખ, SSN & સીધા ટેબલ કોલમમાં સંગ્રહિત \\
    \hline
    મલ્ટી-વેલ્યુડ & એક જ એન્ટિટી માટે અનેક મૂલ્યો ધરાવી શકે છે & વ્યક્તિની કુશળતાઓ, ફોન નંબરો & અલગ ટેબલ અથવા વિશિષ્ટ ફોર્મેટ \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[node distance=4cm]
    \node[gtu block] (emp) {
        \textbf{EMPLOYEE} \\
        + emp\_id \\
        + name \\
        + birth\_date (સિંગલ-વેલ્યુડ)
    };
    
    \node[gtu block, right=of emp, yshift=1.5cm] (phone) {
        \textbf{PHONE\_NUMBERS} \\
        + emp\_id \\
        + phone\_number (મલ્ટી-વેલ્યુડ)
    };
    
    \node[gtu block, right=of emp, yshift=-1.5cm] (skill) {
        \textbf{SKILLS} \\
        + emp\_id \\
        + skill (મલ્ટી-વેલ્યુડ)
    };
    
    \draw[gtu arrow] (emp) -- node[midway, fill=white] {has} (phone);
    \draw[gtu arrow] (emp) -- node[midway, fill=white] {possesses} (skill);
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={SOME}]સિંગલ વન, મલ્ટિપલ એન્ટ્રીઝ\end{mnemonicbox}

\questionmarks{2(ક) OR}{7}{બેન્કિંગ મેનેજમેન્ટ સિસ્ટમ માટે E-R ડાયાગ્રામ બનાવો}

\begin{solutionbox}

\textbf{બેન્કિંગ મેનેજમેન્ટ સિસ્ટમ માટે E-R ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[node distance=3cm, every node/.style={scale=0.85}, transform shape]
    \node[gtu block] (customer) {
        \textbf{CUSTOMER} \\
        + \underline{customer\_id} PK \\
        + name, address, phone, email
    };
    
    \node[gtu block, right=4cm of customer] (account) {
        \textbf{ACCOUNT} \\
        + \underline{account\_no} PK \\
        + customer\_id FK \\
        + branch\_id FK \\
        + balance, type
    };
    
    \node[gtu block, below=2cm of customer] (loan) {
        \textbf{LOAN} \\
        + \underline{loan\_id} PK \\
        + customer\_id FK \\
        + amount, interest
    };
    
    \node[gtu block, below=2cm of account] (trans) {
        \textbf{TRANSACTION} \\
        + \underline{trans\_id} PK \\
        + account\_no FK \\
        + date, amount, type
    };
    
    \node[gtu block, right=4cm of account] (branch) {
        \textbf{BRANCH} \\
        + \underline{branch\_id} PK \\
        + name, location
    };
    
    \node[gtu block, below=2cm of branch] (emp) {
        \textbf{EMPLOYEE} \\
        + \underline{emp\_id} PK \\
        + name, position, salary \\
        + branch\_id FK
    };
    
    % Relationships
    \draw[gtu arrow] (customer) -- node[midway, fill=white] {owns} (account);
    \draw[gtu arrow] (customer) -- node[midway, fill=white] {takes} (loan);
    \draw[gtu arrow] (account) -- node[midway, fill=white] {has} (trans);
    \draw[gtu arrow] (branch) -- node[midway, fill=white] {maintains} (account);
    \draw[gtu arrow] (branch) -- node[midway, fill=white] {works\_at} (emp);
    
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={CABLE}]કસ્ટમર્સ અકાઉન્ટ્સ બ્રાન્ચિસ લોન્સ એમ્પ્લોયીઝ\end{mnemonicbox}

\questionmarks{3(અ)}{3}{WHERE અને DESC ક્લોઝ ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{કોષ્ટક: WHERE અને DESC ક્લોઝનો ઉપયોગ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{ક્લોઝ} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\
    \hline
    WHERE & ચોક્કસ શરત પર આધારિત રો ફિલ્ટર કરે છે & SE... FROM ... WHERE condition & SELECT * FROM employees WHERE salary > 50000 \\
    \hline
    DESC & પરિણામોને ઉતરતા ક્રમમાં ગોઠવે છે & SE... ORDER BY ... DESC & SELECT * FROM products ORDER BY price DESC \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql, title={Example Data Operation}]
-- Original
| ID | Name   | Marks |
| 1  | Alice  | 85    |
| 2  | Bob    | 92    |
| 3  | Carol  | 78    |

-- WHERE Marks > 80
| 1  | Alice  | 85    |
| 2  | Bob    | 92    |

-- ORDER BY Marks DESC
| 2  | Bob    | 92    |
| 1  | Alice  | 85    |
| 3  | Carol  | 78    |
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={WDF}]Where ડેટા ફિલ્ટર કરે છે, DESC ઉચ્ચતમ પહેલા ક્રમ આપે છે\end{mnemonicbox}

\questionmarks{3(બ)}{4}{DDL કમાન્ડની યાદી બનાવો. કોઈ પણ ૨ DDL કમાન્ડ ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{DDL (ડેટા ડેફિનિશન લેંગ્વેજ) કમાન્ડ્સ:}
\begin{enumerate}
    \item CREATE
    \item ALTER
    \item DROP
    \item TRUNCATE
    \item RENAME
\end{enumerate}

\textbf{કોષ્ટક: CREATE અને ALTER કમાન્ડ્સ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{કમાન્ડ} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\
    \hline
    CREATE & ટેબલ, વ્યૂ, ઇન્ડેક્સ જેવા ડેટાબેઝ ઑબ્જેક્ટ્સ બનાવે છે & CREATE TABLE ... & CREATE TABLE students (id INT...) \\
    \hline
    ALTER & હાલના ડેટાબેઝ ઑબ્જેક્ટની સ્ટ્રક્ચર સુધારે છે & ALTER TABLE ... & ALTER TABLE students ADD COLUMN... \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql]
-- CREATE ઉદાહરણ
CREATE TABLE employees (
    emp_id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    dept VARCHAR(30),
    salary DECIMAL(10,2)
);

-- ALTER ઉદાહરણ
ALTER TABLE employees 
ADD COLUMN hire_date DATE;
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={CADTR}]Create Alter Drop Truncate Rename\end{mnemonicbox}

\questionmarks{3(ક)}{7}{eno, ename, salary, dept ફિલ્ડ ધરાવતા Company ટેબલ પર નીચેની Query perform કરો.}

\textbf{પ્રશ્નો:}
\begin{enumerate}
    \item Company ટેબલના તમામ રેકોર્ડ ડિસ્પ્લે કરો.
    \item ડુપ્લિકેટ વેલ્યુ સિવાય માત્ર dept ડિસ્પ્લે કરો.
    \item ename ના ઉતરતા ક્રમમાં તમામ રેકોર્ડ ડિસ્પ્લે કરો.
    \item શહેરનું નામ સ્ટોર કરવા માટે "cityname" નામથી નવી કોલમ ઉમેરો.
    \item "Mumbai" શહેરમાં ન રહેતા હોય તેવા તમામ કર્મચારીઓનાં નામ ડિસ્પ્લે કરો.
    \item ૧૦૦૦૦ કરતા ઓછું પગાર ધરાવતા તમામ કર્મચારીઓને ડીલીટ કરો.
    \item "A" થી શરુ થતા તમામ કર્મચારીઓના નામ ડિસ્પ્લે કરો.
\end{enumerate}

\begin{solutionbox}

\begin{lstlisting}[language=sql]
-- ૧. Company ટેબલના તમામ રેકોર્ડ ડિસ્પ્લે કરો
SELECT * FROM Company;

-- ૨. ડુપ્લિકેટ વેલ્યુ સિવાય માત્ર dept ડિસ્પ્લે કરો
SELECT DISTINCT dept FROM Company;

-- ૩. ename ના ઉતરતા ક્રમમાં તમામ રેકોર્ડ ડિસ્પ્લે કરો
SELECT * FROM Company ORDER BY ename DESC;

-- ૪. શહેરનું નામ સ્ટોર કરવા માટે "cityname" નામથી નવી કોલમ ઉમેરો
ALTER TABLE Company ADD COLUMN cityname VARCHAR(50);

-- ૫. "Mumbai" શહેરમાં ન રહેતા હોય તેવા તમામ કર્મચારીઓનાં નામ ડિસ્પ્લે કરો
SELECT ename FROM Company WHERE cityname != 'Mumbai';

-- ૬. ૧૦૦૦૦ કરતા ઓછું પગાર ધરાવતા તમામ કર્મચારીઓને ડીલીટ કરો
DELETE FROM Company WHERE salary < 10000;

-- ૭. "A" થી શરુ થતા તમામ કર્મચારીઓના નામ ડિસ્પ્લે કરો
SELECT ename FROM Company WHERE ename LIKE 'A%';
\end{lstlisting}

\textbf{કોષ્ટક: SQL ઓપરેશન્સ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    \textbf{ઓપરેશન} & \textbf{SQL કમાન્ડ} & \textbf{હેતુ} \\
    \hline
    SELECT & SELECT * FROM Company & બધો ડેટા મેળવે છે \\
    \hline
    DISTINCT & SELECT DISTINCT dept & ડુપ્લિકેટ દૂર કરે છે \\
    \hline
    ORDER BY & ORDER BY ename DESC & ઉતરતા ક્રમમાં ગોઠવે છે \\
    \hline
    ALTER & ALTER TABLE ADD COLUMN & નવી કોલમ ઉમેરે છે \\
    \hline
    WHERE & WHERE cityname != 'Mumbai' & ફિલ્ટર શરત \\
    \hline
    DELETE & DELETE FROM WHERE & રેકોર્ડ દૂર કરે છે \\
    \hline
    LIKE & WHERE ename LIKE 'A\%' & પેટર્ન મેચિંગ \\
    \hline
    \end{tabulary}
\end{table}

\end{solutionbox}

\begin{mnemonicbox}[title={SODA-WDL}]Select Order Distinct Alter - Where Delete Like\end{mnemonicbox}

\questionmarks{3(અ) OR}{3}{SELECT અને DISTINCT ક્લોઝ ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{કોષ્ટક: SELECT અને DISTINCT ક્લોઝનો ઉપયોગ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{ક્લોઝ} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\
    \hline
    SELECT & ડેટાબેઝમાંથી ડેટા મેળવે છે & SELECT columns FROM table & SELECT name, age FROM students \\
    \hline
    DISTINCT & ડુપ્લિકેટ મૂલ્યો દૂર કરે છે & SELECT DISTINCT columns FROM table & SELECT DISTINCT department FROM employees \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql]
-- Original: Sales, IT, HR, IT, Sales

-- SELECT dept_name
Sales
IT
HR
IT
Sales

-- SELECT DISTINCT dept_name
Sales
IT
HR
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={SUD}]Select Unique with Distinct\end{mnemonicbox}

\questionmarks{3(બ) OR}{4}{DML કમાન્ડની યાદી બનાવો. કોઈ પણ ૨ DML કમાન્ડ ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{DML (ડેટા મેનિપ્યુલેશન લેંગ્વેજ) કમાન્ડ્સ:}
\begin{enumerate}
    \item INSERT
    \item UPDATE
    \item DELETE
    \item SELECT
\end{enumerate}

\textbf{કોષ્ટક: INSERT અને UPDATE કમાન્ડ્સ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{કમાન્ડ} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\
    \hline
    INSERT & ટેબલમાં નવા રેકોર્ડ ઉમેરે છે & INSERT INTO ... VALUES & INSERT INTO students VALUES (1, 'John', 85) \\
    \hline
    UPDATE & હાલના રેકોર્ડમાં ફેરફાર કરે છે & UPDATE ... SET ... WHERE & UPDATE students SET marks=90 WHERE id=1 \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql]
-- INSERT ઉદાહરણ
INSERT INTO employees (emp_id, name, dept, salary)
VALUES (101, 'John Smith', 'IT', 65000);

-- UPDATE ઉદાહરણ
UPDATE employees 
SET salary = 70000 
WHERE emp_id = 101;
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={IUDS}]Insert Update Delete Select\end{mnemonicbox}

\questionmarks{3(ક) OR}{7}{નીચેની Query ના આઉટપુટ લખો.}

\begin{solutionbox}

\textbf{કોષ્ટક: SQL ફંક્શન આઉટપુટ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    \textbf{ફંક્શન} & \textbf{વર્ણન} & \textbf{આઉટપુટ} \\
    \hline
    ABS(-34), ABS(16) & નિરપેક્ષ મૂલ્ય & 34, 16 \\
    \hline
    SQRT(16), SQRT(64) & વર્ગમૂળ & 4, 8 \\
    \hline
    POWER(5,2), POWER(2,4) & પાવર ફંક્શન & 25, 16 \\
    \hline
    MOD(15,3), MOD(13,3) & મોડ્યુલસ (બાકી) & 0, 1 \\
    \hline
    ROUND(123.456,1) & દશાંશ સ્થાન સુધી રાઉન્ડ & 123.5 \\
    ROUND(123.456,2) & (૨ દશાંશ) & 123.46 \\
    \hline
    CEIL(122.6) & ઉપર રાઉન્ડ & 123 \\
    CEIL(-122.6) & (નેગેટિવ) & -122 \\
    \hline
    FLOOR(-157.5) & નીચે રાઉન્ડ & -158 \\
    FLOOR(157.5) & (પોઝિટિવ) & 157 \\
    \hline
    \end{tabulary}
\end{table}

\end{solutionbox}

\begin{mnemonicbox}[title={ASPRCF}]Absolute Square Power Remainder Ceiling Floor\end{mnemonicbox}

\questionmarks{4(અ)}{3}{SQLમાં ડેટા ટાઈપની યાદી બનાવો. 1.VARCHAR() અને 2.INT() ડેટા ટાઈપ ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{SQL ડેટા ટાઈપ કેટેગરીઝ:}
\begin{enumerate}
    \item ન્યુમેરિક (INT, FLOAT, DECIMAL)
    \item કેરેક્ટર (CHAR, VARCHAR)
    \item ડેટ/ટાઈમ (DATE, TIME, DATETIME)
    \item બાઈનરી (BLOB, BINARY)
    \item બૂલિયન (BOOL)
\end{enumerate}

\textbf{કોષ્ટક: VARCHAR અને INT ડેટા ટાઈપ્સ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{ડેટા ટાઈપ} & \textbf{વર્ણન} & \textbf{સાઈઝ} & \textbf{ઉદાહરણ} \\
    \hline
    VARCHAR(n) & વેરિએબલ-લેન્થ કેરેક્ટર સ્ટ્રિંગ & n કેરેક્ટર સુધી & નામ, ઈમેલ માટે VARCHAR(50) \\
    \hline
    INT & ઇન્ટિજર ન્યુમેરિક ડેટા & સામાન્ય રીતે 4 બાઈટ્સ & ID, કાઉન્ટ માટે INT \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql]
CREATE TABLE students (
    student_id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    age INT,
    email VARCHAR(100)
);
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={VIA}]Variable strings, Integers for Ages\end{mnemonicbox}

\questionmarks{4(બ)}{4}{2NF (સેકન્ડ નોર્મલ ફોર્મ) ઉદાહરણ અને ઉકેલ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{2NF વ્યાખ્યા}: એક સંબંધ 2NF માં છે જો તે 1NF માં હોય અને કોઈપણ નોન-પ્રાઈમ એટ્રિબ્યુટ કોઈપણ કેન્ડિડેટ કીના સબસેટ પર આધારિત ન હોય.

\textbf{કોષ્ટક: 2NF પહેલાં}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    student\_id & course\_id & course\_name & instructor \\
    \hline
    S1 & C1 & Database & Prof. Smith \\
    \hline
    S1 & C2 & Networking & Prof. Jones \\
    \hline
    S2 & C1 & Database & Prof. Smith \\
    \hline
    S3 & C3 & Programming & Prof. Wilson \\
    \hline
    \end{tabulary}
\end{table}

\textbf{સમસ્યા}: નોન-પ્રાઈમ એટ્રિબ્યુટ્સ (course\_name, instructor) માત્ર course\_id પર આધારિત છે, સંપૂર્ણ કી (student\_id, course\_id) પર નહીં.

\textbf{આકૃતિ: 2NF ઉકેલ}

\begin{center}
\begin{tikzpicture}[node distance=4cm]
    \node[gtu block] (enroll) {
        \textbf{ENROLLMENT} \\
        + \underline{student\_id} PK \\
        + \underline{course\_id} PK
    };
    
    \node[gtu block, right=of enroll] (course) {
        \textbf{COURSE} \\
        + \underline{course\_id} PK \\
        + course\_name \\
        + instructor
    };
    
    \draw[gtu arrow] (enroll) -- node[midway, fill=white] {references} (course);
\end{tikzpicture}
\end{center}

\textbf{કોષ્ટક: 2NF પછી}

Enrollment ટેબલ:
\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|}
    \hline
    student\_id & course\_id \\
    \hline
    S1 & C1 \\
    \hline
    S1 & C2 \\
    \hline
    S2 & C1 \\
    \hline
    S3 & C3 \\
    \hline
    \end{tabulary}
\end{table}

Course ટેબલ:
\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    course\_id & course\_name & instructor \\
    \hline
    C1 & Database & Prof. Smith \\
    \hline
    C2 & Networking & Prof. Jones \\
    \hline
    C3 & Programming & Prof. Wilson \\
    \hline
    \end{tabulary}
\end{table}

\end{solutionbox}

\begin{mnemonicbox}[title={PFPK}]Partial Functional dependency on Primary Key\end{mnemonicbox}

\questionmarks{4(ક)}{7}{Function dependency સમજાવો. Partial function dependency ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Functional Dependency}: એટ્રિબ્યુટ્સ વચ્ચેનો સંબંધ જ્યાં એક એટ્રિબ્યુટનું મૂલ્ય બીજા એટ્રિબ્યુટના મૂલ્યને નક્કી કરે છે.

\textbf{નોટેશન}: X $\rightarrow$ Y (X Y ને નક્કી કરે છે)

\textbf{Partial Functional Dependency}: જ્યારે નોન-પ્રાઈમ એટ્રિબ્યુટ કંપોઝિટ કીના સંપૂર્ણ કરતાં ભાગ પર આધારિત હોય.

\textbf{કોષ્ટક: Order Details (નોર્મલાઈઝેશન પહેલાં)}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|L|}
    \hline
    order\_id & product\_id & quantity & product\_name & price \\
    \hline
    O1 & P1 & 5 & Keyboard & 50 \\
    \hline
    O1 & P2 & 2 & Mouse & 25 \\
    \hline
    O2 & P1 & 1 & Keyboard & 50 \\
    \hline
    O3 & P3 & 3 & Monitor & 200 \\
    \hline
    \end{tabulary}
\end{table}

\textbf{Functional Dependencies:}
\begin{itemize}
    \item (order\_id, product\_id) $\rightarrow$ quantity
    \item product\_id $\rightarrow$ product\_name
    \item product\_id $\rightarrow$ price
\end{itemize}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    \node[gtu block] (key) {(order\_id, product\_id)};
    \node[gtu block, below=2cm of key] (quant) {quantity};
    
    % Partial parts
    \node[gtu block, right=4cm of key] (prod) {product\_id};
    \node[gtu block, below left=2cm and -1cm of prod] (name) {product\_name};
    \node[gtu block, below right=2cm and -1cm of prod] (price) {price};

    \draw[gtu arrow] (key) -- node[left] {પૂર્ણપણે} (quant);
    \draw[gtu arrow] (prod) -- node[left] {આંશિક} (name);
    \draw[gtu arrow] (prod) -- node[right] {આંશિક} (price);
\end{tikzpicture}
\end{center}

\textbf{ઉકેલ (નોર્મલાઈઝ્ડ ટેબલ્સ):}

Orders ટેબલ:
\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    order\_id & product\_id & quantity \\
    \hline
    O1 & P1 & 5 \\
    \hline
    O1 & P2 & 2 \\
    \hline
    O2 & P1 & 1 \\
    \hline
    O3 & P3 & 3 \\
    \hline
    \end{tabulary}
\end{table}

Products ટેબલ:
\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    product\_id & product\_name & price \\
    \hline
    P1 & Keyboard & 50 \\
    \hline
    P2 & Mouse & 25 \\
    \hline
    P3 & Monitor & 200 \\
    \hline
    \end{tabulary}
\end{table}

\end{solutionbox}

\begin{mnemonicbox}[title={PDPK}]Partial Dependency on Part of Key\end{mnemonicbox}

\questionmarks{4(અ) OR}{3}{કમાન્ડ સમજાવવો: 1) To\_Char() 2) To\_Date()}

\begin{solutionbox}

\textbf{કોષ્ટક: કન્વર્ઝન ફંક્શન્સ}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    \textbf{ફંક્શન} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\
    \hline
    TO\_CHAR() & ડેટ/નંબરને કેરેક્ટર સ્ટ્રિંગમાં રૂપાંતરિત કરે છે & TO\_CHAR(val, fmt) & TO\_CHAR(SYSDATE, 'DD-MON') \\
    \hline
    TO\_DATE() & કેરેક્ટર સ્ટ્રિંગને ડેટમાં રૂપાંતરિત કરે છે & TO\_DATE(str, fmt) & TO\_DATE('14-JUN', 'DD-MON') \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql]
SELECT TO_CHAR(SYSDATE, 'DD-MON-YYYY') FROM DUAL;
SELECT TO_DATE('2024-06-14', 'YYYY-MM-DD') FROM DUAL;
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={DCS}]Date Conversion Strings\end{mnemonicbox}

\questionmarks{4(બ) OR}{4}{Full function dependency ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Full Functional Dependency}: જ્યારે એક એટ્રિબ્યુટ કંપોઝિટ કી પર ફંક્શનલી ડિપેન્ડન્ટ હોય, અને માત્ર ભાગ પર નહીં પણ સંપૂર્ણ કી પર આધારિત હોય.

\textbf{કોષ્ટક: Exam Results}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|L|}
    \hline
    student\_id & course\_id & exam\_date & score \\
    \hline
    S1 & C1 & 2024-05-10 & 85 \\
    \hline
    S1 & C2 & 2024-05-15 & 92 \\
    \hline
    S2 & C1 & 2024-05-10 & 78 \\
    \hline
    S2 & C2 & 2024-05-15 & 88 \\
    \hline
    \end{tabulary}
\end{table}

\textbf{Full Functional Dependency:}
\begin{itemize}
    \item (student\_id, course\_id) $\rightarrow$ score (સ્કોર વિદ્યાર્થી અને કોર્સ બંને પર આધારિત છે)
\end{itemize}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    \node[gtu block] (key) {(student\_id, course\_id)};
    \node[gtu block, right=3cm of key] (score) {score};
    
    \draw[gtu arrow] (key) -- node[above] {પૂર્ણપણે નક્કી કરે છે} (score);
\end{tikzpicture}
\end{center}

\textbf{સમજૂતી}: સ્કોર એટ્રિબ્યુટ સંપૂર્ણ રીતે કંપોઝિટ કી (student\_id, course\_id) પર આધારિત છે કારણ કે:
\begin{itemize}
    \item અલગ અલગ વિદ્યાર્થીઓના એક જ કોર્સ માટે અલગ અલગ સ્કોર હોઈ શકે છે
    \item એક જ વિદ્યાર્થીના અલગ અલગ કોર્સ માટે અલગ અલગ સ્કોર હોઈ શકે છે
    \item ચોક્કસ સ્કોર જાણવા માટે આપણને student\_id અને course\_id બંનેની જરૂર પડે છે
\end{itemize}

\end{solutionbox}

\begin{mnemonicbox}[title={FCEK}]Fully dependent on Complete/Entire Key\end{mnemonicbox}

\questionmarks{4(ક) OR}{7}{નોર્મલાઇઝેશનની વ્યાખ્યા આપો. 1NF (ફર્સ્ટ નોર્મલ ફોર્મ) ઉદાહરણ અને ઉકેલ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{નોર્મલાઇઝેશન}: ડેટા રિડન્ડન્સી ઘટાડવા, ડેટા અખંડતા સુધારવા અને એનોમલીઓને દૂર કરવા માટે મોટા ટેબલને નાના સંબંધિત ટેબલમાં વિભાજિત કરીને ડેટાને વ્યવસ્થિત કરવાની પ્રક્રિયા.

\textbf{1NF વ્યાખ્યા}: એક સંબંધ 1NF માં છે જો તેના બધા એટ્રિબ્યુટ્સ માત્ર અવિભાજ્ય (એટોમિક) મૂલ્યો ધરાવતા હોય.

\textbf{કોષ્ટક: 1NF પહેલાં}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    student\_id & name & courses \\
    \hline
    S1 & John & Math, Physics \\
    \hline
    S2 & Mary & Chemistry, Biology, Physics \\
    \hline
    S3 & Tim & Computer Science \\
    \hline
    \end{tabulary}
\end{table}

\textbf{સમસ્યાઓ}:
\begin{itemize}
    \item નોન-એટોમિક મૂલ્યો (એક સેલમાં અનેક કોર્સ)
    \item ચોક્કસ કોર્સને ક્વેરી કે અપડેટ કરવું સરળ નથી
\end{itemize}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[node distance=3cm]
    \node[gtu block] (bad) {Non-1NF ટેબલ \\ (અનેક કોર્સ)};
    \node[gtu block, right=of bad] (sol) {1NF ટેબલ \\ (દરેક મૂલ્ય અલગ રોમાં)};
    
    \draw[gtu arrow] (bad) -- node[above] {ઉકેલ} (sol);
\end{tikzpicture}
\end{center}

\textbf{કોષ્ટક: 1NF પછી}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    student\_id & name & course \\
    \hline
    S1 & John & Math \\
    \hline
    S1 & John & Physics \\
    \hline
    S2 & Mary & Chemistry \\
    \hline
    S2 & Mary & Biology \\
    \hline
    S2 & Mary & Physics \\
    \hline
    S3 & Tim & Computer Science \\
    \hline
    \end{tabulary}
\end{table}

\end{solutionbox}

\begin{mnemonicbox}[title={ASAV}]Atomic Single-value Attributes only Valid\end{mnemonicbox}

\questionmarks{5(અ)}{3}{Transaction નો concept ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Transaction}: એક લૉજિકલ કાર્ય એકમ જે સંપૂર્ણપણે અમલમાં મૂકવામાં આવે અથવા સંપૂર્ણપણે રદ કરવામાં આવે.

\textbf{કોષ્ટક: Transaction ગુણધર્મો}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|}
    \hline
    \textbf{ગુણધર્મ} & \textbf{વર્ણન} \\
    \hline
    Atomicity & બધા ઓપરેશન સફળતાપૂર્વક પૂર્ણ થાય અથવા કોઈ નહીં \\
    \hline
    Consistency & સુસંગત સ્થિતિમાં રહે \\
    \hline
    Isolation & એકબીજામાં દખલ ન કરે \\
    \hline
    Durability & ફેરફાર ટકી રહે \\
    \hline
    \end{tabulary}
\end{table}

\begin{lstlisting}[language=sql]
BEGIN TRANSACTION;
    -- અકાઉન્ટ A માંથી 500 કાઢવા
    UPDATE accounts SET balance = balance - 500 WHERE account_id = 'A';
    -- અકાઉન્ટ B માં 500 ઉમેરવા
    UPDATE accounts SET balance = balance + 500 WHERE account_id = 'B';
COMMIT;
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={ACID}]Atomicity Consistency Isolation Durability\end{mnemonicbox}

\questionmarks{5(બ)}{4}{equi join સિન્ટેક્સ અને ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Equi Join}: સમાનતા તુલના ઓપરેટરનો ઉપયોગ કરે છે.

\begin{lstlisting}[language=sql]
SELECT e.name, d.dept_name
FROM employees e, departments d
WHERE e.dept_id = d.dept_id;
\end{lstlisting}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    \node[gtu block] (e1) {Emp: Alice (Dept 1)};
    \node[gtu block, below=0.5cm of e1] (e2) {Emp: Bob (Dept 2)};
    
    \node[gtu block, right=4cm of e1] (d1) {Dept 1: HR};
    \node[gtu block, right=4cm of e2] (d2) {Dept 2: IT};
    
    \draw[gtu arrow] (e1) -- (d1);
    \draw[gtu arrow] (e2) -- (d2);
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={MEET}]Match Equal Elements Every Table\end{mnemonicbox}

\questionmarks{5(ક)}{7}{Conflict serializability વિસ્તારથી સમજાવો.}

\begin{solutionbox}

\textbf{Conflict Serializability}: સમાંતર ટ્રાન્ઝેક્શનની સાચી કાર્યપ્રણાલી સુનિશ્ચિત કરવાની એક રીત, જે એ ગેરંટી આપે છે કે એક્ઝિક્યુશન શેડ્યૂલ કોઈ સીરિયલ એક્ઝિક્યુશનના સમકક્ષ છે.

\textbf{કોષ્ટક: Conflict Serializability ના મુખ્ય ખ્યાલો}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|}
    \hline
    \textbf{ખ્યાલ} & \textbf{વર્ણન} \\
    \hline
    Conflicting Operations & બે ઓપરેશન કોન્ફ્લિક્ટ કરે છે જો તેઓ એક જ ડેટા આઇટમ ઍક્સેસ કરે અને ઓછામાં ઓછું એક રાઇટ હોય \\
    \hline
    Precedence Graph & સંઘર્ષો દર્શાવતો ડાયરેક્ટેડ ગ્રાફ \\
    \hline
    Conflict Serializable & શેડ્યૂલ conflict serializable છે જો તેનો precedence graph એસાઇક્લિક હોય \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    % Logic
    \node[gtu block] (start) {શેડ્યૂલ};
    \node[gtu block, right=2cm of start] (check) {સાયકલ ચેક કરો};
    \node[gtu block, right=2cm of check] (res) {Serializable (જો એસાઇક્લિક હોય)};
    \draw[gtu arrow] (start) -- (check);
    \draw[gtu arrow] (check) -- (res);

    % Graphs
    \node[below=2cm of start] (t1) {T1};
    \node[right=1cm of t1] (t2) {T2};
    \draw[gtu arrow] (t1) -- node[above] {Serializable} (t2);
    
    \node[below=2cm of res] (t4) {T4};
    \node[right=1cm of t4] (t5) {T5};
    \draw[gtu arrow] (t4) to[bend left] (t5);
    \draw[gtu arrow] (t5) to[bend left] (t4);
    \node[below=0.5cm of t4] {સાયકલ (Serializable નથી)};
\end{tikzpicture}
\end{center}

\textbf{ઉદાહરણ:}
ટ્રાન્ઝેક્શન T1 અને T2 ધ્યાનમાં લો:
\begin{itemize}
    \item T1: Read(A), Write(A)
    \item T2: Read(A), Write(A)
\end{itemize}
શેડ્યૂલ S1: R1(A), W1(A), R2(A), W2(A) - Serializable (T1 $\rightarrow$ T2 સમકક્ષ)
શેડ્યૂલ S2: R1(A), R2(A), W1(A), W2(A) - Not serializable (precedence ગ્રાફમાં સાયકલ છે)

\textbf{Conflict Serializability નક્કી કરવાના પગલાં:}
\begin{enumerate}
    \item બધા કોન્ફ્લિક્ટિંગ ઓપરેશન જોડીઓ ઓળખો
    \item precedence ગ્રાફ બનાવો
    \item ચેક કરો કે ગ્રાફમાં સાયકલ છે કે નહીં
    \item જો સાયકલ ન હોય, તો શેડ્યૂલ conflict serializable છે
\end{enumerate}

\end{solutionbox}

\begin{mnemonicbox}[title={COPS}]Conflicts, Operations, Precedence, Serializability\end{mnemonicbox}

\questionmarks{5(અ) OR}{3}{Transaction નાં ગુણધર્મો ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{ટ્રાન્ઝેક્શનના ACID ગુણધર્મો:}

\textbf{કોષ્ટક: ACID ગુણધર્મો}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    \textbf{ગુણધર્મ} & \textbf{વર્ણન} & \textbf{ઉદાહરણ} \\
    \hline
    Atomicity & બધા ઓપરેશન સફળતાપૂર્વક પૂર્ણ થાય અથવા કોઈ નહીં & બેંક ટ્રાન્સફર - ડેબિટ અને ક્રેડિટ બંને એકસાથે સફળ થવા જોઈએ અથવા નિષ્ફળ થવા જોઈએ \\
    \hline
    Consistency & ટ્રાન્ઝેક્શન પહેલાં અને પછી ડેટાબેઝ સુસંગત સ્થિતિમાં રહે & \$100 ટ્રાન્સફર કર્યા પછી, સિસ્ટમમાં કુલ પૈસા અપરિવર્તિત રહે \\
    \hline
    Isolation & સમાંતર ટ્રાન્ઝેક્શન એકબીજામાં દખલ ન કરે & ટ્રાન્ઝેક્શન A ટ્રાન્ઝેક્શન B ના આંશિક પરિણામો જોતું નથી \\
    \hline
    Durability & એકવાર કમિટ થયા પછી, ફેરફારો કાયમી છે & પાવર ફેલ્યોર પણ કમિટેડ ટ્રાન્ઝેક્શનને ખોવાતું નથી \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}
\begin{center}
\begin{tikzpicture}
    \node[gtu block] (acid) {ACID};
    \node[gtu block, below left=1.5cm of acid] (a) {Atomicity};
    \node[gtu block, below right=1.5cm of acid] (d) {Durability};
    \node[gtu block, left=1.5cm of acid] (c) {Consistency};
    \node[gtu block, right=1.5cm of acid] (i) {Isolation};
    \draw[gtu arrow] (acid) -- (a);
    \draw[gtu arrow] (acid) -- (c);
    \draw[gtu arrow] (acid) -- (i);
    \draw[gtu arrow] (acid) -- (d);
\end{tikzpicture}
\end{center}

\textbf{ઉદાહરણ:}
\begin{lstlisting}[language=sql]
-- ATM Withdrawal ટ્રાન્ઝેક્શન
BEGIN TRANSACTION;
    -- બેલેન્સ ચેક કરો
    SELECT balance FROM accounts WHERE account_id = 'A123';
    
    -- જો પૂરતું હોય, તો બેલેન્સ અપડેટ કરો
    UPDATE accounts SET balance = balance - 100 WHERE account_id = 'A123';
    
    -- ઉપાડની નોંધ કરો
    INSERT INTO transactions (account_id, type, amount, date)
    VALUES ('A123', 'WITHDRAWAL', 100, SYSDATE);
    
    -- જો બધા ઓપરેશન સફળ હોય તો
    COMMIT;
    -- જો કોઈ ઓપરેશન નિષ્ફળ જાય તો
    -- ROLLBACK;
END TRANSACTION;
\end{lstlisting}

\end{solutionbox}

\begin{mnemonicbox}[title={ACID}]Atomicity Consistency Isolation Durability\end{mnemonicbox}

\questionmarks{5(બ) OR}{4}{ઉપર Q.5 (b) માં આપેલ "Faculty" અને "CT" ટેબલનો ઉપયોગ કરીને...}

\begin{solutionbox}

\textbf{Queries:}
\begin{enumerate}
    \item Faculty અથવા CT (UNION)
    \item Faculty અને CT (INTERSECT)
    \item માત્ર Faculty (MINUS)
    \item માત્ર CT (MINUS)
\end{enumerate}

\begin{lstlisting}[language=sql]
SELECT FacultyName FROM Faculty UNION SELECT CTName FROM CT;
SELECT FacultyName FROM Faculty INTERSECT SELECT CTName FROM CT;
SELECT FacultyName FROM Faculty MINUS SELECT CTName FROM CT;
SELECT CTName FROM CT MINUS SELECT FacultyName FROM Faculty;
\end{lstlisting}

\begin{center}
\begin{tikzpicture}
    \node[circle, draw, minimum size=3cm, label=135:Faculty] (fac) {};
    \node[circle, draw, minimum size=3cm, label=45:CT, right=-1.5cm of fac] (ct) {};
    
    \node at (fac) [xshift=-0.8cm] {Ronak, Kinjal};
    \node at (ct) [xshift=0.8cm] {Jigar, Gunjan};
    \node at (fac) [xshift=1.5cm] {Prakash, Rakesh}; 
\end{tikzpicture}
\end{center}

\end{solutionbox}

\begin{mnemonicbox}[title={UIMM}]Union Intersect Minus Minus\end{mnemonicbox}

\questionmarks{5(ક) OR}{7}{View serializability વિસ્તારથી સમજાવો.}

\begin{solutionbox}

\textbf{View Serializability}: એક શેડ્યૂલ view serializable છે જો તે કોઈ સીરિયલ શેડ્યૂલના view equivalent હોય, એટલે કે તે ડેટાબેઝની એક જ "દૃશ્ય" (અથવા અંતિમ સ્થિતિ) ઉત્પન્ન કરે.

\textbf{કોષ્ટક: Conflict Serializability સાથે તુલના}

\begin{table}[H]
    \centering
    \begin{tabulary}{\linewidth}{|L|L|L|}
    \hline
    \textbf{પાસું} & \textbf{View Serializability} & \textbf{Conflict Serializability} \\
    \hline
    વ્યાખ્યા & રીડ અને રાઇટના અંતિમ પરિણામો પર આધારિત & ઓપરેશન વચ્ચેના કોન્ફ્લિક્ટ પર આધારિત \\
    \hline
    શરત & પ્રારંભિક રીડ, અંતિમ લખાણ, અને રીડ-રાઇટ ડિપેન્ડન્સી જાળવે છે & ઓપરેશન વચ્ચેના બધા કોન્ફ્લિક્ટ જાળવે છે \\
    \hline
    સ્કોપ & શેડ્યૂલનો વ્યાપક વર્ગ & view serializable શેડ્યૂલનો સબસેટ \\
    \hline
    ટેસ્ટિંગ & પરીક્ષણ વધુ જટિલ & precedence ગ્રાફ વડે ટેસ્ટ કરી શકાય \\
    \hline
    \end{tabulary}
\end{table}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}
    \draw (0,0) ellipse (4cm and 2cm);
    \node at (0, 1.5) {તમામ શેડ્યૂલ};
    
    \draw (0,-0.5) ellipse (3cm and 1.2cm);
    \node at (0, 0.2) {View Serializable};
    
    \draw (0,-1) ellipse (2cm and 0.5cm);
    \node at (0, -1) {Conflict Serializable};
\end{tikzpicture}
\end{center}

\textbf{View Equivalence શરતો:}
\begin{enumerate}
    \item પ્રારંભિક રીડ: જો T1 શેડ્યૂલ S1 માં ડેટા આઇટમ A ની પ્રારંભિક વેલ્યુ વાંચે છે, તો તેણે S2 માં પણ પ્રારંભિક વેલ્યુ વાંચવી જોઈએ.
    \item અંતિમ રાઇટ: જો T1 શેડ્યૂલ S1 માં ડેટા આઇટમ A પર અંતિમ લખાણ કરે છે, તો તેણે S2 માં પણ અંતિમ લખાણ કરવું જોઈએ.
    \item રીડ-રાઇટ ડિપેન્ડન્સી: જો T1 શેડ્યૂલ S1 માં T2 દ્વારા લખાયેલ A ની વેલ્યુ વાંચે છે, તો તેણે S2 માં પણ T2 દ્વારા લખાયેલ વેલ્યુ વાંચવી જોઈએ.
\end{enumerate}

\textbf{ઉદાહરણ - View Serializable પરંતુ Conflict Serializable નહીં:}
બ્લાઇન્ડ રાઇટ (વાંચ્યા વિના લખાણ) ધરાવતા ટ્રાન્ઝેક્શન ધ્યાનમાં લો:
\begin{itemize}
    \item T1: W1(A)
    \item T2: W2(A)
\end{itemize}
શેડ્યૂલ S: W1(A), W2(A) - T1 $\rightarrow$ T2 અને T2 $\rightarrow$ T1 બંને માટે view serializable છે (અંતિમ લખાણ હંમેશા T2 દ્વારા થાય છે)
પરંતુ W1(A) અને W2(A) કોન્ફ્લિક્ટ કરે છે, એટલે કોન્ફ્લિક્ટ ગ્રાફમાં બંને દિશામાં એજ હશે.

\end{solutionbox}

\begin{mnemonicbox}[title={IRF}]Initial reads, Result writes, Final view\end{mnemonicbox}

\end{document}
