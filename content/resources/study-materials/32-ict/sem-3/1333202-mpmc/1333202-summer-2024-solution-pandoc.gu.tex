\documentclass[10pt,a4paper]{article}
\input{../../../../../../latex-templates/gtu-solutions/preamble.tex}
\input{../../../../../../latex-templates/gtu-solutions/gujarati-boxes.tex}

\begin{document}

\begin{center}
{\Huge\bfseries\color{headcolor} Subject Name (Gujarati)}\\[5pt]
{\LARGE 1333202 -- Summer 2024}\\[3pt]
{\large Semester 1 Study Material}\\[3pt]
{\normalsize\textit{Detailed Solutions and Explanations}}
\end{center}

\vspace{10pt}

\subsection*{પ્રશ્ન 1(અ) [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-1uxa85-3-uxa97uxaa3}

\textbf{8051 માઇક્રોકંટ્રોલરના સામાન્ય ફીચર્સની યાદી બનાવો.}

\begin{solutionbox}

\textbf{ટેબલ: 8051 માઇક્રોકંટ્રોલરના સામાન્ય ફીચર્સ}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
ફીચર & વર્ણન \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{On-chip Oscillator} & બિલ્ટ-ઇન ક્લોક જનરેટર સર્કિટ \\
\textbf{Program Memory} & કોડ સ્ટોરેજ માટે 4KB આંતરિક ROM \\
\textbf{Data Memory} & 128 bytes આંતરિક RAM \\
\textbf{I/O Ports} & 4 દ્વિદિશીય 8-bit પોર્ટ્સ (P0-P3) \\
\textbf{Timers/Counters} & બે 16-bit Timer/Counter યુનિટ્સ \\
\textbf{Serial Port} & Full duplex UART કમ્યુનિકેશન \\
\textbf{Interrupts} & પ્રાથમિકતા સાથે 5 interrupt સ્રોતો \\
\textbf{SFRs} & કંટ્રોલ માટે Special Function Registers \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``On Program Data I/O Timers Serial Interrupts
SFRs''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 1(બ) [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-1uxaac-4-uxa97uxaa3}

\textbf{T-State, Machine Cycle, Instruction Cycle અને Opcode ની વ્યાખ્યા
આપો.}

\begin{solutionbox}

\textbf{ટેબલ: માઇક્રોપ્રોસેસર ટાઇમિંગ વ્યાખ્યાઓ}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2727}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4091}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3182}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
શબ્દ
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
વ્યાખ્યા
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
અવધિ
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{T-State} & સિસ્ટમ ક્લોકનો એક સમયગાળો & મૂળભૂત ટાઇમિંગ યુનિટ \\
\textbf{Machine Cycle} & એક મેમરી ઓપરેશન પૂરું કરવાનો સમય & 3-6 T-states \\
\textbf{Instruction Cycle} & instruction fetch, decode અને execute કરવાનો
સમય & 1-4 Machine cycles \\
\textbf{Opcode} & instruction પ્રકાર દર્શાવતો operation કોડ & 1-3 bytes \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{T-State}: માઇક્રોપ્રોસેસર ઓપરેશનનો સૌથી નાનો સમય એકમ
\item
  \textbf{Machine Cycle}: મેમરી એક્સેસ માટે અનેક T-states ધરાવે છે
\item
  \textbf{Instruction Cycle}: સંપૂર્ણ instruction execution નો સમય
\item
  \textbf{Opcode}: વિશિષ્ટ instruction ઓળખતો બાઇનરી કોડ
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Time Machine Instruction Operation''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 1(ક) [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-1uxa95-7-uxa97uxaa3}

\textbf{Von-Neumann અને Harvard Architecture ની સરખામણી કરો.}

\begin{solutionbox}

\textbf{ટેબલ: Von-Neumann vs Harvard Architecture સરખામણી}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2903}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4194}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2903}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
પરિમાણ
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Von-Neumann
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Harvard
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Memory Organization} & કોડ અને ડેટા માટે એક જ મેમરી & કોડ અને ડેટા માટે
અલગ મેમરી \\
\textbf{Bus Structure} & એક જ bus સિસ્ટમ & ડ્યુઅલ bus સિસ્ટમ \\
\textbf{Speed} & bus sharing થી ધીમી & parallel access થી ઝડપી \\
\textbf{Cost} & ઓછી કિંમતે અમલીકરણ & ડ્યુઅલ મેમરી થી વધારે કિંમત \\
\textbf{Flexibility} & વધારે flexible મેમરી ઉપયોગ & ઓછી flexibility,
નિશ્ચિત allocation \\
\textbf{Examples} & 8085, x86 processors & 8051, DSP processors \\
\end{longtable}
}

\begin{verbatim}
graph TB
    subgraph "Von{-Neumann Architecture"}
        CPU1[CPU] {{-}{-} MEM1[Single Memorybr/Code + Data]}
    end
    
    subgraph "Harvard Architecture"
        CPU2[CPU] {{-}{-} PMEM[Program Memory]}
        CPU2 {{-}{-} DMEM[Data Memory]}
    end
\end{verbatim}

\textbf{મુખ્ય તફાવતો:}

\begin{itemize}
\tightlist
\item
  \textbf{Memory Access}: Von-Neumann sequential access, Harvard
  simultaneous access
\item
  \textbf{Performance}: embedded applications માટે Harvard ઝડપી છે
\item
  \textbf{Applications}: general computing માટે Von-Neumann, real-time
  systems માટે Harvard
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Von-Single Harvard-Dual''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 1(ક) OR [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-1uxa95-or-7-uxa97uxaa3}

\textbf{Microcomputer System ને block diagram સાથે સમજાવો.}

\begin{solutionbox}

\textbf{Microcomputer System ના ઘટકો:}

\begin{verbatim}
graph TB
    subgraph "Microcomputer System"
    direction TB
        CPU[Central Processing Unit{br/{-} Control Unitbr/{-} ALUbr/{-} Registers] }
        MEM[Memory Unit{br/{-} RAMbr/{-} ROM]}
        IO[Input/Output Unit{br/{-} Keyboardbr/{-} Displaybr/{-} Ports]}
        SYS[System Bus{br/{-} Address Busbr/{-} Data Busbr/{-} Control Bus]}
        
        CPU {{-}{-} SYS}
        MEM {{-}{-} SYS}
        IO {{-}{-} SYS}
    end
\end{verbatim}

\textbf{ટેબલ: Microcomputer System ના ઘટકો}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
ઘટક & કાર્ય & ઉદાહરણો \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{CPU} & કેન્દ્રીય પ્રોસેસિંગ અને નિયંત્રણ & 8085, 8086 \\
\textbf{Memory} & પ્રોગ્રામ અને ડેટા સ્ટોરેજ & RAM, ROM, EPROM \\
\textbf{I/O Unit} & બાહ્ય દુનિયા સાથે interface & Keyboard, Display \\
\textbf{System Bus} & ડેટા ટ્રાન્સફર માર્ગ & Address, Data, Control \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{CPU}: instructions execute કરે છે અને સિસ્ટમ ઓપરેશન control કરે છે
\item
  \textbf{Memory}: પ્રોસેસિંગ માટે programs અને data store કરે છે
\item
  \textbf{I/O}: બાહ્ય devices સાથે કમ્યુનિકેશન પૂરું પાડે છે
\item
  \textbf{Bus}: ડેટા ટ્રાન્સફર માટે બધા components ને જોડે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``CPU Memory I/O Bus''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 2(અ) [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-2uxa85-3-uxa97uxaa3}

\textbf{8085 Microprocessor માં Bus organization દોરો.}

\begin{solutionbox}

\begin{verbatim}
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
    |   8085   |
    |   CPU    |
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
    |         |
    v         v
+{-{-}{-}{-}{-}{-}{-}{-}+ +{-}{-}{-}{-}{-}{-}{-}{-}+}
|Address | |  Data  |
|  Bus   | |  Bus   |
|16{-bit  | | 8{-}bit  |}
+{-{-}{-}{-}{-}{-}{-}{-}+ +{-}{-}{-}{-}{-}{-}{-}{-}+}
    |         |
    v         v
+{-{-}{-}{-}{-}{-}{-}{-}+ +{-}{-}{-}{-}{-}{-}{-}{-}+}
|Memory  | |  I/O   |
|System  | |Devices |
+{-{-}{-}{-}{-}{-}{-}{-}+ +{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{ટેબલ: 8085 Bus Organization}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Bus પ્રકાર & Width & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Address Bus} & 16-bit & મેમરી addressing (64KB) \\
\textbf{Data Bus} & 8-bit & ડેટા ટ્રાન્સફર \\
\textbf{Control Bus} & Multiple & કંટ્રોલ સિગ્નલ્સ \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``Address Data Control''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 2(બ) [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-2uxaac-4-uxa97uxaa3}

\textbf{8085 માં ઉપયોગમાં લેવાતા Flags ની સૂચી બનાવો અને દરેક flag નું કાર્ય
સમજાવો.}

\begin{solutionbox}

\textbf{ટેબલ: 8085 Flags Register}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
Flag & નામ & Bit Position & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{S} & Sign & D7 & પરિણામ નકારાત્મક હોય તો set \\
\textbf{Z} & Zero & D6 & પરિણામ શૂન્ય હોય તો set \\
\textbf{AC} & Auxiliary Carry & D4 & bit 3 થી 4 માં carry હોય તો set \\
\textbf{P} & Parity & D2 & પરિણામમાં even parity હોય તો set \\
\textbf{CY} & Carry & D0 & carry/borrow થાય તો set \\
\end{longtable}
}

\begin{verbatim}
D7  D6  D5  D4  D3  D2  D1  D0
+{-{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+}
| S | Z | {- |AC | {-} | P | {-} |CY |}
+{-{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+}
\end{verbatim}

\begin{itemize}
\tightlist
\item
  \textbf{Sign Flag}: નકારાત્મક પરિણામ દર્શાવે છે (MSB = 1)
\item
  \textbf{Zero Flag}: arithmetic પરિણામ શૂન્ય થાય ત્યારે set થાય છે
\item
  \textbf{Auxiliary Carry}: BCD arithmetic operations માટે ઉપયોગ થાય છે
\item
  \textbf{Parity Flag}: પરિણામમાં 1's ની સમ સંખ્યા તપાસે છે
\item
  \textbf{Carry Flag}: arithmetic operations માં overflow દર્શાવે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Sign Zero Auxiliary Parity Carry''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 2(ક) [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-2uxa95-7-uxa97uxaa3}

\textbf{8085 નો Block Diagram દોરો અને સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
graph TB
    subgraph "8085 Microprocessor"
        ALU[Arithmetic Logic Unit{br/8{-}bit operations]}
        ACC[Accumulator{br/Register A]}
        REG[General Purpose{br/Registers B,C,D,E,H,L]}
        PC[Program Counter{br/16{-}bit]}
        SP[Stack Pointer{br/16{-}bit]}
        FLAGS[Flag Register{br/5 flags]}
        CU[Control Unit{br/Instruction decode]}
        
        ALU {{-}{-} ACC}
        REG {{-}{-} ALU}
        PC {-{-} CU}
        CU {-{-} ALU}
        FLAGS {{-}{-} ALU}
    end
    
    EXT["External Buses{br/Address(16), Data(8), Control"]}
    8085 {{-}{-} EXT}
\end{verbatim}

\textbf{ટેબલ: 8085 Block Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Block & કાર્ય & Size \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{ALU} & Arithmetic અને logical operations & 8-bit \\
\textbf{Accumulator} & operations માટે પ્રાથમિક register & 8-bit \\
\textbf{Registers} & ડેટા સ્ટોરેજ (B,C,D,E,H,L) & દરેક 8-bit \\
\textbf{Program Counter} & આગલી instruction તરફ point કરે છે & 16-bit \\
\textbf{Stack Pointer} & stack ના top તરફ point કરે છે & 16-bit \\
\textbf{Control Unit} & Instruction decode અને control & - \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Data Flow}: PC દ્વારા instructions fetch, CU દ્વારા decode, ALU
  માં execute
\item
  \textbf{Register Operations}: Accumulator ALU સાથે કાર્ય કરે છે, બીજા
  registers ડેટા store કરે છે
\item
  \textbf{Address Generation}: PC અને SP 16-bit addresses આપે છે
\item
  \textbf{Control Signals}: CU timing અને control signals generate કરે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``ALU Accumulator Registers Program Stack Control''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 2(અ) OR [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-2uxa85-or-3-uxa97uxaa3}

\textbf{Microprocessor માં Instruction Fetching, Decoding અને Execution
Operation સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
sequenceDiagram
    participant PC as Program Counter
    participant MEM as Memory
    participant IR as Instruction Register
    participant CU as Control Unit
    participant ALU as ALU
    
    PC{-MEM: Send address}
    MEM{-IR: Fetch instruction}
    IR{-CU: Send opcode}
    CU{-ALU: Generate control signals}
    ALU{-ALU: Execute operation}
\end{verbatim}

\textbf{ટેબલ: Instruction Cycle Phases}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Phase & Operation & Duration \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Fetch} & મેમરીમાંથી instruction મેળવો & 1 machine cycle \\
\textbf{Decode} & Instruction opcode નું અર્થઘટન & Execute નો ભાગ \\
\textbf{Execute} & જરૂરી operation કરો & 1-3 machine cycles \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``Fetch Decode Execute''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 2(બ) OR [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-2uxaac-or-4-uxa97uxaa3}

\textbf{8085 માં Lower order Address અને Data lines નું Demultiplexing શું છે?
આકૃતિની મદદથી સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
     8085
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|  AD7{-AD0    |  Multiplexed}
+{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+  Address/Data}
       |
       v
+{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+}
|    ALE      |  Address Latch Enable
+{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+}
       |
       v
+{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+}
|   74LS373   |  Latch IC
+{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+}
   |       |
   v       v
A7{-A0    D7{-}D0}
Address   Data
\end{verbatim}

\textbf{Demultiplexing Process:}

\begin{itemize}
\tightlist
\item
  \textbf{ALE Signal}: address અને data ના વિભાજનને control કરે છે
\item
  \textbf{Latch IC}: ALE high હોય ત્યારે 74LS373 address store કરે છે
\item
  \textbf{Timing}: પહેલા address આવે છે, પછી same lines પર data આવે છે
\end{itemize}

\textbf{ટેબલ: Demultiplexing Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Component & કાર્ય & Timing \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{ALE} & Address Latch Enable signal & T1 દરમિયાન high \\
\textbf{74LS373} & Octal latch IC & A7-A0 store કરે છે \\
\textbf{AD7-AD0} & Multiplexed lines & પહેલા Address પછી Data \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``Address Latch Enable Demultiplexes Lines''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 2(ક) OR [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-2uxa95-or-7-uxa97uxaa3}

\textbf{8085 નો Pin Diagram દોરો અને સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
        8085 PIN DIAGRAM
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
X1  |1               40| VCC
X2  |2               39| HOLD
RST |3               38| HLDA
SOD |4               37| CLK
SID |5               36| RESET IN
TRAP|6               35| READY
RST7|7               34| IO/M
RST6|8               33| S1
RST5|9               32| RD
INTR|10              31| WR
INTA|11              30| ALE
AD0 |12              29| S0
AD1 |13              28| A15
AD2 |14              27| A14
AD3 |15              26| A13
AD4 |16              25| A12
AD5 |17              24| A11
AD6 |18              23| A10
AD7 |19              22| A9
VSS |20              21| A8
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{ટેબલ: 8085 Pin કાર્યો}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Pin Group & કાર્ય & Count \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Address Bus} & A8-A15 (ઉચ્ચ ક્રમ) & 8 pins \\
\textbf{Address/Data} & AD0-AD7 (Multiplexed) & 8 pins \\
\textbf{Control Signals} & ALE, RD, WR, IO/M & 4 pins \\
\textbf{Interrupts} & TRAP, RST7.5, RST6.5, RST5.5, INTR & 5 pins \\
\textbf{Power} & VCC, VSS & 2 pins \\
\textbf{Clock} & X1, X2, CLK & 3 pins \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Address Lines}: 16-bit addressing ક્ષમતા (64KB)
\item
  \textbf{Data Lines}: 8-bit ડેટા ટ્રાન્સફર
\item
  \textbf{Control Lines}: મેમરી અને I/O ઓપરેશન કંટ્રોલ
\item
  \textbf{Interrupt Lines}: હાર્ડવેર interrupt handling
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Address Data Control Interrupt Power Clock''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 3(અ) [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-3uxa85-3-uxa97uxaa3}

\textbf{8051 નો IP SFR દોરો અને દરેક bit નું કાર્ય સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
IP Register (Interrupt Priority) {- Address B8H}
MSB                           LSB
+{-{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}{-}+{-}{-}{-}+{-}{-}{-}{-}+{-}{-}{-}{-}+{-}{-}{-}{-}+}
| {- | {-} | {-} | PT2| PS| PT1| PX1| PX0|}
+{-{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}{-}+{-}{-}{-}+{-}{-}{-}{-}+{-}{-}{-}{-}+{-}{-}{-}{-}+}
 D7  D6  D5  D4  D3  D2  D1  D0
\end{verbatim}

\textbf{ટેબલ: IP Register Bit કાર્યો}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Bit & નામ & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{D4} & PT2 & Timer 2 interrupt priority \\
\textbf{D3} & PS & Serial port interrupt priority \\
\textbf{D2} & PT1 & Timer 1 interrupt priority \\
\textbf{D1} & PX1 & External interrupt 1 priority \\
\textbf{D0} & PX0 & External interrupt 0 priority \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Priority Levels}: 1 = High priority, 0 = Low priority
\item
  \textbf{Default}: બધા interrupts low priority (00H)
\item
  \textbf{Usage}: High priority interrupt માટે bit 1 કરો
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Timer2 Serial Timer1 External1 External0''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 3(બ) [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-3uxaac-4-uxa97uxaa3}

\textbf{8051 માટે Timer/Counter Logic diagram દોરો અને સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
graph TB
    subgraph "Timer/Counter Logic"
        OSC[System Clock{br/12] {-}{-} MUX1\{Timer/Counterbr/Mode Select\}}
        T0PIN[T0 Pin{br/External] {-}{-} MUX1}
        MUX1 {-{-} TH0[TH0 Registerbr/High Byte]}
        TH0 {-{-} TL0[TL0 Registerbr/Low Byte]}
        TL0 {-{-} OVF[Overflowbr/Flag TF0]}
        
        TMOD[TMOD Register{br/Mode Control] {-}{-} MUX1}
        TCON[TCON Register{br/Control Bits] {-}{-} MUX1}
    end
\end{verbatim}

\textbf{ટેબલ: Timer Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Component & કાર્ય & Size \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{TH0/TL0} & Timer 0 high/low byte registers & દરેક 8-bit \\
\textbf{TMOD} & Timer mode register & 8-bit \\
\textbf{TCON} & Timer control register & 8-bit \\
\textbf{TF0} & Timer 0 overflow flag & 1-bit \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Clock Source}: આંતરિક (system clock/12) અથવા બાહ્ય (T0 pin)
\item
  \textbf{Operation}: લોડ કરેલા મૂલ્યથી FFH સુધી count કરે છે
\item
  \textbf{Overflow}: TF0 flag set કરે છે અને interrupt generate કરે છે
\item
  \textbf{Modes}: 4 અલગ અલગ timer modes ઉપલબ્ધ છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Timer High-Low Mode Control Flag''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 3(ક) [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-3uxa95-7-uxa97uxaa3}

\textbf{8051 નો Block Diagram દોરો અને સમજાવો.}

\begin{solutionbox}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    subgraph "8051 Microcontroller"
            direction TB
        CPU[8{-bit CPU{}br/{}ALU + Control]}
        ROM[Program Memory{br/{}4KB ROM]}
        RAM[Data Memory{br/{}128B RAM]}
        
        T0[Timer 0{br/{}16{-}bit]}
        T1[Timer 1{br/{}16{-}bit]}
        UART[Serial Port{br/{}Full Duplex]}
        
        P0[Port 0{br/{}8{-}bit I/O]}
        P1[Port 1{br/{}8{-}bit I/O]}
        P2[Port 2{br/{}8{-}bit I/O]}
        P3[Port 3{br/{}8{-}bit I/O]}
        
        INT[Interrupt{br/{}System]}
        OSC[Oscillator{br/{}Clock Gen]}
        
        CPU {{-}{-}{} ROM}
        CPU {{-}{-}{} RAM}
        CPU {{-}{-}{} T0}
        CPU {{-}{-}{} T1}
        CPU {{-}{-}{} UART}
        CPU {{-}{-}{} P0}
        CPU {{-}{-}{} P1}
        CPU {{-}{-}{} P2}
        CPU {{-}{-}{} P3}
        CPU {{-}{-}{} INT}
        OSC {-{-}{} CPU}
    end
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\textbf{ટેબલ: 8051 Block Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Block & કાર્ય & વિશેષતા \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{CPU} & કેન્દ્રીય પ્રોસેસિંગ યુનિટ & 8-bit processor \\
\textbf{Program Memory} & કોડ સ્ટોરેજ & 4KB આંતરિક ROM \\
\textbf{Data Memory} & વેરિયેબલ સ્ટોરેજ & 128 bytes RAM \\
\textbf{I/O Ports} & બાહ્ય interface & 4 ports (32 I/O lines) \\
\textbf{Timers} & ટાઇમિંગ ઓપરેશન્સ & 2 \times 16-bit timers \\
\textbf{Serial Port} & કમ્યુનિકેશન & Full duplex UART \\
\textbf{Interrupts} & Event handling & 5 interrupt sources \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Architecture}: program/data મેમરી માટે અલગ Harvard architecture
\item
  \textbf{I/O Capability}: 32 દ્વિદિશીય I/O lines
\item
  \textbf{On-chip Features}: Timers, serial port, interrupt system
\item
  \textbf{Memory}: ડેટા માટે Von-Neumann, પ્રોગ્રામ માટે Harvard
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``CPU Program Data I/O Timer Serial Interrupt''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 3(અ) OR [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-3uxa85-or-3-uxa97uxaa3}

\textbf{8051 નો PCON SFR દોરો અને દરેક bit નું કાર્ય સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
PCON Register (Power Control) {- Address 87H}
MSB                           LSB
+{-{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+}
|SMOD| {- | {-} | {-} |GF1|GF0| PD|IDL|}
+{-{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+{-}{-}{-}+}
 D7  D6  D5  D4  D3  D2  D1  D0
\end{verbatim}

\textbf{ટેબલ: PCON Register Bit કાર્યો}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Bit & નામ & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{D7} & SMOD & Serial port mode modifier \\
\textbf{D3} & GF1 & General purpose flag bit 1 \\
\textbf{D2} & GF0 & General purpose flag bit 0 \\
\textbf{D1} & PD & Power down mode control \\
\textbf{D0} & IDL & Idle mode control \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{SMOD}: set થાય ત્યારે serial port baud rate બમણો કરે છે
\item
  \textbf{GF1, GF0}: યુઝર-ડિફાઇન્ડ flag bits
\item
  \textbf{PD}: power-down mode સક્રિય કરે છે
\item
  \textbf{IDL}: idle mode સક્રિય કરે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Serial General Power Idle''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 3(બ) OR [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-3uxaac-or-4-uxa97uxaa3}

\textbf{8051 Serial communication Mode 1 માં, XTAL=11.0592 MHz માટે, 9600
અને 4800 baud rate મેળવવા માટે TH1 ની કિંમત શોધો.}

\begin{solutionbox}

\textbf{Mode 1 Baud Rate માટે સૂત્ર:}

\begin{verbatim}
Baud Rate = (2^SMOD/32) \times (Timer1 Overflow Rate)
Timer1 Overflow Rate = XTAL/(12 \times (256 - TH1))
\end{verbatim}

\textbf{9600 Baud Rate માટે:}

\begin{verbatim}
9600 = (1/32) \times (11059200/(12 \times (256 - TH1)))
9600 = 28800/(256 - TH1)
256 - TH1 = 3
TH1 = 253 = FDH
\end{verbatim}

\textbf{4800 Baud Rate માટે:}

\begin{verbatim}
4800 = (1/32) \times (11059200/(12 \times (256 - TH1)))
4800 = 28800/(256 - TH1)
256 - TH1 = 6
TH1 = 250 = FAH
\end{verbatim}

\textbf{ટેબલ: Baud Rates માટે TH1 મૂલ્યો}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Baud Rate & TH1 મૂલ્ય (Hex) & TH1 મૂલ્ય (Decimal) \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{9600} & FDH & 253 \\
\textbf{4800} & FAH & 250 \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``Higher Baud Higher TH1''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 4(અ) [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-4uxa85-3-uxa97uxaa3}

\textbf{8051 માં LCALL અને LJMP instructions માં શું ફરક છે?}

\begin{solutionbox}

\textbf{ટેબલ: LCALL vs LJMP સરખામણી}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
પરિમાણ & LCALL & LJMP \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Function} & Long subroutine call & Long jump \\
\textbf{Stack Usage} & Return address push કરે છે & કોઈ stack operation
નથી \\
\textbf{Return} & RET instruction જરૂરી & ફક્ત direct jump \\
\textbf{Bytes} & 3 bytes & 3 bytes \\
\textbf{Address Range} & 16-bit (64KB) & 16-bit (64KB) \\
\textbf{PC Action} & Save પછી load & સીધું load \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{LCALL}: subroutine call કરે છે, return address stack પર save કરે
  છે
\item
  \textbf{LJMP}: specified address પર unconditional jump
\item
  \textbf{Stack Impact}: LCALL 2 stack bytes વાપરે છે, LJMP કોઈ વાપરતું નથી
\item
  \textbf{Usage}: functions માટે LCALL, program flow control માટે LJMP
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Call Saves Jump Goes''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 4(બ) [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-4uxaac-4-uxa97uxaa3}

\textbf{Timer0 વાપરીને port 1.0 પર square wave generate કરવા માટે 8051
Assembly Language Program લખો.}

\begin{solutionbox}

\begin{verbatim}
ORG 0000H           ; શરૂઆતી address
LJMP MAIN           ; મુખ્ય પ્રોગ્રામ પર jump

ORG 0030H           ; મુખ્ય પ્રોગ્રામ શરૂઆત
MAIN:
    MOV TMOD, \#01H  ; Timer0 mode1 (16{-bit)}
    MOV TH0, \#HIGH({-50000)  ; High byte લોડ કરો}
    MOV TL0, \#LOW({-50000)   ; Low byte લોડ કરો}
    SETB TR0        ; Timer0 શરૂ કરો

LOOP:
    JNB TF0, LOOP   ; Overflow માટે રાહ જુઓ
    CLR TF0         ; Overflow flag clear કરો
    CPL P1.0        ; P1.0 toggle કરો
    MOV TH0, \#HIGH({-50000)  ; Timer reload કરો}
    MOV TL0, \#LOW({-50000)   ; Timer reload કરો}
    SJMP LOOP       ; પુનરાવર્તન

END
\end{verbatim}

\textbf{પ્રોગ્રામ સમજાવટ:}

\begin{itemize}
\tightlist
\item
  \textbf{Timer Setup}: Mode 1 (16-bit timer)
\item
  \textbf{Count Value}: વિશિષ્ટ delay માટે -50000
\item
  \textbf{Square Wave}: દરેક overflow પર P1.0 toggle કરો
\item
  \textbf{Continuous}: Loop square wave જાળવે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Mode Load Start Wait Toggle Reload''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 4(ક) [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-4uxa95-7-uxa97uxaa3}

\textbf{8051 ની કોઈપણ ત્રણ Logical અને ચાર Data Transfer Instructions
ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{ટેબલ: Logical Instructions}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
Instruction & કાર્ય & ઉદાહરણ & પરિણામ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{ANL} & Logical AND & ANL A, \#0FH & A = A AND 0FH \\
\textbf{ORL} & Logical OR & ORL A, \#F0H & A = A OR F0H \\
\textbf{XRL} & Logical XOR & XRL A, \#FFH & A = A XOR FFH \\
\end{longtable}
}

\textbf{ટેબલ: Data Transfer Instructions}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.3421}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.1579}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2368}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2632}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Instruction
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
કાર્ય
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ઉદાહરણ
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ઓપરેશન
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{MOV} & ડેટા move કરો & MOV A, \#50H & A માં 50H લોડ કરો \\
\textbf{MOVX} & External move & MOVX A, @DPTR & External memory થી લોડ
કરો \\
\textbf{PUSH} & Stack પર push & PUSH ACC & Accumulator stack પર push \\
\textbf{POP} & Stack થી pop & POP ACC & Stack થી accumulator માં pop \\
\end{longtable}
}

\textbf{વિગતવાર ઉદાહરણો:}

\begin{verbatim}
; Logical Instructions
ANL A, \#0FH     ; Upper nibble mask કરો
ORL P1, \#80H    ; Port1 નો bit 7 set કરો
XRL A, \#FFH     ; Accumulator complement કરો

; Data Transfer Instructions
MOV R0, \#30H    ; Immediate data લોડ કરો
MOVX @DPTR, A   ; External memory માં store કરો
PUSH B          ; B register save કરો
POP PSW         ; Status word restore કરો
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``AND OR XOR Move External Push Pop''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 4(અ) OR [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-4uxa85-or-3-uxa97uxaa3}

\textbf{Instructions સમજાવો: (i) RRC A (ii) POP (iii) CLR PSW.7}

\begin{solutionbox}

\textbf{ટેબલ: Instruction સમજાવટો}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.3421}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.1579}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2632}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2368}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Instruction
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
કાર્ય
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ઓપરેશન
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ઉદાહરણ
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{RRC A} & Carry દ્વારા જમણે rotate & A\rightarrowC, C\rightarrowA(MSB) & A=85H,C=0 \rightarrow
A=42H,C=1 \\
\textbf{POP} & Stack થી pop & SP\rightarrowRegister, SP-1 & POP ACC \\
\textbf{CLR PSW.7} & PSW નો bit 7 clear & PSW.7 = 0 & CY flag clear \\
\end{longtable}
}

\begin{verbatim}
RRC A Operation:
પહેલાં:

A = [D7 D6 D5 D4 D3 D2 D1 D0]

C = [C]

પછી:

A = [C  D7 D6 D5 D4 D3 D2 D1]

C = [D0]

\end{verbatim}

\begin{itemize}
\tightlist
\item
  \textbf{RRC A}: Accumulator ને carry flag દ્વારા જમણે rotate કરે છે
\item
  \textbf{POP}: Top stack element ને specified register માં remove કરે છે
\item
  \textbf{CLR PSW.7}: Carry flag clear કરે છે (Program Status Word નો bit
  7)
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Rotate Pop Clear''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 4(બ) OR [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-4uxaac-or-4-uxa97uxaa3}

\textbf{30H લોકેશનમાં સેટોર ડેટાને 31H લોકેશનમાં સ્ટોર ડેટાવડે ભાગાકાર કરી શેષને 40h
અને ભાગફળને 41h મેમરી લોકેશનમાં સ્ટોર કરવા માટે 8051 નો Assembly Language
Program લખો.}

\begin{solutionbox}

\begin{verbatim}
ORG 0000H           ; પ્રોગ્રામ શરૂઆત
LJMP MAIN

ORG 0030H
MAIN:
    MOV A, 30H      ; Dividend લોડ કરો
    MOV B, 31H      ; Divisor લોડ કરો
    DIV AB          ; A ને B વડે ભાગો
    MOV 41H, A      ; Quotient સ્ટોર કરો
    MOV 40H, B      ; Remainder સ્ટોર કરો
    SJMP $          ; અહીં રોકો

END
\end{verbatim}

\textbf{પ્રોગ્રામ સ્ટેપ્સ:}

\begin{enumerate}
\tightlist
\item
  \textbf{ડેટા લોડ}: Dividend અને divisor ને A અને B માં move કરો
\item
  \textbf{Division}: DIV AB instruction વાપરો
\item
  \textbf{પરિણામ સ્ટોર}: A માં quotient, B માં remainder
\item
  \textbf{Save}: પરિણામો specified મેમરી લોકેશન્સમાં સ્ટોર કરો
\end{enumerate}

\textbf{ટેબલ: DIV AB Instruction}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
પહેલાં & પછી \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
A = Dividend &

A = Quotient \\

B = Divisor &

B = Remainder \\

\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``Load Divide Store''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 4(ક) OR [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-4uxa95-or-7-uxa97uxaa3}

\textbf{8051 Microcontroller ના Addressing Modes ની યાદી બનાવો અને દરેકને
ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}

\textbf{ટેબલ: 8051 Addressing Modes}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.1935}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2258}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2903}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2903}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Mode
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
વર્ણન
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
ઉદાહરણ
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
સમજાવટ
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Immediate} & Instruction માં ડેટા & MOV A, \#50H & A માં 50H લોડ
કરો \\
\textbf{Register} & Register વાપરો & MOV A, R0 & R0 નો content A માં move
કરો \\
\textbf{Direct} & મેમરી address સ્પષ્ટ & MOV A, 30H & Address 30H થી લોડ
કરો \\
\textbf{Indirect} & Register માં address & MOV A, @R0 & R0 માં આવેલા
address થી લોડ કરો \\
\textbf{Indexed} & Base + offset & MOVC A, @A+DPTR & A = content of
(A+DPTR) \\
\textbf{Relative} & PC + offset & SJMP HERE & PC સાપેક્ષ jump \\
\textbf{Bit} & Bit address & SETB P1.0 & Port 1 નો bit 0 set કરો \\
\end{longtable}
}

\textbf{વિગતવાર ઉદાહરણો:}

\begin{verbatim}
; Immediate Addressing
MOV A, \#25H         ; તુરંત મૂલ્ય 25H લોડ કરો

; Register Addressing  
MOV A, R7           ; Register R7 ને A માં move કરો

; Direct Addressing
MOV A, 40H          ; મેમરી લોકેશન 40H થી લોડ કરો

; Indirect Addressing
MOV R0, \#50H        ; R0 address 50H તરફ point કરે છે
MOV A, @R0          ; R0 દ્વારા પોઇન્ટ કરેલા address થી લોડ કરો

; Indexed Addressing
MOV DPTR, \#TABLE    ; Lookup table તરફ point કરો
MOVC A, @A+DPTR     ; Table[A] થી લોડ કરો

; Relative Addressing
SJMP NEXT           ; Label NEXT પર jump કરો

; Bit Addressing
SETB P2.5           ; Port 2 નો bit 5 set કરો
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``Immediate Register Direct Indirect Indexed
Relative Bit''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 5(અ) [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-5uxa85-3-uxa97uxaa3}

\textbf{8051 microcontroller સાથે Relay ઇન્ટરફેસિંગ દોરો.}

\begin{solutionbox}

\begin{verbatim}
    8051 Port Pin
         |
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
    |  2.2K   |  Resistor
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+  Base}
    |  NPN    |  Transistor
    |   BC547 |  
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
         |     Collector
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
    |  Relay  |  12V Relay
    |  Coil   |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
         |
       +VCC (12V)
    
    Relay Contacts
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
    | NO | NC |  Load Connection
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
\end{verbatim}

\textbf{ટેબલ: Interface Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Component & કાર્ય & મૂલ્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Transistor} & Current amplifier & BC547 NPN \\
\textbf{Resistor} & Base current limiter & 2.2KΩ \\
\textbf{Relay} & Electromagnetic switch & 12V DC \\
\textbf{Diode} & Back EMF protection & 1N4007 \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Operation}: Port pin HIGH \rightarrow Transistor ON \rightarrow Relay energized
\item
  \textbf{Protection}: Diode back EMF damage અટકાવે છે
\item
  \textbf{Isolation}: Relay electrical isolation પૂરું પાડે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Transistor Resistor Relay Diode''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 5(બ) [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-5uxaac-4-uxa97uxaa3}

\textbf{8051 microcontroller સાથે 7-Segment display ઇન્ટરફેસ કરો અને ``1''
પ્રિન્ટ કરવાનો પ્રોગ્રામ લખો.}

\begin{solutionbox}

\begin{verbatim}
    8051 Port 1
P1.0 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} a}
P1.1 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} b  }
P1.2 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} c}
P1.3 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} d}
P1.4 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} e}
P1.5 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} f}
P1.6 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} g}
P1.7 {-{-}{-}{-}[330Ω]{-}{-}{-}{-} dp}

    7{-Segment Display}
     aaaa
    f    b
    f    b
     gggg
    e    c
    e    c
     dddd  dp
\end{verbatim}

\textbf{``1'' Display કરવાનો પ્રોગ્રામ:}

\begin{verbatim}
ORG 0000H
LJMP MAIN

ORG 0030H
MAIN:
    MOV P1, \#06H    ; "1" display કરો (segments b,c ON)
    SJMP $          ; અહીં રોકો

; "1" માટે Pattern: 00000110 = 06H
; ફક્ત segments b અને c ON છે

END
\end{verbatim}

\textbf{ટેબલ: 7-Segment Display Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Component & કાર્ય & મૂલ્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Current Limiting Resistor} & LED segments ને protect કરે છે &
330Ω \\
\textbf{Port Connection} & Digital output control & Port 1 \\
\textbf{Display Pattern} & Segment control & Binary pattern \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``Current Limit Segment Pattern''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 5(ક) [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-5uxa95-7-uxa97uxaa3}

\textbf{8051 microcontroller સાથે DAC 0808 ઇન્ટરફેસ કરો અને Square wave
generate કરવાનો પ્રોગ્રામ લખો.}

\begin{solutionbox}

\begin{verbatim}
    8051           DAC0808
Port 2     +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
P2.0 {-{-}{-}{-}{-}| D0        IOUT|{-}{-}{-}[10KΩ]{-}{-}{-}+{-}{-}{-} Vout}
P2.1 {-{-}{-}{-}{-}| D1            |            |}
P2.2 {-{-}{-}{-}{-}| D2        IREF|{-}{-}{-}[10KΩ]{-}{-}{-}+}
P2.3 {-{-}{-}{-}{-}| D3            |            |}
P2.4 {-{-}{-}{-}{-}| D4         VCC|{-}{-}{-}(+5V)    |}
P2.5 {-{-}{-}{-}{-}| D5         VEE|{-}{-}{-}({-}5V)    |}
P2.6 {-{-}{-}{-}{-}| D6            |            |}
P2.7 {-{-}{-}{-}{-}| D7         GND|{-}{-}{-}(GND)    |}
           +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+            |}
                                        |
                                 Op{-Amp Buffer}
                                      |
                                   Output
\end{verbatim}

\textbf{Square Wave Generate કરવાનો પ્રોગ્રામ:}

\begin{verbatim}
ORG 0000H
LJMP MAIN

ORG 0030H
MAIN:
    MOV A, \#00H     ; Minimum મૂલ્ય (0V)
    MOV P2, A       ; DAC પર output
    CALL DELAY      ; રાહ જુઓ
    
    MOV A, \#0FFH    ; Maximum મૂલ્ય (લગભગ 5V)
    MOV P2, A       ; DAC પર output
    CALL DELAY      ; રાહ જુઓ
    
    SJMP MAIN       ; Square wave માટે પુનરાવર્તન

DELAY:
    MOV R0, \#200    ; Delay counter
LOOP1:
    MOV R1, \#250    ; Inner loop counter
LOOP2:
    DJNZ R1, LOOP2  ; Inner delay loop
    DJNZ R0, LOOP1  ; Outer delay loop
    RET

END
\end{verbatim}

\textbf{ટેબલ: DAC Interface Specifications}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
પરિમાણ & મૂલ્ય & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Resolution} & 8-bit & 256 output levels \\
\textbf{Reference Voltage} & 5V & Full scale output \\
\textbf{Output Range} & 0-5V & Analog voltage range \\
\textbf{Interface Type} & Parallel & 8-bit data bus \\
\end{longtable}
}

\textbf{Square Wave Generation:}

\begin{itemize}
\tightlist
\item
  \textbf{Low Level}: 00H લગભગ 0V output પેદા કરે છે
\item
  \textbf{High Level}: FFH લગભગ 5V output પેદા કરે છે
\item
  \textbf{Frequency}: Delay routine ના duration દ્વારા નક્કી થાય છે
\item
  \textbf{Output}: DAC output પર સ્વચ્છ analog square wave
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Digital Analog Convert Square''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 5(અ) OR [3
ગુણ]}\label{uxaaauxab0uxab6uxaa8-5uxa85-or-3-uxa97uxaa3}

\textbf{8051 microcontroller સાથે Push button Switch નું Interface.}

\begin{solutionbox}

\begin{verbatim}
         +5V
          |
          |
     +{-{-}{-}{-}+{-}{-}{-}{-}+}
     |   10K   |  Pull{-up Resistor}
     +{-{-}{-}{-}+{-}{-}{-}{-}+}
          |
          +{-{-}{-}{-}{-}{-}{-}{-} P1.0 (8051 Port Pin)}
          |
     +{-{-}{-}{-}+{-}{-}{-}{-}+}
     |   SW    |  Push Button Switch
     +{-{-}{-}{-}+{-}{-}{-}{-}+}
          |
         GND
\end{verbatim}

\textbf{ટેબલ: Push Button Interface Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4783}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2609}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2609}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Component
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
મૂલ્ય
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
કાર્ય
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Pull-up Resistor} & 10KΩ & Switch ખુલ્લું હોય ત્યારે logic HIGH
સુનિશ્ચિત કરે છે \\
\textbf{Push Button} & SPST Momentary & User input device \\
\textbf{Logic Levels} & HIGH=1, LOW=0 & Switch ખુલ્લું=1, દબાવ્યું=0 \\
\end{longtable}
}

\textbf{Sample Program:}

\begin{verbatim}
CHECK\_SWITCH:
    JB P1.0, SW\_RELEASED    ; Switch દબાવ્યું નથી તો jump
    ; Switch દબાવેલું હોય ત્યારનો code અહીં
    CALL SWITCH\_PRESSED
    SJMP CHECK\_SWITCH

SW\_RELEASED:
    ; Switch દબાવ્યું નથી ત્યારનો code અહીં
    SJMP CHECK\_SWITCH

SWITCH\_PRESSED:
    ; Switch દબાવેલું હોય ત્યારે action
    RET
\end{verbatim}

\textbf{Operation:}

\begin{itemize}
\tightlist
\item
  \textbf{Switch ખુલ્લું}: Pull-up resistor pin ને HIGH (logic 1) બનાવે છે
\item
  \textbf{Switch દબાવ્યું}: Pin GND સાથે જોડાય છે, LOW (logic 0) બને છે
\item
  \textbf{Debouncing}: વિશ્વસનીય operation માટે software debouncing જરૂરી
  હોઈ શકે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Pull-up Switch Ground''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 5(બ) OR [4
ગુણ]}\label{uxaaauxab0uxab6uxaa8-5uxaac-or-4-uxa97uxaa3}

\textbf{8051 microcontroller સાથે DC Motor ઇન્ટરફેસ કરો.}

\begin{solutionbox}

\begin{verbatim}
    8051 Port Pin (P1.0)
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
    |   1K    |  Base Resistor
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+  Base}
    |  NPN    |  Power Transistor
    | TIP122  |  (Darlington)
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
         |     Collector
         |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
    |   DC    |  12V DC Motor
    |  Motor  |
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
         |
       +VCC (12V)
    
    +{-{-}{-}{-}+{-}{-}{-}{-}+  Freewheeling Diode}
    | 1N4007  |  (Motor ની આર પાર)
    +{-{-}{-}{-}+{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Motor Control Program:}

\begin{verbatim}
MOTOR\_ON:
    SETB P1.0       ; Motor ON કરો
    RET

MOTOR\_OFF:
    CLR P1.0        ; Motor OFF કરો
    RET

MOTOR\_SPEED\_CONTROL:
    ; Speed control માટે PWM
    SETB P1.0       ; Motor ON
    CALL DELAY\_ON   ; ON time duration
    CLR P1.0        ; Motor OFF  
    CALL DELAY\_OFF  ; OFF time duration
    RET

DELAY\_ON:
    MOV R0, \#100    ; ON time delay
    DJNZ R0, $
    RET

DELAY\_OFF:
    MOV R0, \#50     ; OFF time delay  
    DJNZ R0, $
    RET
\end{verbatim}

\textbf{ટેબલ: DC Motor Interface Components}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4074}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2222}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3704}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Component
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
કાર્ય
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
વિશેષતા
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Power Transistor} & Current amplification & TIP122 (Darlington
pair) \\
\textbf{Base Resistor} & Current limiting & 1KΩ \\
\textbf{Freewheeling Diode} & Back EMF protection & 1N4007 \\
\textbf{DC Motor} & Load device & 12V DC Motor \\
\end{longtable}
}

\textbf{Operation Principle:}

\begin{itemize}
\tightlist
\item
  \textbf{Motor ON}: Port pin HIGH \rightarrow Transistor saturated \rightarrow Motor ચાલે છે
\item
  \textbf{Motor OFF}: Port pin LOW \rightarrow Transistor cut-off \rightarrow Motor અટકે છે
\item
  \textbf{Speed Control}: PWM technique motor ને average power બદલે છે
\item
  \textbf{Protection}: Diode transistor ને back EMF થી બચાવે છે
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Transistor Resistor Diode Motor''

\end{mnemonicbox}
\subsection*{પ્રશ્ન 5(ક) OR [7
ગુણ]}\label{uxaaauxab0uxab6uxaa8-5uxa95-or-7-uxa97uxaa3}

\textbf{8051 microcontroller સાથે LCD ઇન્ટરફેસ કરો અને ``Hello'' display
કરવાનો પ્રોગ્રામ લખો.}

\begin{solutionbox}

\begin{verbatim}
    8051        16x2 LCD Display
Port 2      +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
P2.0 {-{-}{-}{-}{-}{-}| D4          VCC   |{-}{-}{-}(+5V)}
P2.1 {-{-}{-}{-}{-}{-}| D5          VDD   |{-}{-}{-}(GND)}
P2.2 {-{-}{-}{-}{-}{-}| D6          V0    |{-}{-}{-}(Contrast Adj)}
P2.3 {-{-}{-}{-}{-}{-}| D7          RS    |{-}{-}{-} P3.0}
            |             EN    |{{-}{-}{-} P3.1}
            |             R/W   |{-{-}{-}(GND)}
            +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{સંપૂર્ણ LCD Interface Program:}

\begin{verbatim}
ORG 0000H
LJMP MAIN

ORG 0030H
MAIN:
    CALL LCD\_INIT       ; LCD initialize કરો
    MOV DPTR, \#MESSAGE  ; Message string તરફ point કરો
    CALL DISPLAY\_STRING ; Message display કરો
    SJMP $              ; Execution અટકાવો

LCD\_INIT:
    CALL DELAY\_15MS     ; Power on પછી 15ms રાહ જુઓ
    MOV A, \#38H         ; Function set: 8{-bit mode, 2 lines, 5x7 matrix}
    CALL COMMAND\_WRITE
    MOV A, \#0EH         ; Display on, cursor on, blink off
    CALL COMMAND\_WRITE
    MOV A, \#01H         ; Display clear કરો
    CALL COMMAND\_WRITE
    MOV A, \#06H         ; Entry mode: cursor increment, no shift
    CALL COMMAND\_WRITE
    RET

COMMAND\_WRITE:
    MOV P2, A           ; Data lines (D4{-D7) પર command મોકલો}
    CLR P3.0            ; Command માટે RS = 0
    SETB P3.1           ; Enable pulse high
    CALL DELAY\_1MS
    CLR P3.1            ; Enable pulse low
    CALL DELAY\_1MS
    RET

DATA\_WRITE:
    MOV P2, A           ; Data lines (D4{-D7) પર data મોકલો}
    SETB P3.0           ; Data માટે RS = 1
    SETB P3.1           ; Enable pulse high
    CALL DELAY\_1MS
    CLR P3.1            ; Enable pulse low
    CALL DELAY\_1MS
    RET

DISPLAY\_STRING:
    CLR A
    MOVC A, @A+DPTR     ; String માંથી character મેળવો
    JZ STRING\_END       ; Zero હોય તો string નો અંત
    CALL DATA\_WRITE     ; Character display કરો
    INC DPTR            ; આગલા character તરફ point કરો
    SJMP DISPLAY\_STRING ; અંત સુધી ચાલુ રાખો

STRING\_END:
    RET

MESSAGE: DB "HELLO", 0  ; Null terminator સાથે message string

DELAY\_1MS:
    MOV R0, \#4          ; Outer loop counter
DEL1: 
    MOV R1, \#250        ; Inner loop counter  
DEL2: 
    DJNZ R1, DEL2       ; Inner delay loop
    DJNZ R0, DEL1       ; Outer delay loop
    RET

DELAY\_15MS:
    MOV R2, \#15         ; 15ms delay counter
DEL15: 
    CALL DELAY\_1MS      ; 1ms delay call કરો
    DJNZ R2, DEL15      ; 15 વખત repeat કરો
    RET

END
\end{verbatim}

\textbf{ટેબલ: LCD Control Signals}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Signal & Pin & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{RS} & P3.0 & Register Select (0=Command, 1=Data) \\
\textbf{EN} & P3.1 & Data latch માટે enable pulse \\
\textbf{R/W} & GND & Read/Write (write માટે GND સાથે tied) \\
\textbf{D4-D7} & P2.0-P2.3 & 4-bit data bus (upper nibble) \\
\end{longtable}
}

\textbf{ટેબલ: મહત્વપૂર્ણ LCD Commands}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Command & Hex Code & કાર્ય \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Function Set} & 38H & 8-bit mode, 2 lines, 5x7 matrix \\
\textbf{Display Control} & 0EH & Display ON, cursor ON, blink OFF \\
\textbf{Clear Display} & 01H & સંપૂર્ણ display clear કરો \\
\textbf{Entry Mode} & 06H & Cursor increment, no display shift \\
\end{longtable}
}

\textbf{LCD Display Process:}

\begin{enumerate}
\tightlist
\item
  \textbf{Initialization}: LCD parameters configure કરો અને display clear
  કરો
\item
  \textbf{Command Mode}: RS=0 સાથે commands મોકલો
\item
  \textbf{Data Mode}: RS=1 સાથે characters મોકલો\\
\item
  \textbf{Enable Pulse}: EN signal સાથે data/command latch કરો
\item
  \textbf{String Display}: Null terminator સુધી message characters માં
  loop કરો
\end{enumerate}

\textbf{Character Display Steps:}

\begin{itemize}
\tightlist
\item
  Data mode માટે RS=1 set કરો
\item
  Data bus પર character code મૂકો
\item
  Enable pulse generate કરો (HIGH થી LOW)
\item
  LCD ને process કરવા માટે રાહ જુઓ (1ms delay)
\item
  આગલા character માટે repeat કરો
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``Initialize Command Data Enable Display''

\end{mnemonicbox}

\end{document}
