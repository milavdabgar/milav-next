\documentclass{article}
\input{../../../../../../../latex-templates/gtu-solutions-short/preamble.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/gujarati-boxes.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/commands.tex}

\title{VLSI Technology (4353206) - Winter 2024 Solution}
\date{November 29, 2024}

\begin{document}
\maketitle

\questionmarks{1(a)}{3}{એનહેન્સમેન્ટ અને ડીપ્લેશન ટાઈપ MOSFET માટે બધા સિમ્બોલ દોરો.}

\begin{solutionbox}
\textbf{MOSFET સિમ્બોલ:}

\begin{center}
\begin{tabulary}{\linewidth}{C C}
\textbf{એનહેન્સમેન્ટ ટાઈપ} & \textbf{ડીપ્લેશન ટાઈપ} \\
\begin{tikzpicture}[scale=1]
    % NMOS Enhancement
    \node at (0,2) {\textbf{NMOS}};
    \node at (0,1.5) {D};
    \draw (0,1.3) -- (0,1);
    \draw (0,1) -- (-0.5,1); % Drain line
    
    % Broken channel
    \draw (-0.5,1.1) -- (-0.5,0.7);
    \draw (-0.5,0.6) -- (-0.5,0.2);
    \draw (-0.5,0.1) -- (-0.5,-0.3);
    
    % Source
    \draw (0,-0.3) -- (-0.5,-0.3);
    \draw (0,-0.3) -- (0,-0.6);
    \node at (0,-0.8) {S};
    
    % Gate
    \draw (-0.7,1.1) -- (-0.7,-0.3);
    \draw (-0.7,0.4) -- (-1,0.4);
    \node at (-1.2,0.4) {G};
    
    % Body/Arrow
    \draw (-0.5,0.4) -- (0,0.4);
    \node at (0.2,0.4) {B};
    \draw[->] (0,0.4) -- (-0.5,0.4); % Arrow IN for NMOS
\end{tikzpicture}
&
\begin{tikzpicture}[scale=1]
    % NMOS Depletion
    \node at (0,2) {\textbf{NMOS}};
    \node at (0,1.5) {D};
    \draw (0,1.3) -- (0,1);
    \draw (0,1) -- (-0.5,1);
    
    % Solid channel (Thick)
    \draw[ultra thick] (-0.5,1.1) -- (-0.5,-0.3);
    
    % Source
    \draw (0,-0.3) -- (-0.5,-0.3);
    \draw (0,-0.3) -- (0,-0.6);
    \node at (0,-0.8) {S};
    
    % Gate
    \draw (-0.7,1.1) -- (-0.7,-0.3);
    \draw (-0.7,0.4) -- (-1,0.4);
    \node at (-1.2,0.4) {G};
    
    % Body/Arrow
    \draw (-0.5,0.4) -- (0,0.4);
    \node at (0.2,0.4) {B};
    \draw[->] (0,0.4) -- (-0.5,0.4); % Arrow IN for NMOS
\end{tikzpicture}
\\
\begin{tikzpicture}[scale=1]
    % PMOS Enhancement
    \node at (0,2) {\textbf{PMOS}};
    \node at (0,1.5) {D};
    \draw (0,1.3) -- (0,1);
    \draw (0,1) -- (-0.5,1);
    
    % Broken channel
    \draw (-0.5,1.1) -- (-0.5,0.7);
    \draw (-0.5,0.6) -- (-0.5,0.2);
    \draw (-0.5,0.1) -- (-0.5,-0.3);
    
    % Source
    \draw (0,-0.3) -- (-0.5,-0.3);
    \draw (0,-0.3) -- (0,-0.6);
    \node at (0,-0.8) {S};
    
    % Gate
    \draw (-0.7,1.1) -- (-0.7,-0.3);
    \draw (-0.7,0.4) -- (-1,0.4);
    \node at (-1.2,0.4) {G};
    
    % Body/Arrow
    \draw (-0.5,0.4) -- (0,0.4);
    \node at (0.2,0.4) {B};
    \draw[<-] (0,0.4) -- (-0.5,0.4); % Arrow OUT for PMOS
\end{tikzpicture}
&
\begin{tikzpicture}[scale=1]
    % PMOS Depletion
    \node at (0,2) {\textbf{PMOS}};
    \node at (0,1.5) {D};
    \draw (0,1.3) -- (0,1);
    \draw (0,1) -- (-0.5,1);
    
    % Solid channel
    \draw[ultra thick] (-0.5,1.1) -- (-0.5,-0.3);
    
    % Source
    \draw (0,-0.3) -- (-0.5,-0.3);
    \draw (0,-0.3) -- (0,-0.6);
    \node at (0,-0.8) {S};
    
    % Gate
    \draw (-0.7,1.1) -- (-0.7,-0.3);
    \draw (-0.7,0.4) -- (-1,0.4);
    \node at (-1.2,0.4) {G};
    
    % Body/Arrow
    \draw (-0.5,0.4) -- (0,0.4);
    \node at (0.2,0.4) {B};
    \draw[<-] (0,0.4) -- (-0.5,0.4); % Arrow OUT for PMOS
\end{tikzpicture}
\\
\end{tabulary}
\end{center}

\textbf{મુખ્ય તફાવતો:}
\begin{itemize}
    \item \textbf{એનહેન્સમેન્ટ}: $V_{GS}=0$ પર કોઈ ફિઝિકલ ચેનલ નથી (તૂટક રેખા).
    \item \textbf{ડીપ્લેશન}: $V_{GS}=0$ પર પહેલેથી જ ફિઝિકલ ચેનલ અસ્તિત્વમાં છે (ઘાટી રેખા).
    \item \textbf{એરો}: NMOS માટે અંદર (p-substrate), PMOS માટે બહાર (n-substrate).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Enhancement ને વોલ્ટેજ જોઈએ, Depletion માં ડિફોલ્ટ ચેનલ}
\end{mnemonicbox}

\questionmarks{1(b)}{4}{વ્યાખ્યા આપો: 1) હાઈરારકી 2) રેગ્યુલારીટી}

\begin{solutionbox}
\textbf{વ્યાખ્યાઓ:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પરિભાષા} & \textbf{વ્યાખ્યા} & \textbf{ઉપયોગ} \\ \hline
\textbf{હાઈરારકી} & ટોપ-ડાઉન ડિઝાઇન અભિગમ જેમાં જટિલ સિસ્ટમને નાના, વ્યવસ્થિત મોડ્યુલમાં વિભાજિત કરાય છે. & VLSI ડિઝાઇન ફ્લોમાં સિસ્ટમ લેવલથી ટ્રાન્ઝિસ્ટર લેવલ સુધી વપરાય છે. \\ \hline
\textbf{રેગ્યુલારીટી} & જટિલતા ઘટાડવા માટે પુનરાવર્તિત સમાન સ્ટ્રક્ચરનો ઉપયોગ કરતી ડિઝાઇન તકનીક. & મેમરી એરે, પ્રોસેસર ડેટાપાથમાં નિયમિત સ્ટ્રક્ચર વપરાય છે. \\ \hline
\end{tabulary}
\end{center}

\textbf{મુખ્ય મુદ્દા:}
\begin{itemize}
    \item \textbf{હાઈરારકીના ફાયદા}: સરળ ડિઝાઇન વેરિફિકેશન, મોડ્યુલર ટેસ્ટિંગ, ટીમ કોલેબોરેશન.
    \item \textbf{રેગ્યુલારીટીના ફાયદા}: ઓછો ડિઝાઇન સમય, બહેતર યીલ્ડ, સરળ લેઆઉટ.
    \item \textbf{ડિઝાઇન ફ્લો}: સિસ્ટમ $\rightarrow$ બિહેવિયરલ $\rightarrow$ RTL $\rightarrow$ ગેટ $\rightarrow$ લેઆઉટ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{હાઈરારકી હેલ્પ કરે ઓર્ગેનાઇઝ કરવામાં, રેગ્યુલારીટી રિડ્યુસ કરે કોમ્પ્લેક્સિટી}
\end{mnemonicbox}

\questionmarks{1(c)}{7}{MOS અન્ડર એક્સટર્નલ બાયસ સમજાવો.}

\begin{solutionbox}
\textbf{MOS બાયસ કન્ડિશન:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|L|}
\hline
\textbf{બાયસ કન્ડિશન} & \textbf{ગેટ વોલ્ટેજ} & \textbf{ચેનલ નિર્માણ} & \textbf{કરંટ ફ્લો} \\ \hline
\textbf{એક્યુમ્યુલેશન} & $V_G < 0$ (NMOS) & મેજોરિટી કેરિયર એકત્ર થાય છે & ચેનલ નથી \\ \hline
\textbf{ડીપ્લેશન} & $0 < V_G < V_T$ & ડીપ્લેશન રીજન બને છે & ન્યૂનતમ કરંટ \\ \hline
\textbf{ઇન્વર્શન} & $V_G > V_T$ & માઇનોરિટી કેરિયર ચેનલ બનાવે છે & ચેનલ વહન કરે છે \\ \hline
\end{tabulary}
\end{center}

\textbf{ઓપરેશન ફ્લો:}

\begin{center}
\begin{tikzpicture}[node distance=1.5cm, auto, scale=0.9, transform shape]
    \node (bias) [draw, rectangle] {એક્સટર્નલ બાયસ};
    \node (gate) [draw, diamond, below of=bias, aspect=2] {ગેટ વોલ્ટેજ $V_G$};
    
    \node (acc) [draw, rectangle, below left of=gate, xshift=-2cm] {એક્યુમ્યુલેશન ($V_G < 0$)};
    \node (dep) [draw, rectangle, below of=gate] {ડીપ્લેશન ($0 < V_G < V_T$)};
    \node (inv) [draw, rectangle, below right of=gate, xshift=2cm] {ઇન્વર્શન ($V_G > V_T$)};
    
    \node (nochan) [draw, ellipse, below of=acc] {ચેનલ નથી};
    \node (depreg) [draw, ellipse, below of=dep] {ડીપ્લેશન રીજન};
    \node (cond) [draw, ellipse, below of=inv] {Conductive ચેનલ};
    
    \draw[->] (bias) -- (gate);
    \draw[->] (gate) -- (acc);
    \draw[->] (gate) -- (dep);
    \draw[->] (gate) -- (inv);
    \draw[->] (acc) -- (nochan);
    \draw[->] (dep) -- (depreg);
    \draw[->] (inv) -- (cond);
\end{tikzpicture}
\captionof{figure}{MOS ઓપરેટિંગ મોડ}
\end{center}

\textbf{મુખ્ય ખ્યાલો:}
\begin{itemize}
    \item \textbf{બેન્ડ બેન્ડિંગ}: એક્સટર્નલ વોલ્ટેજ ઓક્સાઇડ-સિલિકોન ઇન્ટરફેસ પર એનર્જી બેન્ડ વાળે છે.
    \item \textbf{થ્રેશોલ્ડ વોલ્ટેજ ($V_T$)}: ચેનલ બનવા માટે જરૂરી ન્યૂનતમ વોલ્ટેજ.
    \item \textbf{ઇન્વર્શન}: જ્યારે સરફેસ પોટેન્શિયલ $\phi_s = 2\phi_F$.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{એક્યુમ્યુલેશન આકર્ષે, ડીપ્લેશન ડિપ્લીટ કરે, ઇન્વર્શન ઇન્વર્ટ કરે કેરિયર}
\end{mnemonicbox}

\questionmarks{1(c) OR}{7}{સ્કેલિંગની શું જરૂરિયાત છે? સ્કેલિંગના ટાઈપ તેની ઈફેક્ટ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{સ્કેલિંગની જરૂરિયાત:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{ફાયદો} & \textbf{પ્રભાવ} \\ \hline
\textbf{એરિયા રિડક્શન} & ચિપ દીઠ વધુ ટ્રાન્ઝિસ્ટર & ઊંચી ઇન્ટિગ્રેશન ડેન્સિટી \\ \hline
\textbf{સ્પીડ ઇન્ક્રીઝ} & ઓછી ડીલે & બહેતર પરફોર્મન્સ \\ \hline
\textbf{પાવર રિડક્શન} & ઓછો પાવર વપરાશ & પોર્ટેબલ ડિવાઇસ \\ \hline
\textbf{કોસ્ટ રિડક્શન} & ફંક્શન દીઠ સસ્તું & માર્કેટ કોમ્પિટિટિવનેસ \\ \hline
\end{tabulary}
\end{center}

\textbf{સ્કેલિંગના પ્રકાર:}

\begin{center}
\begin{tikzpicture}[scale=0.9]
    \node (scal) [draw, rectangle] {MOSFET સ્કેલિંગ};
    \node (full) [draw, rectangle, below left of=scal, xshift=-1cm, yshift=-1cm] {ફુલ વોલ્ટેજ સ્કેલિંગ};
    \node (const) [draw, rectangle, below right of=scal, xshift=1cm, yshift=-1cm] {કોન્સ્ટન્ટ વોલ્ટેજ સ્કેલિંગ};
    
    \draw[->] (scal) -- (full);
    \draw[->] (scal) -- (const);
    
    \node [anchor=north, align=center, font=\footnotesize] at (full.south) {બધા parameters ($W, L, V_{DD}, t_{ox}$)\\ $1/\alpha$ થી સ્કેલ કરાય છે};
    \node [anchor=north, align=center, font=\footnotesize] at (const.south) {ડાઇમેન્શન ($W, L, t_{ox}$) સ્કેલ\\વોલ્ટેજ ($V_{DD}$) અપરિવર્તિત};
\end{tikzpicture}
\end{center}

\textbf{સ્કેલિંગ અસરો:}
\begin{itemize}
    \item \textbf{ફુલ વોલ્ટેજ સ્કેલિંગ}: ઇલેક્ટ્રિક ફીલ્ડ અચળ રહે છે. પાવર ડેન્સિટી અચળ રહે છે.
    \item \textbf{કોન્સ્ટન્ટ વોલ્ટેજ સ્કેલિંગ}: ઇલેક્ટ્રિક ફીલ્ડ વધે છે. પાવર ડેન્સિટી નોંધપાત્ર રીતે વધે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{સ્કેલિંગ સેવ કરે સ્પેસ, સ્પીડ અને સ્પેન્ડિંગ}
\end{mnemonicbox}

\questionmarks{2(a)}{3}{FPGA પર ટૂંકનોંધ લખો.}

\begin{solutionbox}
\textbf{FPGA લાક્ષણિકતાઓ:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{લક્ષણ} & \textbf{વર્ણન} & \textbf{ફાયદો} \\ \hline
\textbf{ફીલ્ડ પ્રોગ્રામેબલ} & મેન્યુફેક્ચરિંગ પછી કોન્ફિગરેબલ & ડિઝાઇનમાં લવચીકતા \\ \hline
\textbf{ગેટ એરે} & લોજિક બ્લોકનું એરે & પેરેલલ પ્રોસેસિંગ \\ \hline
\textbf{રિકોન્ફિગરેબલ} & ફરીથી પ્રોગ્રામ કરી શકાય & પ્રોટોટાઇપ ડેવલપમેન્ટ \\ \hline
\end{tabulary}
\end{center}

\textbf{વિગતો:}
\begin{itemize}
    \item \textbf{એપ્લિકેશન}: ડિજિટલ સિગ્નલ પ્રોસેસિંગ, એમ્બેડેડ સિસ્ટમ, પ્રોટોટાઇપિંગ.
    \item \textbf{આર્કિટેક્ચર}: CLBs (Configurable Logic Blocks) જે પ્રોગ્રામેબલ રાઉટિંગથી જોડાયેલા હોય છે.
    \item \textbf{પ્રોગ્રામિંગ}: સામાન્ય રીતે SRAM-આધારિત (વોલેટાઇલ).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{FPGA: ફ્લેક્સિબલ પ્રોગ્રામિંગ ફોર ગેટ એરે}
\end{mnemonicbox}

\questionmarks{2(b)}{4}{સેમી કસ્ટમ અને ફુલ કસ્ટમ ડિઝાઇન મેથોડોલોજી સરખાવો.}

\begin{solutionbox}
\textbf{સરખામણી:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{સેમી-કસ્ટમ} & \textbf{ફુલ કસ્ટમ} \\ \hline
\textbf{ડિઝાઇન ટાઇમ} & ઓછો (અઠવાડિયા) & વધુ (મહિના) \\ \hline
\textbf{કોસ્ટ} & ઓછો ડેવલપમેન્ટ કોસ્ટ & વધુ ડેવલપમેન્ટ કોસ્ટ \\ \hline
\textbf{પરફોર્મન્સ} & મધ્યમ પરફોર્મન્સ & સર્વોચ્ચ પરફોર્મન્સ \\ \hline
\textbf{એરિયા એફિશિયન્સી} & ઓછી કાર્યક્ષમ & સૌથી કાર્યક્ષમ \\ \hline
\textbf{એપ્લિકેશન} & ASICs, મધ્યમ વોલ્યુમ & માઇક્રોપ્રોસેસર, ઊંચો વોલ્યુમ \\ \hline
\textbf{ડિઝાઇન એફર્ટ} & સ્ટાન્ડર્ડ સેલ વપરાય છે & દરેક ટ્રાન્ઝિસ્ટર મેન્યુઅલી ડિઝાઇન \\ \hline
\end{tabulary}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{સેમી-કસ્ટમ છે સ્ટાન્ડર્ડ, ફુલ કસ્ટમ છે ફાઇનેસ્ટ}
\end{mnemonicbox}

\questionmarks{2(c)}{7}{1) $0 < V_{DS} < V_{DSAT}$ 2) $V_{DS} = V_{DSAT}$ 3) $V_{DS} > V_{DSAT}$ માટે MOSFET ઓપરેશન સમજાવો.}

\begin{solutionbox}
\textbf{ઓપરેટિંગ રીજન:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|L|}
\hline
\textbf{રીજન} & \textbf{કન્ડિશન} & \textbf{ચેનલ સ્થિતિ} & \textbf{કરંટ ($I_D$)} \\ \hline
\textbf{લિનિયર} & $V_{DS} < V_{DSAT}$ & યુનિફોર્મ ચેનલ & $\propto V_{DS}$ \\ \hline
\textbf{સેચ્યુરેશન ઓન્સેટ} & $V_{DS} = V_{DSAT}$ & ડ્રેઈન પર પિંચ-ઓફ શરૂ થાય & મેક્સિમમ લિનિયર કરંટ \\ \hline
\textbf{સેચ્યુરેશન} & $V_{DS} > V_{DSAT}$ & પિંચ્ડ ઓફ ચેનલ & અચળ (Constant) \\ \hline
\end{tabulary}
\end{center}

\textbf{આકૃતિ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % Axes
    \draw[->] (0,0) -- (6,0) node[right] {$V_{DS}$};
    \draw[->] (0,0) -- (0,5) node[above] {$I_D$};
    
    % Curve
    \draw[thick, blue] (0,0) .. controls (1,3) and (2,3.8) .. (3,4); % Linear
    \draw[thick, blue] (3,4) -- (6,4); % Saturation
    
    % Points
    \draw[dashed] (3,0) -- (3,4);
    \node[below] at (3,0) {$V_{DSAT}$};
    
    \node at (1.5, 2) {લિનિયર રીજન};
    \node at (4.5, 4.2) {સેચ્યુરેશન રીજન};
    
    % Channel visual
    \node[draw, rectangle, minimum width=2cm, minimum height=1cm, align=center] (lin) at (1.5,-2) {લિનિયર: ચેનલ\\ S-D જોડે છે};
    \node[draw, rectangle, minimum width=2cm, minimum height=1cm, align=center] (sat) at (4.5,-2) {સેચ્યુરેશન: ચેનલ\\ પિંચ્ડ ઓફ};
    
    \draw[->, dotted] (1.5, 2) -- (lin);
    \draw[->, dotted] (4.5, 4) -- (sat);
\end{tikzpicture}
\captionof{figure}{MOSFET I-V લાક્ષણિકતા}
\end{center}

\textbf{વિશ્લેષણ:}
\begin{itemize}
    \item \textbf{લિનિયર રીજન}: ચેનલ વોલ્ટેજ-કંટ્રોલ્ડ રેઝિસ્ટર તરીકે વર્તે છે. $I_D$, $V_{DS}$ સાથે લિનિયરલી વધે છે.
    \item \textbf{સેચ્યુરેશન રીજન}: ડ્રેઈન છેડે ચેનલ પિંચ ઓફ થાય છે. કરંટ ઇલેક્ટ્રિક ફીલ્ડ ડ્રિફ્ટને લીધે વહે છે. $I_D$, $V_{DS}$ થી સ્વતંત્ર બને છે.
    \item \textbf{$V_{DSAT}$}: સેચ્યુરેશન વોલ્ટેજ, સામાન્ય રીતે $V_{GS} - V_T$.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{લિનિયર લાઇક્સ VDS, સેચ્યુરેશન સેઝ નો મોર}
\end{mnemonicbox}

\questionmarks{2(a) OR}{3}{સ્ટાન્ડર્ડ સેલ બેઝ્ડ ડિઝાઇન સમજાવો.}

\begin{solutionbox}
\textbf{ઓવરવ્યુ:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{કમ્પોનન્ટ} & \textbf{વર્ણન} & \textbf{ફાયદો} \\ \hline
\textbf{સ્ટાન્ડર્ડ સેલ} & પ્રી-ડિઝાઇન્ડ લોજિક ગેટ (AND, OR, FF) & ઝડપી ડિઝાઇન સાઇકલ \\ \hline
\textbf{સેલ લાઇબ્રેરી} & ફિઝિકલ લેઆઉટ સાથે લાક્ષણિક સેલનો સંગ્રહ & અનુમાનિત પરફોર્મન્સ \\ \hline
\textbf{પ્લેસ એન્ડ રાઉટ} & ઓટોમેટેડ લેઆઉટ જનરેશન & મેન્યુઅલ પ્રયાસમાં ઘટાડો \\ \hline
\end{tabulary}
\end{center}

\textbf{ડિઝાઇન ફ્લો:}
\begin{itemize}
    \item લોજિક સિન્થેસિસ $\rightarrow$ પ્લેસમેન્ટ $\rightarrow$ રાઉટિંગ $\rightarrow$ વેરિફિકેશન.
    \item EDA ટૂલ્સ જટિલ ભૌતિક અમલીકરણ સંભાળે છે.
    \item પરફોર્મન્સ, એરિયા અને પાવર વચ્ચે સંતુલન પૂરું પાડે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{સ્ટાન્ડર્ડ સેલ સ્પીડ અપ કરે સિન્થેસિસ}
\end{mnemonicbox}

\questionmarks{2(b) OR}{4}{Y ચાર્ટ દોરો અને સમજાવો.}

\begin{solutionbox}
\textbf{ગાજસ્કી-કુહન Y-ચાર્ટ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % Axes
    \draw[thick] (0,0) -- (0,4) node[above] {\textbf{બિહેવિયરલ}};
    \draw[thick] (0,0) -- (-3.5,-2) node[below] {\textbf{સ્ટ્રક્ચરલ}};
    \draw[thick] (0,0) -- (3.5,-2) node[below] {\textbf{ફિઝિકલ}};
    
    % Concentric Circles (Arcs)
    \draw[dashed] (0,3) arc (90:210:3);
    \draw[dashed] (0,3) arc (90:-30:3);
    \draw[dashed] (-2.6,-1.5) arc (210:330:3);
    
    % Labels
    \node[anchor=west] at (0,3) {એલ્ગોરિધમ};
    \node[anchor=west] at (0,2) {RTL/બુલીયન};
    \node[anchor=west] at (0,1) {સર્કિટ};
    
    \node[anchor=east] at (-2.6,-1.5) {પ્રોસેસર};
    \node[anchor=east] at (-1.7,-1) {ALU/રજિસ્ટર};
    \node[anchor=east] at (-0.8,-0.5) {ગેટ્સ};
    
    \node[anchor=west] at (2.6,-1.5) {ફ્લોરપ્લાન};
    \node[anchor=west] at (1.7,-1) {મોડ્યુલ લેઆઉટ};
    \node[anchor=west] at (0.8,-0.5) {ટ્રાન્ઝિસ્ટર};
\end{tikzpicture}
\captionof{figure}{Y-ચાર્ટ રજૂઆત}
\end{center}

\textbf{ડોમેઇન:}
\begin{itemize}
    \item \textbf{બિહેવિયરલ}: સિસ્ટમ \textit{શું} કરે છે તે વર્ણવે છે (કાર્યક્ષમતા).
    \item \textbf{સ્ટ્રક્ચરલ}: ઘટકો કેવી રીતે \textit{જોડાયેલા} છે તે વર્ણવે છે.
    \item \textbf{ફિઝિકલ}: અમલીકરણની \textit{ભૂમિતિ} અને લેઆઉટ વર્ણવે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Y-ચાર્ટ: બિહેવિયર, સ્ટ્રક્ચર, ફિઝિકલ}
\end{mnemonicbox}

\questionmarks{2(c) OR}{7}{MOSFET કરંટ-વોલ્ટેજ કેરેક્ટરિસ્ટિક માટે ગ્રેજુઅલ ચેનલ એપ્રોક્સિમેશન સમજાવો.}

\begin{solutionbox}
\textbf{ગ્રેજુઅલ ચેનલ એપ્રોક્સિમેશન (GCA):}

\textbf{ધારણાઓ:}
\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{ધારણા} & \textbf{વર્ણન} & \textbf{જસ્ટિફિકેશન} \\ \hline
\textbf{ગ્રેજુઅલ ચેનલ} & ચેનલ સાથે ફીલ્ડનો ફેરફાર ($y$) $\ll$ લંબ ફેરફાર ($x$). & લોંગ ચેનલ ડિવાઇસ ($L \gg t_{ox}$) માટે માન્ય. \\ \hline
\textbf{1D એનાલિસિસ} & કરંટ મુખ્યત્વે $y$-દિશામાં (સોર્સથી ડ્રેઈન) વહે છે. & પોટેન્શિયલ એનાલિસિસ સરળ બનાવે છે. \\ \hline
\textbf{ડ્રિફ્ટ કરંટ} & ડિફ્યુઝન કરંટ અવગણવામાં આવે છે. & સ્ટ્રોંગ ઇન્વર્શનમાં મુખ્ય મિકેનિઝમ. \\ \hline
\end{tabulary}
\end{center}

\textbf{ડેરિવેશન સારાંશ:}
\begin{itemize}
    \item ઇન્ડ્યુસ્ડ ચાર્જ ડેન્સિટી: $Q_n(y) = -C_{ox}[V_{GS} - V(y) - V_T]$.
    \item ડ્રેઈન કરંટ: $I_D = -W \mu_n Q_n(y) \frac{dV}{dy}$.
    \item $y=0$ થી $L$ અને $V=0$ થી $V_{DS}$ સુધી ઇન્ટિગ્રેટ કરતા:
    \[ I_D = \mu_n C_{ox} \frac{W}{L} \left[ (V_{GS}-V_T)V_{DS} - \frac{V_{DS}^2}{2} \right] \]
\end{itemize}

\textbf{મર્યાદાઓ:}
\begin{itemize}
    \item \textbf{શોર્ટ ચેનલ ઇફેક્ટ}: જ્યારે $L$ અને ડીપ્લેશન વિડથ સરખાવી શકાય ત્યારે GCA નિષ્ફળ જાય છે.
    \item \textbf{વેલોસિટી સેચ્યુરેશન}: હાઇ ફીલ્ડ સાથે કેરિયર વેલોસિટી લિનિયરલી વધતી નથી.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ગ્રેજુઅલ ચેન્જ ગિવ સિમ્પલ ગેઇન એક્વેશન}
\end{mnemonicbox}

\questionmarks{3(a)}{3}{આઈડલ ઇન્વર્ટરનો સિમ્બોલ દોરો અને ટ્રુથ ટેબલ લખો. આઈડલ ઇન્વર્ટર માટે VTC દોરો અને સમજાવો.}

\begin{solutionbox}
\textbf{આઈડલ ઇન્વર્ટર:}

\begin{center}
\begin{tabulary}{\linewidth}{C C}
\textbf{સિમ્બોલ} & \textbf{ટ્રુથ ટેબલ} \\
\begin{tikzpicture}[scale=1]
    % Inverter Symbol
    \draw (0,0) -- (1,0) -- (1,1) -- (0,0); % Triangle
    \draw (0,1) -- (0,0);
    \draw (1,0.5) circle (1.5pt); % Bubble
    \draw (-0.5,0.5) -- (0,0.5); % Input
    \node[left] at (-0.5,0.5) {$V_{in}$};
    \draw (1.1,0.5) -- (1.6,0.5); % Output
    \node[right] at (1.6,0.5) {$V_{out}$};
\end{tikzpicture}
&
\begin{tabular}{|c|c|}
\hline
$V_{in}$ & $V_{out}$ \\ \hline
$0$ & $1 (V_{DD})$ \\ \hline
$1 (V_{DD})$ & $0$ \\ \hline
\end{tabular}
\\
\end{tabulary}
\end{center}

\textbf{વોલ્ટેજ ટ્રાન્સફર કેરેક્ટરિસ્ટિક (VTC):}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \draw[->] (0,0) -- (4,0) node[right] {$V_{in}$};
    \draw[->] (0,0) -- (0,4) node[above] {$V_{out}$};
    
    \node[left] at (0,3.5) {$V_{DD}$};
    \node[below] at (3.5,0) {$V_{DD}$};
    \node[below] at (1.75,0) {$V_{DD}/2$};
    
    % Ideal curve
    \draw[blue, thick] (0,3.5) -- (1.75,3.5) -- (1.75,0) -- (3.5,0);
    
    \draw[dashed] (1.75,0) -- (1.75,3.5);
\end{tikzpicture}
\captionof{figure}{આઈડલ VTC}
\end{center}

\textbf{લાક્ષણિકતાઓ:}
\begin{itemize}
    \item સ્વિચિંગ થ્રેશોલ્ડ ($V_{DD}/2$) પર અનંત ગેઇન.
    \item નોઇઝ માર્જિન $NM_H = NM_L = V_{DD}/2$.
    \item સ્ટેડી સ્ટેટમાં શૂન્ય પાવર વપરાશ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{આઈડલ ઇન્વર્ટર: અનંત ગેઇન, ઇન્સ્ટન્ટ સ્વિચિંગ}
\end{mnemonicbox}

\questionmarks{3(b)}{4}{જનરાલાઇઝ્ડ ઇન્વર્ટર સર્કિટ VTC સાથે સમજાવો.}

\begin{solutionbox}
\textbf{જનરાલાઇઝ્ડ ઇન્વર્ટર સ્ટ્રક્ચર:}

\begin{center}
\begin{tabulary}{\linewidth}{L L}
\textbf{ઘટકો:} & \textbf{સર્કિટ:} \\
1. \textbf{ડ્રાઇવર}: પુલ-ડાઉન NMOS ટ્રાન્ઝિસ્ટર. & 
\multirow{3}{*}{\begin{tikzpicture}[scale=0.8]
    \node at (0,3) {VDD};
    \draw (0,2.8) -- (0,2.5);
    \draw (-0.5,2.5) rectangle (0.5,1.5);
    \node at (0,2) {Load};
    \draw (0,1.5) -- (0,1);
    \draw (0,1) -- (1,1) node[right] {$V_{out}$};
    
    \draw (0,1) -- (0,0.5);
    \node[draw,rectangle,minimum size=0.5cm] (n) at (0,0) {Driver};
    \draw (-1,0) -- (-0.5,0) node[left] {$V_{in}$};
    \draw (0,-0.5) -- (0,-1) node[below] {GND};
\end{tikzpicture}} \\
2. \textbf{લોડ}: પુલ-અપ ડિવાઇસ (રેઝિસ્ટર/ટ્રાન્ઝિસ્ટર). & \\
3. \textbf{ઓપરેશન}: ઇનપુટ ડ્રાઇવરની ON/OFF સ્થિતિ અલગ કરે છે. & \\
\end{tabulary}
\end{center}

\textbf{VTC રીજન:}
\begin{itemize}
    \item \textbf{રીજન 1 (હાઇ આઉટપુટ)}: $V_{in} < V_T$. ડ્રાઇવર OFF, લોડ $V_{OH} \approx V_{DD}$ સુધી ખેંચે છે.
    \item \textbf{રીજન 2 (ટ્રાન્ઝિશન)}: બંને ડિવાઇસ કન્ડક્ટિંગ. વોલ્ટેજ તીવ્ર રીતે ઘટે છે.
    \item \textbf{રીજન 3 (લો આઉટપુટ)}: $V_{in}$ હાઇ. ડ્રાઇવર ON (લિનિયર). $V_{out} = V_{OL}$.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{જનરાલાઇઝ્ડ ડિઝાઇન: ડ્રાઇવર પુલ ડાઉન, લોડ લિફ્ટ અપ}
\end{mnemonicbox}

\questionmarks{3(c)}{7}{ડીપ્લેશન લોડ nMOS ઇન્વર્ટર તેની સર્કિટ, ઓપરેટિંગ રીજન અને VTC સાથે સમજાવો.}

\begin{solutionbox}
\textbf{ડીપ્લેશન લોડ NMOS ઇન્વર્ટર:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \node at (0,4.5) {VDD};
    \draw (0,4.3) -- (0,4);
    
    % Depletion Load
    \draw (0,4) -- (0,3.5);
    \draw (0,3.5) -- (0,2.5); % Channel
    \draw (-0.2,3.5) -- (-0.2,2.5); % Gate
    \draw (0.3,3) node {Depletion};
    \draw (-0.2,2.5) -- (0,2.5); % Short gate to source (Vgs=0)
    \draw (0,2.5) -- (0,2);
    
    % Output
    \draw (0,2) -- (1.5,2) node[right] {$V_{out}$};
    
    % Driver (Enhancement)
    \draw (0,2) -- (0,1.5);
    \draw (0,1.5) -- (0,0.5); % Channel
    \draw (-0.2,1.5) -- (-0.2,0.5); % Gate
    \draw (-0.2,1) -- (-0.8,1) node[left] {$V_{in}$};
    \draw (0,0.5) -- (0,0) node[below] {GND};
    
    \node at (1,3.5) {લોડ ($T_2$)};
    \node at (1,1) {ડ્રાઇવર ($T_1$)};
\end{tikzpicture}
\captionof{figure}{ડીપ્લેશન લોડ ઇન્વર્ટર સર્કિટ}
\end{center}

\textbf{ઓપરેટિંગ રીજન:}
\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|L|}
\hline
\textbf{ઇનપુટ સ્ટેટ} & \textbf{ડ્રાઇવર ($T_1$)} & \textbf{લોડ ($T_2$)} & \textbf{આઉટપુટ} \\ \hline
$V_{in} < V_{TN}$ (Low) & OFF (કટઓફ) & ON (લિનિયર) & $V_{OH} = V_{DD}$ \\ \hline
$V_{in}$ ટ્રાન્ઝિશન & સેચ્યુરેશન & સેચ્યુરેશન & Falling \\ \hline
$V_{in} > V_{IH}$ (High) & ON (લિનિયર) & ON (સેચ્યુરેશન) & $V_{OL}$ (નાનું) \\ \hline
\end{tabulary}
\end{center}

\textbf{VTC લાક્ષણિકતાઓ:}
\begin{itemize}
    \item \textbf{હાઇ આઉટપુટ}: ફુલ $V_{DD}$ કારણ કે ડીપ્લેશન લોડ સંપૂર્ણ પુલ-અપ કરે છે.
    \item \textbf{ટ્રાન્ઝિશન}: તીવ્ર, સારા નોઇઝ માર્જિન પ્રદાન કરે છે.
    \item \textbf{લો આઉટપુટ}: નોન-ઝીરો $V_{OL} \approx 0$.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ડીપ્લેશન ડિવાઇસ ડિલિવર કરે ડીસેન્ટ ડ્રાઇવ}
\end{mnemonicbox}

\questionmarks{3(a) OR}{3}{નોઇઝ માર્જિન સમજાવો.}

\begin{solutionbox}
\textbf{વ્યાખ્યા:}
નોઇઝ માર્જિન એ ઇનપુટ સિગ્નલમાં ઉમેરી શકાતો મેક્સિમમ નોઇઝ વોલ્ટેજ છે જે આઉટપુટની લોજિક સ્ટેટમાં ફેરફાર કરતું નથી. તે નોઇઝ ઇમ્યુનિટી માપે છે.

\textbf{પેરામીટર:}
\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{ફોર્મ્યુલા} & \textbf{વર્ણન} \\ \hline
\textbf{NMH} & $V_{OH} - V_{IH}$ & હાઇ નોઇઝ માર્જિન \\ \hline
\textbf{NML} & $V_{IL} - V_{OL}$ & લો નોઇઝ માર્જિન \\ \hline
$V_{OH}$ & - & મિનિમમ આઉટપુટ હાઇ વોલ્ટેજ \\ \hline
$V_{OL}$ & - & મેક્સિમમ આઉટપુટ લો વોલ્ટેજ \\ \hline
$V_{IH}$ & - & મિનિમમ ઇનપુટ હાઇ વોલ્ટેજ \\ \hline
$V_{IL}$ & - & મેક્સિમમ ઇનપુટ લો વોલ્ટેજ \\ \hline
\end{tabulary}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{નોઇઝ માર્જિન મેઇન્ટેઇન કરે સિગ્નલ ઇન્ટેગ્રિટી}
\end{mnemonicbox}

\questionmarks{3(b) OR}{4}{રેઝિસ્ટિવ લોડ ઇન્વર્ટર સમજાવો.}

\begin{solutionbox}
\textbf{સર્કિટ અને એનાલિસિસ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,3) {VDD};
    \draw (0,2.8) -- (0,2.5);
    % Resistor
    \draw (0,2.5) -- (0.2,2.4) -- (-0.2,2.2) -- (0.2,2.0) -- (-0.2,1.8) -- (0,1.6) -- (0,1.5);
    \node[right] at (0.2, 2.1) {$R_L$};
    
    \draw (0,1.5) -- (1,1.5) node[right] {$V_{out}$};
    \draw (0,1.5) -- (0,1);
    
    % NMOS
    \draw (0,1) -- (0,0);
    \draw (-0.2,1) -- (-0.2,0);
    \draw (-0.2,0.5) -- (-0.8,0.5) node[left] {$V_{in}$};
    
    \draw (0,0) -- (0,-0.5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{રેઝિસ્ટિવ લોડ ઇન્વર્ટર}
\end{center}

\textbf{ઓપરેશન:}
\begin{itemize}
    \item \textbf{ઇનપુટ લો}: NMOS OFF. આઉટપુટ $R_L$ દ્વારા $V_{DD}$ પર ખેંચાય છે.
    \item \textbf{ઇનપુટ હાઇ}: NMOS ON. કરંટ $R_L$ અને NMOS માં વહે છે. આઉટપુટ $V_{OL} = V_{DD} \frac{R_{MN}}{R_{MN} + R_L}$.
\end{itemize}

\textbf{ગેરફાયદા:}
\begin{itemize}
    \item ચિપ પર રેઝિસ્ટર માટે મોટો વિસ્તાર જરૂરી.
    \item આઉટપુટ લો હોય ત્યારે સ્ટેટિક પાવર વપરાશ ($V_{DD}^2/R_L$).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{રેઝિસ્ટર રિસ્ટ્રિક્ટ કરે કરંટ, રિડ્યુસ કરે પરફોર્મન્સ}
\end{mnemonicbox}

\questionmarks{3(c) OR}{7}{CMOS ઇન્વર્ટર તેની VTC સાથે સમજાવો.}

\begin{solutionbox}
\textbf{CMOS ઇન્વર્ટર:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \node at (0,3.5) {VDD};
    \draw (0,3.3) -- (0,3);
    
    % PMOS
    \draw (0,3) -- (0,2.5);
    \draw (-0.3,2.5) -- (0.3,2.5); % Source
    \draw (0,2.5) -- (0,2); % Drain
    \draw (-0.2,2.4) -- (-0.2,2.1); % Gate
    \draw (0,2.25) circle (2pt); % Bubble
    \draw (-0.3,2.25) -- (-0.8,2.25); % Gate connection
    \node[right] at (0.3,2.5) {PMOS};

    % Output
    \draw (0,2) -- (0,1) node[midway, right] {$V_{out}$};
    \draw (0,1.5) -- (1,1.5);

    % NMOS
    \draw (0,1) -- (0,0.5); % Drain
    \draw (-0.3,0.5) -- (0.3,0.5);
    \draw (0,0.5) -- (0,0); % Source
    \draw (-0.2,0.9) -- (-0.2,0.6); % Gate
    \draw (-0.2,0.75) -- (-0.8,0.75); % Gate connection
    \node[right] at (0.3,0.5) {NMOS};

    \draw (0,0) -- (0,-0.5) node[below] {GND};
    
    % Input join
    \draw (-0.8,2.25) -- (-0.8,0.75);
    \draw (-0.8,1.5) -- (-1.2,1.5) node[left] {$V_{in}$};
\end{tikzpicture}
\captionof{figure}{CMOS ઇન્વર્ટર સર્કિટ}
\end{center}

\textbf{VTC રીજન અને ઓપરેશન:}
\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|L|L|}
\hline
\textbf{રીજન} & \textbf{ઇનપુટ રેન્જ} & \textbf{PMOS} & \textbf{NMOS} & \textbf{આઉટપુટ} \\ \hline
\textbf{1} & $V_{in} < V_{TN}$ & ON (લિનિયર) & OFF & $V_{DD}$ \\ \hline
\textbf{2} & $V_{TN} < V_{in} < V_{DD}/2$ & ON (Lin) & ON (Sat) & હાઇ ડ્રોપ \\ \hline
\textbf{3} & $V_{in} \approx V_{DD}/2$ & સેચ્યુરેશન & સેચ્યુરેશન & સ્વિચ \\ \hline
\textbf{4} & $V_{DD}/2 < V_{in} < V_{DD}+V_{TP}$ & ON (Sat) & ON (Lin) & લો ડ્રોપ \\ \hline
\textbf{5} & $V_{in} > V_{DD}+V_{TP}$ & OFF & ON (લિનિયર) & $0$ \\ \hline
\end{tabulary}
\end{center}

\textbf{ફાયદા:} - શૂન્ય સ્ટેટિક પાવર. - ફુલ રેલ-ટુ-રેલ લોજિક સ્વિંગ. - હાઇ નોઇઝ માર્જિન.
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CMOS: કોમ્પ્લિમેન્ટરી ફોર કોમ્પ્લીટ પરફોર્મન્સ}
\end{mnemonicbox}


\questionmarks{4(a)}{3}{AOI CMOS ઇમ્પ્લિમેન્ટેશન સાથે દોરો.}

\begin{solutionbox}
\textbf{AOI લોજિક:} $Y = \overline{AB + CD}$

\textbf{CMOS ઇમ્પ્લિમેન્ટેશન:}

\begin{center}
\begin{tikzpicture}[scale=0.9]
    \node at (0,5.5) {VDD};
    \draw (0,5.3) -- (0,5);
    
    % PUN (Dual): (A'+B')(C'+D')
    \draw (0,5) -- (-1.5,4.5);
    \draw (0,5) -- (1.5,4.5);
    
    \node[draw,circle,minimum size=0.5cm] (pA) at (-1.5,4) {pA};
    \node[draw,circle,minimum size=0.5cm] (pC) at (1.5,4) {pC};
    \draw (-1.5,3.5) -- (0,3);
    \draw (1.5,3.5) -- (0,3);
    
    \draw (0,3) -- (0,2.8);
    \draw (0,2.8) -- (-1.5,2.3);
    \draw (0,2.8) -- (1.5,2.3);
    
    \node[draw,circle,minimum size=0.5cm] (pB) at (-1.5,1.8) {pB};
    \node[draw,circle,minimum size=0.5cm] (pD) at (1.5,1.8) {pD};
    \draw (-1.5,1.3) -- (0,0.8);
    \draw (1.5,1.3) -- (0,0.8);
    
    % Output
    \draw (0,0.8) -- (2,0.8) node[right] {$V_{out}$};
    \draw (0,0.8) -- (0,0.5);
    
    % PDN: AB + CD
    \draw (0,0.5) -- (-1.5,0);
    \draw (0,0.5) -- (1.5,0);
    
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-1.5,-0.5) {nA};
    \draw (-1.5,-1) -- (-1.5,-1.5);
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (-1.5,-2) {nB};
    
    \node[draw,rectangle,minimum size=0.5cm] (nC) at (1.5,-0.5) {nC};
    \draw (1.5,-1) -- (1.5,-1.5);
    \node[draw,rectangle,minimum size=0.5cm] (nD) at (1.5,-2) {nD};
    
    \draw (-1.5,-2.5) -- (0,-3);
    \draw (1.5,-2.5) -- (0,-3);
    \draw (0,-3) -- (0,-3.5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{AOI CMOS સર્કિટ}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{AOI: AND-OR પછી ઇન્વર્ટ}
\end{mnemonicbox}

\questionmarks{4(b)}{4}{બે ઇનપુટ NOR અને NAND ગેટ ડીપ્લેશન લોડ nMOS થી બનાવો.}

\begin{solutionbox}
\textbf{ડીપ્લેશન લોડ ગેટ્સ:}

\begin{center}
\begin{tabulary}{\linewidth}{C C}
\textbf{NOR ગેટ} & \textbf{NAND ગેટ} \\
\begin{tikzpicture}[scale=0.8]
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    \draw (0,3.5) -- (0,3); % Depletion Load
    \draw (-0.2,3) -- (-0.2,3.5); \draw (-0.2,3) -- (0,3);
    \draw (0,3) -- (0,2.5);
    \draw (0,2.5) -- (1,2.5) node[right] {Y};
    
    % Parallel NMOS A, B
    \draw (0,2.5) -- (-1,2);
    \draw (0,2.5) -- (1,2);
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-1,1.5) {nA};
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (1,1.5) {nB};
    \draw (-1,1) -- (0,0.5);
    \draw (1,1) -- (0,0.5);
    \draw (0,0.5) -- (0,0) node[below] {GND};
\end{tikzpicture}
&
\begin{tikzpicture}[scale=0.8]
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    \draw (0,3.5) -- (0,3); % Depletion Load
    \draw (-0.2,3) -- (-0.2,3.5); \draw (-0.2,3) -- (0,3);
    \draw (0,3) -- (0,2.5);
    \draw (0,2.5) -- (1,2.5) node[right] {Y};
    
    % Series NMOS A, B
    \draw (0,2.5) -- (0,2);
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (0,1.5) {nA};
    \draw (0,1) -- (0,0.5);
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (0,0) {nB};
    \draw (0,-0.5) -- (0,-1) node[below] {GND};
\end{tikzpicture}
\\
\end{tabulary}
\end{center}

\textbf{ટ્રુથ ટેબલ:}
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
A & B & NOR & NAND \\ \hline
0 & 0 & 1 & 1 \\ \hline
0 & 1 & 0 & 1 \\ \hline
1 & 0 & 0 & 1 \\ \hline
1 & 1 & 0 & 0 \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{NOR ને કંઈ હાઇ નહીં જોઈએ, NAND ને બધું હાઇ જોઈએ લો થવા માટે}
\end{mnemonicbox}

\questionmarks{4(c)}{7}{NOR2 અને NAND2 ગેટનો ઉપયોગ કરીને CMOS SR લેચ ઇમ્પ્લિમેન્ટ કરો.}

\begin{solutionbox}
\textbf{NOR ગેટ વડે SR લેચ:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \node[draw, rectangle] (nor1) at (0,2) {\textbf{NOR}};
    \node[draw, rectangle] (nor2) at (0,0) {\textbf{NOR}};
    
    \node (R) at (-2,2.2) {R};
    \node (S) at (-2,-0.2) {S};
    \draw (R) -- (-0.8,2.2); % Input R top
    \draw (S) -- (-0.8,-0.2); % Input S bot
    
    \draw (nor1.east) -- (2,2) node[right] {Q};
    \draw (nor2.east) -- (2,0) node[right] {Q'};
    
    % Feedback
    \draw (1,2) -- (1,1.5) -- (-1,0.5) -- (-1,0.2) -- (nor2.west |- 0,0.2);
    \draw (1,0) -- (1,0.5) -- (-1,1.5) -- (-1,1.8) -- (nor1.west |- 0,1.8);
\end{tikzpicture}
\captionof{figure}{SR લેચ લોજિક સિમ્બોલ}
\end{center}

\textbf{CMOS ઇમ્પ્લિમેન્ટેશન (NOR લેચ):}
બે CMOS NOR2 ગેટ ક્રોસ-કપ્લ્ડ ઇનપુટ સાથે.
\begin{itemize}
    \item \textbf{ટોપ NOR}: ઇનપુટ R અને Q'. આઉટપુટ Q.
    \item \textbf{બોટમ NOR}: ઇનપુટ S અને Q. આઉટપુટ Q'.
\end{itemize}

\textbf{સ્ટેટ ટેબલ:}
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
S & R & Q(n+1) & એક્શન \\ \hline
0 & 0 & Q(n) & હોલ્ડ \\ \hline
0 & 1 & 0 & રીસેટ \\ \hline
1 & 0 & 1 & સેટ \\ \hline
1 & 1 & 0 & અમાન્ય \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SR લેચ: સેટ-રીસેટ વિથ ક્રોસ-કપ્લ્ડ ગેટ}
\end{mnemonicbox}

\questionmarks{4(a) OR}{3}{CMOS નો ઉપયોગ કરીને XOR ફંક્શન ઇમ્પ્લિમેન્ટ કરો.}

\begin{solutionbox}
\textbf{XOR ફંક્શન:} $Y = A \oplus B = A\bar{B} + \bar{A}B$.
\textbf{ઇન્વર્ટેડ લોજિક:} $\overline{Y} = \overline{A\bar{B} + \bar{A}B} = (A+B)(\bar{A}+\bar{B}) = XNOR$.
સામાન્ય રીતે XOR 12 ટ્રાન્ઝિસ્ટર (ઇન્વર્ટર સાથે) અથવા ટ્રાન્સમિશન ગેટ (6-8 ટ્રાન્ઝિસ્ટર) નો ઉપયોગ કરીને બનાવવામાં આવે છે.

\textbf{સ્ટેટિક CMOS (12T):} PDN માં XNOR બનાવો અને ઇન્વર્ટ કરો.
PDN: પેરેલલ (A સીરીઝ B') અને (A' સીરીઝ B).
PUN: સીરીઝ (A પેરેલલ B') અને (A' પેરેલલ B).

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,5) {VDD};
    \draw (0,4.8) -- (0,4.5);
    
    % PUN logic: (A || B') series (A' || B)
    % Block 1: A || B'
    \draw (0,4.5) -- (-1,4); \draw (0,4.5) -- (1,4);
    \node[draw,circle,minimum size=0.5cm] (pA) at (-1,3.5) {pA};
    \node[draw,circle,minimum size=0.5cm] (pBb) at (1,3.5) {pB'};
    \draw (-1,3) -- (0,2.5); \draw (1,3) -- (0,2.5);
    
    \draw (0,2.5) -- (0,2.2);
    
    % Block 2: A' || B
    \draw (0,2.2) -- (-1,1.7); \draw (0,2.2) -- (1,1.7);
    \node[draw,circle,minimum size=0.5cm] (pAb) at (-1,1.2) {pA'};
    \node[draw,circle,minimum size=0.5cm] (pB) at (1,1.2) {pB};
    \draw (-1,0.7) -- (0,0.2); \draw (1,0.7) -- (0,0.2);
    
    \draw (0,0.2) -- (2,0.2) node[right] {Y (XOR)};
    \draw (2,0.2) -- (2.5,0.2) -- (3,0.2);
    \node[right] at (3,0.2) {Note: Inverter needed};
    
    \draw (0,0.2) -- (0,0);
\end{tikzpicture}
\captionof{figure}{CMOS સ્ટ્રક્ચર (લોજિક એનાલિસિસ)}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{XOR: એક્સક્લુસિવ OR, અલગ ઇનપુટ આપે 1}
\end{mnemonicbox}

\questionmarks{4(b) OR}{4}{બે ઇનપુટ NOR અને NAND ગેટ CMOS થી બનાવો.}

\begin{solutionbox}
\textbf{CMOS ગેટ્સ:}

\begin{center}
\begin{tabulary}{\linewidth}{C C}
\textbf{NAND ગેટ} & \textbf{NOR ગેટ} \\
\begin{tikzpicture}[scale=0.8]
    % NAND
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    % PUN Parallel
    \draw (0,3.5) -- (-1,3); \draw (0,3.5) -- (1,3);
    \node[draw,circle,minimum size=0.5cm] (pA) at (-1,2.5) {pA};
    \node[draw,circle,minimum size=0.5cm] (pB) at (1,2.5) {pB};
    \draw (-1,2) -- (0,1.5); \draw (1,2) -- (0,1.5);
    \draw (0,1.5) -- (1,1.5) node[right] {Y};
    % PDN Series
    \draw (0,1.5) -- (0,1);
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (0,0.5) {nA};
    \draw (0,0) -- (0,-0.5);
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (0,-1) {nB};
    \draw (0,-1.5) -- (0,-2) node[below] {GND};
\end{tikzpicture}
&
\begin{tikzpicture}[scale=0.8]
    % NOR
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    % PUN Series
    \draw (0,3.5) -- (0,3);
    \node[draw,circle,minimum size=0.5cm] (pA) at (0,2.5) {pA};
    \draw (0,2) -- (0,1.5);
    \node[draw,circle,minimum size=0.5cm] (pB) at (0,1) {pB};
    % Output
    \draw (0,0.5) -- (1,0.5) node[right] {Y};
    % PDN Parallel
    \draw (0,0.5) -- (0,0);
    \draw (0,0) -- (-1,-0.5); \draw (0,0) -- (1,-0.5);
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-1,-1) {nA};
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (1,-1) {nB};
    \draw (-1,-1.5) -- (0,-2); \draw (1,-1.5) -- (0,-2);
    \draw (0,-2) -- (0,-2.5) node[below] {GND};
\end{tikzpicture}
\\
\end{tabulary}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{NAND: પેરેલલ PMOS, સીરીઝ NMOS. NOR: સીરીઝ PMOS, પેરેલલ NMOS.}
\end{mnemonicbox}

\questionmarks{4(c) OR}{7}{Y=[PQ+R(S+T)]' બુલિયન સમીકરણ ડીપ્લેશન લોડ nMOS અને CMOS થી ઇમ્પ્લિમેન્ટ કરો.}

\begin{solutionbox}
\textbf{ફંક્શન:} $Y = \overline{PQ + R(S+T)}$

\textbf{1. ડીપ્લેશન લોડ nMOS:}
PDN ઇન્વર્શન વગર ફંક્શન ઇમ્પ્લિમેન્ટ કરે છે.
સ્ટ્રક્ચર: $S$ સમાંતરમાં $T$, $R$ સાથે શ્રેણીમાં. આ બ્લોક $P$ શ્રેણીમાં $Q$ સાથે સમાંતરમાં.

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,5) {VDD};
    \draw (0,4.8) -- (0,4.5);
    % Depletion Load
    \node[draw,rectangle] (load) at (0,4) {Dep};
    \draw (0,3.5) -- (0,3);
    \draw (0,3) -- (1.5,3) node[right] {Y};
    
    % PDN
    % Branch 1: P-Q
    \draw (0,3) -- (-2,2.5);
    \node[draw,rectangle,minimum size=0.5cm] (nP) at (-2,2) {nP};
    \draw (-2,1.5) -- (-2,1);
    \node[draw,rectangle,minimum size=0.5cm] (nQ) at (-2,0.5) {nQ};
    
    % Branch 2: R(S+T)
    \draw (0,3) -- (2,2.5);
    \node[draw,rectangle,minimum size=0.5cm] (nR) at (2,2) {nR};
    \draw (2,1.5) -- (2,1);
    
    \draw (2,1) -- (1,0.5); \draw (2,1) -- (3,0.5);
    \node[draw,rectangle,minimum size=0.5cm] (nS) at (1,0) {nS};
    \node[draw,rectangle,minimum size=0.5cm] (nT) at (3,0) {nT};
    
    \draw (1,-0.5) -- (2,-1); \draw (3,-0.5) -- (2,-1);
    \draw (2,-1) -- (2,-1.5);
    
    \draw (-2,-0.5) -- (-2,-1.5);
    \draw (-2,-1.5) -- (2,-1.5) -- (0,-1.5);
    \draw (0,-1.5) -- (0,-2) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{ડીપ્લેશન લોડ ઇમ્પ્લિમેન્ટેશન}
\end{center}

\textbf{2. CMOS ઇમ્પ્લિમેન્ટેશન:}
PDN ઉપર મુજબ જ છે. PUN ડ્યુઅલ છે.
સ્ટ્રક્ચર: $(P || Q)$ સીરીઝમાં $(R || (S \text{ શ્રેણી } T))$.
\end{solutionbox}

\questionmarks{5(a)}{3}{વેરિલોગમાં ઉપયોગ થતી ડિઝાઇન સ્ટાઇલ સમજાવો.}

\begin{solutionbox}
\textbf{વેરિલોગ ડિઝાઇન સ્ટાઇલ:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{સ્ટાઇલ} & \textbf{વર્ણન} & \textbf{ઉદાહરણ} \\ \hline
\textbf{ગેટ લેવલ} & પ્રિમિટિવ ગેટ (and, or, not) નો ઉપયોગ કરીને સ્ટ્રક્ચરલ મોડેલિંગ. & \code{and g1(y, a, b);} \\ \hline
\textbf{ડેટા ફ્લો} & કંટિન્યુઅસ એસાઇનમેન્ટનો ઉપયોગ કરીને સિગ્નલ ફ્લો વર્ણવે છે. & \code{assign y = a \& b;} \\ \hline
\textbf{બિહેવિયરલ} & પ્રોસિજરલ બ્લોકનો ઉપયોગ કરીને કાર્યક્ષમતા વર્ણવે છે. & \code{always @(*) y = a \& b;} \\ \hline
\end{tabulary}
\end{center}

\textbf{મેમરી ટ્રીક}: \textit{ગેટ-ડેટા-બિહેવિયર: મોડેલ કરવાની ત્રણ રીત}
\end{solutionbox}

\questionmarks{5(b)}{4}{બિહેવિયરલ મોડેલિંગ થી ફુલ એડર માટે વેરિલોગ પ્રોગ્રામ લખો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module full_adder_behavioral (
    input wire a, b, cin,
    output reg sum, cout
);

always @(*) begin
    case ({a, b, cin})
        3'b000: {cout, sum} = 2'b00;
        3'b001: {cout, sum} = 2'b01;
        3'b010: {cout, sum} = 2'b01;
        3'b011: {cout, sum} = 2'b10;
        3'b100: {cout, sum} = 2'b01;
        3'b101: {cout, sum} = 2'b10;
        3'b110: {cout, sum} = 2'b10;
        3'b111: {cout, sum} = 2'b11;
        default: {cout, sum} = 2'b00;
    endcase
end
endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(c)}{7}{CASE સ્ટેટમેન્ટનું ફંક્શન વર્ણવો. CASE સ્ટેટમેન્ટનો ઉપયોગ કરીને 3x8 ડિકોડરનો વેરિલોગ કોડ લખો.}

\begin{solutionbox}
\textbf{CASE સ્ટેટમેન્ટ:} મલ્ટિ-વે બ્રાન્ચિંગ કન્સ્ટ્રક્ટ.
\textbf{લક્ષણો:}
\begin{itemize}
    \item એક્સપ્રેશનને કેસ આઈટમ્સ સાથે સરખાવે છે.
    \item પ્રથમ મેચિંગ આઈટમ એક્ઝિક્યુટ કરે છે.
    \item \code{default} આઈટમ અનમેચ કેસોને કવર કરે છે.
\end{itemize}

\textbf{3x8 ડિકોડર:}
\begin{lstlisting}[language=Verilog]
module decoder_3x8 (
    input wire [2:0] sel,
    input wire en,
    output reg [7:0] y
);
always @(*) begin
    if (en) begin
        case (sel)
            3'b000: y = 8'b00000001;
            3'b001: y = 8'b00000010;
            3'b010: y = 8'b00000100;
            3'b011: y = 8'b00001000;
            3'b100: y = 8'b00010000;
            3'b101: y = 8'b00100000;
            3'b110: y = 8'b01000000;
            3'b111: y = 8'b10000000;
            default: y = 8'b00000000;
        endcase
    end else y = 0;
end
endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(a) OR}{3}{2:1 મલ્ટિપ્લેક્સર ઇમ્પ્લિમેન્ટ કરતો વેરિલોગ કોડ લખો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
// Behavioral
module mux21 (input a, b, s, output reg y);
    always @(*) begin
        if(s) y = b;
        else y = a;
    end
endmodule

// Data Flow
module mux21_df (input a, b, s, output y);
    assign y = s ? b : a;
endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(b) OR}{4}{બિહેવિયરલ મોડેલિંગ થી D ફ્લિપ-ફ્લોપ માટે વેરિલોગ પ્રોગ્રામ લખો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module d_ff (
    input clk, rst, d,
    output reg q, qbar
);
always @(posedge clk or posedge rst) begin
    if (rst) begin
        q <= 0;
        qbar <= 1;
    end else begin
        q <= d;
        qbar <= ~d;
    end
end
endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(c) OR}{7}{ટેસ્ટબેંચ ટૂંકમાં વર્ણવો. 4-બિટ ડાઉન કાઉન્ટર ઇમ્પ્લિમેન્ટ કરવાનો વેરિલોગ કોડ લખો.}

\begin{solutionbox}
\textbf{ટેસ્ટબેંચ:} ડિઝાઇન ફંક્શનલિટી ચકાસવા માટે વપરાતું મોડ્યુલ, જે ઉત્તેજના (ઇનપુટ) આપે છે અને પ્રતિભાવો (આઉટપુટ) મોનિટર કરે છે. તે નોન-સિન્થેસાઇઝેબલ છે.

\textbf{4-બિટ ડાઉન કાઉન્ટર:}
\begin{lstlisting}[language=Verilog]
module down_counter (
    input clk, rst, en,
    output reg [3:0] count
);
always @(posedge clk or posedge rst) begin
    if (rst) count <= 4'b1111;
    else if (en) count <= count - 1;
end
endmodule
\end{lstlisting}

\textbf{ટેસ્ટબેંચ કોડ:}
\begin{lstlisting}[language=Verilog]
module tb_counter;
    reg clk, rst, en;
    wire [3:0] count;
    
    down_counter dut (clk, rst, en, count);
    
    always #5 clk = ~clk;
    
    initial begin
        clk=0; rst=1; en=0;
        #10 rst=0; en=1;
        #200 $finish;
    end
    
    initial $monitor("T=%t C=%b", $time, count);
endmodule
\end{lstlisting}
\end{solutionbox}

\end{document}
