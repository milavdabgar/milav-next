\documentclass{article}
\input{../../../../../../../latex-templates/gtu-solutions-short/preamble.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/gujarati-boxes.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/commands.tex}

\title{VLSI Technology (4353206) - Summer 2025 Solution}
\date{May 19, 2025}

\begin{document}
\maketitle

\questionmarks{1(a)}{3}{n-ચેનલ MOSFET ની ભૌતિક રચનાની સ્વચ્છ લેબલવાળી આકૃતિ દોરો.}

\begin{solutionbox}
\textbf{n-ચેનલ MOSFET ની ભૌતિક રચના:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % Substrate
    \fill[gray!20] (0,0) rectangle (8,3);
    \node at (4,1) {p-type substrate};
    \node at (4,0.3) {બોડી/સબસ્ટ્રેટ (B)};
    \draw[thick] (4,0) -- (4,-0.5);

    % n+ regions
    \fill[pattern=north east lines] (0.5,2) rectangle (2,3);
    \node[fill=white, inner sep=1pt] at (1.25,2.5) {n+};
    \node at (1.25,1.5) {સોર્સ};
    
    \fill[pattern=north east lines] (6,2) rectangle (7.5,3);
    \node[fill=white, inner sep=1pt] at (6.75,2.5) {n+};
    \node at (6.75,1.5) {ડ્રેઈન};

    % Oxide
    \fill[cyan!20] (2,3) rectangle (6,3.5);
    \node at (4,3.25) {SiO$_2$ (ઓક્સાઇડ)};

    % Gate
    \fill[black!10] (2,3.5) rectangle (6,4);
    \node at (4,3.75) {ગેટ (પોલીસિલિકોન/મેટલ)};

    % Terminals
    \draw[thick] (1.25,3) -- (1.25,4.5) node[above] {સોર્સ (S)};
    \draw[thick] (6.75,3) -- (6.75,4.5) node[above] {ડ્રેઈન (D)};
    \draw[thick] (4,4) -- (4,4.5) node[above] {ગેટ (G)};

    % Channel area indication
    \draw[dashed] (2,2.8) -- (6,2.8);
    \node[font=\footnotesize] at (4,2.5) {ચેનલ પ્રદેશ};
\end{tikzpicture}
\captionof{figure}{n-ચેનલ MOSFET માળખું}
\end{center}

\textbf{મુખ્ય ઘટકો:}
\begin{itemize}
    \item \textbf{સોર્સ}: n+ ડોપ્ડ પ્રદેશ જે ઇલેક્ટ્રોન પૂરા પાડે છે.
    \item \textbf{ડ્રેઈન}: n+ ડોપ્ડ પ્રદેશ જે ઇલેક્ટ્રોન એકત્રિત કરે છે.
    \item \textbf{ગેટ}: ચેનલને નિયંત્રિત કરતું મેટલ ઇલેક્ટ્રોડ.
    \item \textbf{ઓક્સાઇડ}: SiO\textsubscript{2} ઇન્સ્યુલેટિંગ લેયર.
    \item \textbf{સબસ્ટ્રેટ}: p-type સિલિકોન બોડી.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SOGD - સોર્સ, ઓક્સાઇડ, ગેટ, ડ્રેઈન}
\end{mnemonicbox}

\questionmarks{1(b)}{4}{ બાહ્ય બાયસ હેઠળ MOS ના ડિપ્લેશન અને ઇન્વર્ઝન માટે એનર્જી બેન્ડ ડાયાગ્રામ દોરો અને ઈન્વર્ઝન સમજાવો.}

\begin{solutionbox}
\textbf{MOS બાયસિંગ સર્કિટ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \fill[gray!20] (0,0) rectangle (4,2);
    \node at (2,1) {p-type Si};
    \fill[cyan!20] (0,2) rectangle (4,3);
    \node at (2,2.5) {ઓક્સાઇડ};
    \fill[black!10] (0,3) rectangle (4,3.5);
    \node at (2,3.25) {ગેટ};
    
    \draw[thick] (2,3.5) -- (2,4) node[above] {$V_G > 0$};
    \draw[thick] (2,0) -- (2,-0.5) node[below] {$V_B = 0$};
    
    \node[right] at (4,2.5) {MOS માળખું};
\end{tikzpicture}
\captionof{figure}{MOS બાયસિંગ}
\end{center}

\textbf{એનર્જી બેન્ડ ડાયાગ્રામ:}

\begin{center}
\begin{tabulary}{\linewidth}{|C|C|}
\hline
\textbf{ડિપ્લેશન} & \textbf{ઇન્વર્ઝન} \\
\hline
\begin{tikzpicture}[scale=0.5]
    % Depletion Bands
    \draw[thick] (0,0) -- (4,0) node[right] {$E_V$};
    \draw[thick] (0,3) -- (4,3) node[right] {$E_C$};
    \draw[dashed] (0,0.5) -- (4,0.5) node[right] {$E_F$};
    \draw[thick] (0,1.5) -- (4,1.5) node[right] {$E_i$};
    
    \draw[thick] (0,0) .. controls (1,0) and (2,0.5) .. (3,1);
    \draw[thick] (0,3) .. controls (1,3) and (2,3.5) .. (3,4);
    
    \node at (2,-1) {બેન્ડ નીચે વળે છે};
\end{tikzpicture}
&
\begin{tikzpicture}[scale=0.5]
    % Inversion Bands
    \draw[thick] (0,0) -- (4,0); % Ev
    \draw[thick] (0,3) -- (4,3); % Ec
    \draw[dashed] (0,0.5) -- (4,0.5); % Ef
    \draw[thick] (0,1.5) -- (4,1.5); % Ei
    
    \draw[thick, red] (0,0) .. controls (1,0) and (2,-1) .. (3,-1.5);
    \draw[thick, red] (0,3) .. controls (1,3) and (2,2) .. (3,1.5);
    \draw[thick, red] (0,1.5) .. controls (1,1.5) and (2,0.5) .. (3,0);
    
    \node at (2,-2) {$E_i$, $E_F$ ને ક્રોસ કરે છે};
\end{tikzpicture}
\\
\hline
\end{tabulary}
\end{center}

\textbf{ઇન્વર્ઝન પ્રદેશની વિગતો:}
\begin{itemize}
    \item \textbf{Strong inversion}: $V_G > V_T$ (થ્રેસોલ્ડ વોલ્ટેજ)
    \item \textbf{ઇલેક્ટ્રોન ચેનલ}: Si-SiO\textsubscript{2} ઇન્ટરફેસ પર માઈનોરિટી કેરિયર્સ (ઇલેક્ટ્રોન) એકઠા થવાથી રચાય છે.
    \item \textbf{ચેનલ વાહકતા}: ગેટ વોલ્ટેજ સાથે વધે છે.
    \item \textbf{થ્રેસોલ્ડ શરત}: સપાટી પોટેન્શિયલ $\phi_s = 2\phi_F$.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{DIVE - ડિપ્લેશન (Depletion), ઇન્વર્ઝન (Inversion), વોલ્ટેજ (Voltage), ઇલેક્ટ્રોન (Electrons)}
\end{mnemonicbox}

\questionmarks{1(c)}{7}{MOSFET ના I-V લક્ષણો સમજાવો.}

\begin{solutionbox}
\textbf{I-V લાક્ષણિકતા પ્રદેશો:}

\begin{center}
\captionof{table}{ઓપરેટિંગ પ્રદેશો}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પ્રદેશ} & \textbf{શરત} & \textbf{ડ્રેઈન કરંટ ($I_D$)} \\ \hline
\textbf{કટઓફ (Cutoff)} & $V_{GS} < V_T$ & $I_D \approx 0$ \\ \hline
\textbf{લીનિયર (Linear)} & $V_{GS} > V_T, V_{DS} < V_{GS}-V_T$ & $I_D = \mu_n C_{ox} \frac{W}{L} [(V_{GS}-V_T)V_{DS} - \frac{V_{DS}^2}{2}]$ \\ \hline
\textbf{સેચ્યુરેશન (Saturation)} & $V_{GS} > V_T, V_{DS} \ge V_{GS}-V_T$ & $I_D = \frac{1}{2} \mu_n C_{ox} \frac{W}{L} (V_{GS}-V_T)^2$ \\ \hline
\end{tabulary}
\end{center}

\textbf{લાક્ષણિકતા વક્ર:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \draw[->] (0,0) -- (6,0) node[right] {$V_{DS}$};
    \draw[->] (0,0) -- (0,5) node[above] {$I_D$};
    
    % Curves
    \draw[thick, blue] (0,0) .. controls (1,2) and (3,2.2) .. (5,2.3) node[right] {$V_{GS3}$};
    \draw[thick, blue] (0,0) .. controls (1,1.5) and (3,1.6) .. (5,1.7) node[right] {$V_{GS2}$};
    \draw[thick, blue] (0,0) .. controls (1,0.8) and (3,0.9) .. (5,0.95) node[right] {$V_{GS1}$};
    
    % Parabola separating regions
    \draw[dashed, red] (0,0) parabola (2.5,4);
    \node[red] at (1,3) {$V_{DS} = V_{GS}-V_T$};
    
    \node at (1.5,0.5) {લીનિયર};
    \node at (4,1.2) {સેચ્યુરેશન};
\end{tikzpicture}
\captionof{figure}{MOSFET I-V લાક્ષણિકતાઓ}
\end{center}

\textbf{મુખ્ય પરિમાણો:}
\begin{itemize}
    \item \textbf{$\mu_n$}: ઇલેક્ટ્રોન મોબિલિટી
    \item \textbf{$C_{ox}$}: ગેટ ઓક્સાઇડ કેપેસિન્સ પ્રતિ એકમ ક્ષેત્રફળ
    \item \textbf{$W/L$}: ચેનલ પહોળાઈ થી લંબાઈ ગુણોત્તર
    \item \textbf{$V_T$}: થ્રેસોલ્ડ વોલ્ટેજ
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CLS - Cutoff, Linear, Saturation}
\end{mnemonicbox}

\questionmarks{1(c) OR}{7}{સ્કેલિંગ વ્યાખ્યાયિત કરો. સ્કેલિંગની જરૂરિયાત સમજાવો. સ્કેલિંગની નકારાત્મક અસરોની યાદી આપો અને સમજાવો.}

\begin{solutionbox}
\textbf{વ્યાખ્યા:}
\textbf{સ્કેલિંગ} એ MOSFET પરિમાણોને વ્યવસ્થિત રીતે ઘટાડવાની પ્રક્રિયા છે જેથી કામગીરી (perfromance) અને ઘનતા (density) સુધારી શકાય.

\textbf{સ્કેલિંગની જરૂરિયાત:}
\begin{itemize}
    \item \textbf{ઉચ્ચ ઘનતા}: ચિપ વિસ્તાર દીઠ વધુ ટ્રાન્ઝિસ્ટર (મૂરેનો નિયમ).
    \item \textbf{ઝડપી સ્પીડ}: ચેનલ લંબાઈ ઘટવાથી કેરિયર ટ્રાન્ઝિટ સમય ($t = L^2/\mu V$) ઘટે છે.
    \item \textbf{ઓછો પાવર}: નાના પરોપજીવી કેપેસીટન્સ સ્વિચિંગ એનર્જી ઘટાડે છે.
    \item \textbf{ખર્ચ ઘટાડો}: વેફર દીઠ વધુ ચિપ્સ મળવાથી કિંમત ઘટે છે.
\end{itemize}

\textbf{સ્કેલિંગ પ્રકારો:}

\begin{center}
\captionof{table}{સ્કેલિંગ વ્યૂહરચનાઓ}
\begin{tabulary}{\linewidth}{|L|C|C|C|}
\hline
\textbf{પ્રકાર} & \textbf{ગેટ લંબાઈ} & \textbf{સપ્લાય વોલ્ટેજ} & \textbf{ઓક્સાઇડ જાડાઈ} \\ \hline
\textbf{Constant Voltage} & $\downarrow \alpha$ & અચળ & $\downarrow \alpha$ \\ \hline
\textbf{Constant Field} & $\downarrow \alpha$ & $\downarrow \alpha$ & $\downarrow \alpha$ \\ \hline
\end{tabulary}
\end{center}

\textbf{નકારાત્મક અસરો:}
\begin{itemize}
    \item \textbf{Short Channel Effects (SCE)}: $V_T$ roll-off અને DIBL.
    \item \textbf{Hot Carrier Effects}: હાઈ ઇલેક્ટ્રિક ફીલ્ડ ઇલેક્ટ્રોનને ઓક્સાઇડમાં ઇન્જેક્ટ કરે છે, જે ડિવાઇસને નુકસાન પહોંચાડે છે.
    \item \textbf{Gate Leakage}: પાતળું ઓક્સાઇડ ક્વોન્ટમ ટનલિંગ કરંટ તરફ દોરી જાય છે.
    \item \textbf{Process Variations}: નેનો-સ્કેલ પર પરિમાણોને નિયંત્રિત કરવામાં મુશ્કેલી.
    \item \textbf{Power Density}: એકમ વિસ્તાર દીઠ વધેલી ગરમી થર્મલ મેનેજમેન્ટ સમસ્યાઓ ઊભી કરે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SHGPP - Short channel, Hot carrier, Gate leakage, Process, Power}
\end{mnemonicbox}

\questionmarks{2(a)}{3}{CMOS નો ઉપયોગ કરીને Y' = (AB' + A'B) અમલ કરો.}

\begin{solutionbox}
\textbf{લોજિક વિશ્લેષણ:}
$Y' = AB' + A'B = A \oplus B$ (XOR ફંક્શન).

\textbf{CMOS અમલીકરણ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % VDD
    \node at (4,6) {VDD};
    \draw (4,5.8) -- (4,5.5);
    \draw (2,5.5) -- (6,5.5);
    
    % Left PMOS branch
    \draw (2,5.5) -- (2,5);
    \node[draw,circle,minimum size=0.5cm] (p1) at (2,4.5) {pA};
    \draw (2,4) -- (2,3.5);
    \node[draw,circle,minimum size=0.5cm] (p2) at (2,3) {pB'};
    \draw (2,2.5) -- (2,2);
    
    % Right PMOS branch
    \draw (6,5.5) -- (6,5);
    \node[draw,circle,minimum size=0.5cm] (p3) at (6,4.5) {pA'};
    \draw (6,4) -- (6,3.5);
    \node[draw,circle,minimum size=0.5cm] (p4) at (6,3) {pB};
    \draw (6,2.5) -- (6,2);
    
    \draw (2,2) -- (6,2);
    \draw (4,2) -- (4,1.5) node[right] {Y = (AB'+A'B)' = XNOR}; 
    
    \draw (4,1.5) -- (4,1);
    \draw (2,1) -- (6,1);
    
    % NMOS Left: A series B'
    \draw (2,1) -- (2,0.5);
    \node[draw,rectangle,minimum size=0.5cm] (n1) at (2,0) {nA};
    \draw (2,-0.5) -- (2,-1);
    \node[draw,rectangle,minimum size=0.5cm] (n2) at (2,-1.5) {nB'};
    \draw (2,-2) -- (2,-2.5);
    
    % NMOS Right: A' series B
    \draw (6,1) -- (6,0.5);
    \node[draw,rectangle,minimum size=0.5cm] (n3) at (6,0) {nA'};
    \draw (6,-0.5) -- (6,-1);
    \node[draw,rectangle,minimum size=0.5cm] (n4) at (6,-1.5) {nB};
    \draw (6,-2) -- (6,-2.5);
    
    \draw (2,-2.5) -- (6,-2.5);
    \draw (4,-2.5) -- (4,-3) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{XNOR માટે સ્ટેટિક CMOS (ઇન્વર્ટેડ XOR)}
\end{center}
\end{solutionbox}

\questionmarks{2(b)}{4}{તેના સર્કિટ ડાયાગ્રામ સાથે એન્હાન્સમેન્ટ લોડ ઇન્વર્ટર સમજાવો.}

\begin{solutionbox}
\textbf{સર્કિટ ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    
    \draw (0,3.5) -- (0,3); % Drain
    \draw (-0.5,2.5) -- (0.5,2.5); % Gate
    \draw (0,2) -- (0,1.5); % Source
    
    \draw (0,3) -- (0,2);
    \node at (0.8,2.5) {ML (Load)};
    
    \draw (-0.5,2.5) -- (-0.5,3.2) -- (0,3.2);
    
    \draw (0,1.5) -- (2,1.5) node[right] {$V_{out}$};
    
    \draw (0,1.5) -- (0,1);
    \draw (-0.5,0.5) -- (0.5,0.5); % Gate
    \draw (0,0) -- (0,-0.5); % Source
    \draw (0,1) -- (0,0);
    \node at (0.8,0.5) {MD (Driver)};
    
    \draw (-0.5,0.5) -- (-1,0.5) node[left] {$V_{in}$};
    \draw (0,-0.5) -- (0,-1) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{સેચ્યુરેટેડ એન્હાન્સમેન્ટ લોડ ઇન્વર્ટર}
\end{center}

\textbf{રચના:}
\begin{itemize}
    \item \textbf{Load (ML)}: Enhancement NMOS જેનો ગેટ ડ્રેઈન સાથે જોડાયેલ છે ($V_{GS} = V_{DS}$).
    \item \textbf{Driver (MD)}: Enhancement NMOS જેનો ગેટ ઇનપુટ તરીકે છે.
\end{itemize}

\textbf{ઓપરેશન:}
\begin{itemize}
    \item \textbf{હાઈ આઉટપુટ ($V_{OH}$)}: $V_{DD} - V_T$ સુધી મર્યાદિત.
    \item \textbf{લો આઉટપુટ ($V_{OL}$)}: 0V ની નજીક (ગુણોત્તર પર આધારિત).
    \item \textbf{ગેરફાયદો}: લોજિક હાઈ લેવલ પૂરું $V_{DD}$ નથી મળતું અને સતત પાવર વપરાશ થાય છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ELI - એન્હાન્સમેન્ટ લોડ ઇન્વર્ટર થ્રેસોલ્ડ સમસ્યાઓ ધરાવે છે}
\end{mnemonicbox}

\questionmarks{2(c)}{7}{ઇન્વર્ટરની વોલ્ટેજ ટ્રાન્સફર લાક્ષણિકતા (VTC) સમજાવો.}

\begin{solutionbox}
\textbf{VTC વક્ર:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \draw[->] (0,0) -- (6,0) node[right] {$V_{in}$};
    \draw[->] (0,0) -- (0,5) node[above] {$V_{out}$};
    
    \node at (-0.5, 4.5) {$V_{OH}$};
    \node at (-0.5, 0.5) {$V_{OL}$};
    
    \draw[thick, blue] (0,4.5) -- (1.5,4.5) -- (2.5,3.5) -- (3.5,1.5) -- (4.5,0.5) -- (6,0.5);
    
    \draw[dashed] (1.5,4.5) -- (1.5,0) node[below] {$V_{IL}$};
    \draw[dashed] (4.5,0.5) -- (4.5,0) node[below] {$V_{IH}$};
    \draw[dashed] (3,3) -- (3,0) node[below] {$V_M$};
    
    \node at (0.8, 2) {Region 1};
    \node at (3, 3.5) {Region 2};
    \node at (5.2, 2) {Region 3};
\end{tikzpicture}
\captionof{figure}{આદર્શ ઇન્વર્ટર VTC}
\end{center}

\textbf{મુખ્ય પરિમાણો:}
\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પરિમાણ} & \textbf{વર્ણન} & \textbf{આદર્શ મૂલ્ય} \\ \hline
\textbf{$V_{OH}$} & આઉટપુટ હાઈ વોલ્ટેજ & $V_{DD}$ \\ \hline
\textbf{$V_{OL}$} & આઉટપુટ લો વોલ્ટેજ & $0V$ \\ \hline
\textbf{$V_{IH}$} & ઇનપુટ હાઈ વોલ્ટેજ & $\approx V_{DD}/2$ \\ \hline
\textbf{$V_{IL}$} & ઇનપુટ લો વોલ્ટેજ & $\approx V_{DD}/2$ \\ \hline
\textbf{$V_M$} & સ્વિચિંગ થ્રેસોલ્ડ & $V_{DD}/2$ \\ \hline
\end{tabulary}
\end{center}

\textbf{નોઈઝ માર્જિન:}
\begin{itemize}
    \item $NM_H = V_{OH} - V_{IH}$ (હાઈ નોઈઝ માર્જિન)
    \item $NM_L = V_{IL} - V_{OL}$ (લો નોઈઝ માર્જિન)
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{VTC shows VOICE - VOH, VOL, ઇનપુટ થ્રેસોલ્ડ, લાક્ષણિકતાઓ}
\end{mnemonicbox}

\questionmarks{2(a) OR}{3}{CMOS નો ઉપયોગ કરીને NAND2 ગેટ સમજાવો.}

\begin{solutionbox}
\textbf{CMOS NAND2 સર્કિટ:}

\begin{center}
\begin{tikzpicture}[scale=0.9]
    \node at (2,5) {VDD};
    \draw (2,4.8) -- (2,4.5);
    
    % PMOS Parallel
    \draw (1,4.5) -- (3,4.5);
    
    \draw (1,4.5) -- (1,4);
    \node[draw,circle,minimum size=0.5cm] (p1) at (1,3.5) {pA};
    \draw (0,3.5) -- (0.5,3.5) node[left] {A};
    \draw (1,3) -- (1,2.5);
    
    \draw (3,4.5) -- (3,4);
    \node[draw,circle,minimum size=0.5cm] (p2) at (3,3.5) {pB};
    \draw (4,3.5) -- (3.5,3.5) node[right] {B};
    \draw (3,3) -- (3,2.5);
    
    \draw (1,2.5) -- (3,2.5);
    \draw (2,2.5) -- (2,2) node[right] {Y};
    
    % NMOS Series
    \draw (2,2) -- (2,1.5);
    \node[draw,rectangle,minimum size=0.5cm] (n1) at (2,1) {nA};
    \draw (1,1) -- (1.5,1) node[left] {A};
    \draw (2,0.5) -- (2,0);
    \node[draw,rectangle,minimum size=0.5cm] (n2) at (2,-0.5) {nB};
    \draw (1,-0.5) -- (1.5,-0.5) node[left] {B};
    \draw (2,-1) -- (2,-1.5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{CMOS NAND2 ગેટ}
\end{center}

\textbf{ઓપરેશન:}
\begin{itemize}
    \item \textbf{Pull-Up Network}: PMOS ઇનપુટ A અને B સમાંતરમાં (Parallel). જો A=0 અથવા B=0 હોય, તો આઉટપુટ VDD પર જાય છે.
    \item \textbf{Pull-Down Network}: NMOS ઇનપુટ A અને B શ્રેણીમાં (Series). જો માત્ર A=1 અને B=1 હોય, તો આઉટપુટ GND પર જાય છે.
\end{itemize}
\end{solutionbox}

\questionmarks{2(b) OR}{4}{રેઝિસ્ટિવ લોડ ઇન્વર્ટર સર્કિટના ઓપરેટિંગ મોડ અને VTC સમજાવો.}

\begin{solutionbox}
\textbf{સર્કિટ રૂપરેખાંકન:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,3.5) {VDD};
    \draw (0,3.3) -- (0,3);
    
    \draw (0,3) -- (0,2.5) -- (0.2,2.4) -- (-0.2,2.2) -- (0.2,2.0) -- (-0.2,1.8) -- (0,1.7) -- (0,1.5);
    \node[right] at (0.2, 2.1) {R};
    
    \draw (0,1.5) -- (1.5,1.5) node[right] {$V_{out}$};
    \draw (0,1.5) -- (0,1);
    
    \node[draw,rectangle,minimum size=0.5cm] (n1) at (0,0.5) {NMOS};
    \draw (-1,0.5) -- (-0.5,0.5) node[left] {$V_{in}$};
    
    \draw (0,0) -- (0,-0.5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{રેઝિસ્ટિવ લોડ ઇન્વર્ટર}
\end{center}

\textbf{ઓપરેટિંગ મોડ્સ:}
\begin{itemize}
    \item \textbf{$V_{in} = 0$ (Low)}: NMOS OFF. $V_{out} = V_{DD}$.
    \item \textbf{$V_{in} = V_{DD}$ (High)}: NMOS ON (Linear). $V_{out} = V_{VOL}$.
    \item \textbf{$V_{OL}$ ગણતરી}: $V_{OL} = \frac{R_{ON}}{R_{ON} + R} V_{DD}$.
\end{itemize}
\end{solutionbox}

\questionmarks{2(c) OR}{7}{CMOS ઇન્વર્ટર દોરો અને તેની કામગીરી VTC સાથે સમજાવો.}

\begin{solutionbox}
\textbf{CMOS ઇન્વર્ટર સર્કિટ:}

\begin{center}
\begin{tikzpicture}[scale=1]
    \node at (0,3.5) {VDD};
    \draw (0,3.3) -- (0,3);
    \node[draw,circle,minimum size=0.5cm] (p1) at (0,2.5) {PMOS};
    \draw (0,2) -- (0,1) -- (1.5,1) node[right] {$V_{out}$};
    \node[draw,rectangle,minimum size=0.5cm] (n1) at (0,0.5) {NMOS};
    \draw (0,0) -- (0,-0.5) node[below] {GND};
    
    \draw (-1.5,1.5) node[left] {$V_{in}$} -- (-1,1.5);
    \draw (-1,1.5) -- (-1,2.5) -- (-0.5,2.5); % To PMOS gate
    \draw (-1,1.5) -- (-1,0.5) -- (-0.5,0.5); % To NMOS gate
\end{tikzpicture}
\captionof{figure}{CMOS ઇન્વર્ટર}
\end{center}

\textbf{ઓપરેશન:}
\begin{itemize}
    \item \textbf{Region 1}: આઉટપુટ VDD પર ખેંચાય છે (PMOS ON, NMOS OFF).
    \item \textbf{Region 2}: બંને ટ્રાન્ઝિસ્ટર સેચ્યુરેશનમાં (steep drop).
    \item \textbf{Region 3}: આઉટપુટ GND પર ખેંચાય છે (PMOS OFF, NMOS ON).
\end{itemize}

\textbf{મુખ્ય લાક્ષણિકતાઓ:}
\begin{itemize}
    \item \textbf{શૂન્ય સ્ટેટિક પાવર}: સ્થિર અવસ્થાઓમાં પાવર વપરાશ નહિવત.
    \item \textbf{Rail-to-Rail Swing}: લોજિક લેવલ ચોક્કસ VDD અને GND હોય છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CMOS એટલે શૂન્ય સ્ટેટિક પાવર સાથે ફૂલ સ્વિંગ}
\end{mnemonicbox}

\questionmarks{3(a)}{3}{ડિપ્લેશન લોડનો ઉપયોગ કરીને $Y= (\overline{A}+\overline{B})\overline{C}+\overline{D}+\overline{E}$ નું અમલીકરણ કરો.}

\begin{solutionbox}
\textbf{લોજિક સિમ્પ્લિફિકેશન:}
$\overline{Y} = \overline{(\overline{A}+\overline{B})\overline{C}+\overline{D}+\overline{E}} = (AB+C)DE$.
PDN એ $D$ અને $E$ શ્રેણીમાં, અને $(C \text{ સમાંતર } (A \text{ શ્રેણી } B))$ સાથે જોડાયેલ છે.

\textbf{ડિપ્લેશન લોડ અમલીકરણ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    
    % Depletion Load
    \node[draw,rectangle,minimum size=0.5cm] (load) at (0,3) {Dep};
    \draw (-0.5,3) -- (0,3); 
    \draw (-0.5,3) -- (-0.5,2.5) -- (0,2.5);
    
    \draw (0,2.5) -- (0,2);
    \node[right] at (0,2.2) {Y};
    
    \node[draw,rectangle,minimum size=0.5cm] (nD) at (0,1.5) {nD};
    \node[draw,rectangle,minimum size=0.5cm] (nE) at (0,0.5) {nE};
    
    \draw (0,0) -- (0,-0.5);
    \draw (-1,-0.5) -- (1,-0.5);
    
    % Left branch C
    \draw (-1,-0.5) -- (-1,-1);
    \node[draw,rectangle,minimum size=0.5cm] (nC) at (-1,-1.5) {nC};
    \draw (-1,-2) -- (-1,-2.5);
    
    % Right branch A-B
    \draw (1,-0.5) -- (1,-1);
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (1,-1.5) {nA};
    \draw (1,-2) -- (1,-2.5);
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (1,-3) {nB};
    \draw (1,-3.5) -- (1,-4);
    
    \draw (-1,-2.5) -- (-1,-4);
    \draw (-1,-4) -- (1,-4);
    \draw (0,-4) -- (0,-4.5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{Y માટે ડિપ્લેશન લોડ લોજિક}
\end{center}
\end{solutionbox}

\questionmarks{3(b)}{4}{FPGA પર ટૂંકનોંધ લખો.}

\begin{solutionbox}
\textbf{FPGA વ્યાખ્યા:}
\textbf{Field Programmable Gate Array} - એક પુનઃરૂપરેખાંકિત (reconfigurable) સંકલિત સર્કિટ જે ઉત્પાદન પછી ગ્રાહક દ્વારા પ્રોગ્રામ કરી શકાય છે.

\textbf{આર્કિટેક્ચર ઘટકો:}
\begin{itemize}
    \item \textbf{CLB (Configurable Logic Block)}: મૂળભૂત લોજિક એકમ (LUTs, Flip-flops).
    \item \textbf{IOB (Input/Output Block)}: બાહ્ય પિન સાથે ઇન્ટરફેસ.
    \item \textbf{ઇન્ટરકનેક્ટ્સ}: પ્રોગ્રામેબલ રાઉટિંગ ચેનલો.
    \item \textbf{સ્વિચ મેટ્રિક્સ}: રાઉટિંગ ટ્રેક વચ્ચે પ્રોગ્રામેબલ જોડાણો.
\end{itemize}

\textbf{પ્રોગ્રામિંગ ટેક્નોલોજી:}
\begin{itemize}
    \item \textbf{SRAM-based}: અસ્થિર, ઝડપી પુનઃરૂપરેખાંકન.
    \item \textbf{Antifuse}: બિન-અસ્થિર, એક જ વાર પ્રોગ્રામેબલ.
    \item \textbf{Flash-based}: બિન-અસ્થિર, પુનઃપ્રોગ્રામેબલ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{FPGA - Flexible Programming Gives Advantages}
\end{mnemonicbox}

\questionmarks{3(c)}{7}{Y ચાર્ટ ડિઝાઈન ફ્લો દોરો અને સમજાવો.}

\begin{solutionbox}
\textbf{Y-ચાર્ટ ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[scale=1]
    % Axes
    \draw[thick] (0,0) -- (0,4) node[above] {બીહેવિયરલ (Behavioral)};
    \draw[thick] (0,0) -- (-3.5,-2) node[below] {સ્ટ્રક્ચરલ (Structural)};
    \draw[thick] (0,0) -- (3.5,-2) node[below] {ફિઝિકલ (Physical)};
    
    % Arcs
    \draw[dashed] (0,3) arc (90:210:3) node[midway, fill=white] {System};
    \draw[dashed] (0,3) arc (90:-30:3);
    
    \draw[dashed] (0,2) arc (90:210:2) node[midway, fill=white] {RTL};
    \draw[dashed] (0,2) arc (90:-30:2);
    
    \draw[dashed] (0,1) arc (90:210:1) node[midway, fill=white] {Gate};
    \draw[dashed] (0,1) arc (90:-30:1);
    
    % Labels
    \node[anchor=west] at (0,3) {Algorithms};
    \node[anchor=west] at (0,2) {Register Transfer};
    \node[anchor=west] at (0,1) {Logic Equations};
    
    \node[anchor=east] at (-2.6,-1.5) {CPUs/Memories};
    \node[anchor=east] at (-1.7,-1) {ALUs/Regs};
    \node[anchor=east] at (-0.8,-0.5) {Gates/FFs};
    
    \node[anchor=west] at (2.6,-1.5) {Floorplan};
    \node[anchor=west] at (1.7,-1) {Module Layout};
    \node[anchor=west] at (0.8,-0.5) {Cell Layout};
    
    % Spiral flow
    \draw[->, red, thick] (0.2,3) to[bend left] (2.8,-1.5);
\end{tikzpicture}
\captionof{figure}{Gajski-Kuhn Y-ચાર્ટ}
\end{center}

\textbf{ડિઝાઇન ડોમેન્સ:}
\begin{itemize}
    \item \textbf{બીહેવિયરલ}: સિસ્ટમ શું કરે છે તે વર્ણવે છે (અલ્ગોરિધમ્સ, સમીકરણો).
    \item \textbf{સ્ટ્રક્ચરલ}: ઘટકો કેવી રીતે જોડાયેલા છે તે વર્ણવે છે (નેટલિસ્ટ, ગેટ્સ).
    \item \textbf{ફિઝિકલ}: ઘટકો ક્યાં મૂકવામાં આવે છે તે વર્ણવે છે (લેઆઉટ, ભૂમિતિ).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Y-ચાર્ટ: બીહેવિયરલ, સ્ટ્રક્ચરલ, ફિઝિકલ - BSP domains}
\end{mnemonicbox}

\questionmarks{3(a) OR}{3}{ડિપ્લેશન લોડનો ઉપયોગ કરીને NOR2 ગેટ સમજાવો.}

\begin{solutionbox}
\textbf{ડિપ્લેશન લોડ NOR2 સર્કિટ:}

\begin{center}
\begin{tikzpicture}[scale=0.9]
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    
    % Depletion Load
    \node[draw,rectangle,minimum size=0.5cm] (dep) at (0,3) {Dep};
    \draw (-0.5,3) -- (-0.5,2.5) -- (0,2.5); % Feedback
    \draw (-0.5,3) -- (0,3);
    
    \draw (0,2.5) -- (0,2);
    \draw (0,2) -- (1,2) node[right] {Y};
    
    % Parallel NMOS
    \draw (0,2) -- (-1,1.5);
    \draw (0,2) -- (1,1.5);
    
    \node[draw,rectangle,minimum size=0.5cm] (n1) at (-1,1) {nA};
    \draw (-1.5,1) -- (-1.2,1) node[left] {A};
    
    \node[draw,rectangle,minimum size=0.5cm] (n2) at (1,1) {nB};
    \draw (0.5,1) -- (0.8,1) node[left] {B};
    
    \draw (-1,0.5) -- (0,0);
    \draw (1,0.5) -- (0,0);
    \draw (0,0) -- (0,-0.5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{ડિપ્લેશન લોડ NOR2}
\end{center}

\textbf{ઓપરેશન:}
\begin{itemize}
    \item \textbf{બંને ઇનપુટ લો (0,0)}: બંને Pull-Down NMOS બંધ. આઉટપુટ ડિપ્લેશન લોડ દ્વારા VDD પર ખેંચાય છે.
    \item \textbf{કોઈપણ ઇનપુટ હાઈ}: સંબંધિત Pull-Down NMOS ચાલુ થાય છે. આઉટપુટ GND પર ખેંચાય છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{NOR સાથે Depletion - સમાંતર NMOS pull-down}
\end{mnemonicbox}


\questionmarks{3(b) OR}{4}{ફુલ કસ્ટમ અને સેમી-કસ્ટમ ડિઝાઇન શૈલીઓની તુલના કરો.}

\begin{solutionbox}
\textbf{તુલનાત્મક લેઆઉટ:}

\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{ફુલ કસ્ટમ} & \textbf{સેમી-કસ્ટમ} \\ \hline
\textbf{ડિઝાઇન સમય} & લાંબો (6-18 મહિના) & ટૂંકો (2-6 મહિના) \\ \hline
\textbf{પર્ફોર્મન્સ} & શ્રેષ્ઠ (Optimal) & સારું (Good) \\ \hline
\textbf{એરિયા} & ન્યૂનતમ & મધ્યમ \\ \hline
\textbf{પાવર} & ઓપ્ટિમાઇઝ & સ્વીકાર્ય \\ \hline
\textbf{કિંમત} & વધુ NRE & ઓછી NRE \\ \hline
\textbf{લવચીકતા} & મહત્તમ & મર્યાદિત \\ \hline
\textbf{જોખમ} & ઉચ્ચ & ઓછું \\ \hline
\end{tabulary}
\end{center}

\textbf{ફુલ કસ્ટમ લાક્ષણિકતાઓ:}
\begin{itemize}
    \item \textbf{દરેક ટ્રાન્ઝિસ્ટર}: મેન્યુઅલી ડિઝાઇન અને પ્લેસ કરવામાં આવે છે.
    \item \textbf{લેઆઉટ ઓપ્ટિમાઇઝેશન}: મહત્તમ ઘનતા (density) પ્રાપ્ત થાય છે.
    \item \textbf{એપ્લિકેશન્સ}: હાઇ-વોલ્યુમ, પરફોર્મન્સ-ક્રિટિકલ (જેમ કે માઇક્રોપ્રોસેસર્સ).
\end{itemize}

\textbf{સેમી-કસ્ટમ પ્રકારો:}
\begin{itemize}
    \item \textbf{ગેટ એરે (Gate Array)}: પૂર્વ-વ્યાખ્યાયિત ટ્રાન્ઝિસ્ટર એરે.
    \item \textbf{સ્ટાન્ડર્ડ સેલ (Standard Cell)}: પૂર્વ-ડિઝાઇન કરેલા સેલ્સની લાઈબ્રેરી.
    \item \textbf{FPGA}: ફિલ્ડ પ્રોગ્રામેબલ લોજિક.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Full Custom - મહત્તમ નિયંત્રણ, Semi-Custom - સ્પીડ સમાધાન}
\end{mnemonicbox}

\questionmarks{3(c) OR}{7}{ASIC ડિઝાઇન ફ્લો દોરો અને વિગતવાર સમજાવો.}

\begin{solutionbox}
\textbf{ASIC ડિઝાઇન ફ્લો:}

\begin{center}
\begin{tikzpicture}[node distance=1.2cm, auto, scale=0.8, transform shape]
    \node (spec) [draw, rectangle, align=center] {System Specification};
    \node (arch) [draw, rectangle, below of=spec] {Architecture Design};
    \node (rtl) [draw, rectangle, below of=arch] {RTL Design (Verilog/VHDL)};
    \node (verif) [draw, rectangle, below of=rtl] {Functional Verification};
    \node (syn) [draw, rectangle, below of=verif] {Logic Synthesis};
    \node (gate) [draw, rectangle, below of=syn] {Gate-level Simulation};
    \node (floor) [draw, rectangle, below of=gate] {Floor Planning};
    \node (place) [draw, rectangle, below of=floor] {Placement};
    \node (cts) [draw, rectangle, below of=place] {Clock Tree Synthesis};
    \node (route) [draw, rectangle, below of=cts] {Routing};
    \node (phys) [draw, rectangle, below of=route] {Physical Verification (DRC/LVS)};
    \node (sta) [draw, rectangle, below of=phys] {Static Timing Analysis};
    \node (tape) [draw, rectangle, below of=sta, fill=green!20] {Tape-out};

    \draw[->] (spec) -- (arch);
    \draw[->] (arch) -- (rtl);
    \draw[->] (rtl) -- (verif);
    \draw[->] (verif) -- (syn);
    \draw[->] (syn) -- (gate);
    \draw[->] (gate) -- (floor);
    \draw[->] (floor) -- (place);
    \draw[->] (place) -- (cts);
    \draw[->] (cts) -- (route);
    \draw[->] (route) -- (phys);
    \draw[->] (phys) -- (sta);
    \draw[->] (sta) -- (tape);
\end{tikzpicture}
\captionof{figure}{ASIC ડિઝાઇન ફ્લો}
\end{center}

\textbf{ડિઝાઇન તબક્કાઓ:}
\begin{itemize}
    \item \textbf{RTL Design}: HDL નો ઉપયોગ કરીને હાર્ડવેર વર્તણૂકનું વર્ણન.
    \item \textbf{Synthesis}: RTL ને ગેટ-લેવલ નેટલિસ્ટમાં રૂપાંતરિત કરવું.
    \item \textbf{Physical Design}: ફ્લોર પ્લાનિંગ, પ્લેસમેન્ટ અને રાઉટિંગ (P\&R).
    \item \textbf{Verification}: કાર્યક્ષમતા (Functional) અને ઉત્પાદનક્ષમતા (Physical/Timing) સુનિશ્ચિત કરવી.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ASIC flow: RTL થી GDSII}
\end{mnemonicbox}

\questionmarks{4(a)}{3}{CMOS નો ઉપયોગ કરીને $G = \overline{A(D+E)+BC}$ લોજિક ફંક્શન અમલ કરો.}

\begin{solutionbox}
\textbf{CMOS અમલીકરણ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,6) {VDD};
    \draw (0,5.8) -- (0,5.5);
    
    % PUN logic same as English
    \draw (0,5.5) -- (-2,5); % To A
    \draw (0,5.5) -- (2,5); % To D-E
    
    \node[draw,circle,minimum size=0.5cm] (pA) at (-2,4.5) {pA};
    \draw (-2,4) -- (0,3.5);
    
    \node[draw,circle,minimum size=0.5cm] (pD) at (2,5) {pD};
    \draw (2,4.5) -- (2,4.5);
    \node[draw,circle,minimum size=0.5cm] (pE) at (2,4) {pE};
    \draw (2,3.5) -- (0,3.5);
    
    \draw (0,3.5) -- (0,3);
    
    \draw (0,3) -- (-1.5,2.5);
    \draw (0,3) -- (1.5,2.5);
    
    \node[draw,circle,minimum size=0.5cm] (pB) at (-1.5,2) {pB};
    \node[draw,circle,minimum size=0.5cm] (pC) at (1.5,2) {pC};
    
    \draw (-1.5,1.5) -- (0,1);
    \draw (1.5,1.5) -- (0,1);
    
    \draw (0,1) -- (2,1) node[right] {G};
    \draw (0,1) -- (0,0.5);
    
    % PDN logic same as English
    \draw (0,0.5) -- (-2,0);
    \draw (0,0.5) -- (2,0);
    
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-2,-0.5) {nA};
    \draw (-2,-1) -- (-2.5,-1.5);
    \draw (-2,-1) -- (-1.5,-1.5);
    \node[draw,rectangle,minimum size=0.5cm] (nD_n) at (-2.5,-2) {nD};
    \node[draw,rectangle,minimum size=0.5cm] (nE_n) at (-1.5,-2) {nE};
    \draw (-2.5,-2.5) -- (-2,-3);
    \draw (-1.5,-2.5) -- (-2,-3);
    
    \node[draw,rectangle,minimum size=0.5cm] (nB_n) at (2,-0.5) {nB};
    \node[draw,rectangle,minimum size=0.5cm] (nC_n) at (2,-1.5) {nC};
    \draw (2,-2) -- (2,-3);
    
    \draw (-2,-3) -- (0,-3.5);
    \draw (2,-3) -- (0,-3.5);
    \draw (0,-3.5) -- (0,-4) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{કોમ્પ્લેક્સ CMOS ગેટ}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Complex CMOS - PMOS શ્રેણી, NMOS સમાંતર}
\end{mnemonicbox}

\questionmarks{4(b)}{4}{3-બિટ પેરિફેરલ ચેકર માટે વેરિલોગ કોડ લખો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module parity_checker_3bit(
    input [2:0] data_in,
    output parity_even,
    output parity_odd
);

// Even parity checker
assign parity_even = ^data_in;

// Odd parity checker
assign parity_odd = ~(^data_in);

endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{4(c)}{7}{અમલીકરણ: 1) $G = (AD +BC+EF)$ CMOS નો ઉપયોગ કરીને [3 ગુણ] 2) $Y' = (ABCD + EF(G+H)+ J)$ CMOS નો ઉપયોગ કરીને [4 ગુણ]}

\begin{solutionbox}
\textbf{ભાગ 1: $G = (AD +BC+EF)$ [3 ગુણ]}

\textbf{CMOS સર્કિટ:}
CMOS સામાન્ય રીતે ઇન્વર્ટીંગ લોજિક અમલ કરે છે. $G$ મેળવવા માટે, આપણે $\overline{G}$ અમલ કરી શકીએ અને પછી ઇન્વર્ટર ઉમેરી શકીએ.
અહીં આપણે $\overline{G} = \overline{AD+BC+EF}$ માટે Pull-Down Network બનાવીશું.

\begin{center}
\begin{tikzpicture}[scale=0.9]
    \node at (0,6) {VDD};
    \draw (0,5.8) -- (0,5.5);
    
    % PUN logic same as English
    \draw (0,5.5) -- (-1,5);
    \draw (0,5.5) -- (1,5);
    \node[draw,circle,minimum size=0.5cm] (pA) at (-1,4.5) {pA};
    \node[draw,circle,minimum size=0.5cm] (pD) at (1,4.5) {pD};
    \draw (-1,4) -- (0,3.5);
    \draw (1,4) -- (0,3.5);
    
    \draw (0,3.5) -- (0,3.2);
    \draw (0,3.2) -- (-1,2.8);
    \draw (0,3.2) -- (1,2.8);
    \node[draw,circle,minimum size=0.5cm] (pB) at (-1,2.3) {pB};
    \node[draw,circle,minimum size=0.5cm] (pC) at (1,2.3) {pC};
    \draw (-1,1.8) -- (0,1.5);
    \draw (1,1.8) -- (0,1.5);
    
    \draw (0,1.5) -- (0,1.2);
    \draw (0,1.2) -- (-1,0.8);
    \draw (0,1.2) -- (1,0.8);
    \node[draw,circle,minimum size=0.5cm] (pE) at (-1,0.3) {pE};
    \node[draw,circle,minimum size=0.5cm] (pF) at (1,0.3) {pF};
    \draw (-1,-0.2) -- (0,-0.5);
    \draw (1,-0.2) -- (0,-0.5);
    
    % Output node
    \draw (0,-0.5) -- (2,-0.5) node[right] {$\overline{G}$};
    \draw (0,-0.5) -- (0,-1);
    
    % PDN logic same as English
    \draw (0,-1) -- (-2,-1.5);
    \draw (0,-1) -- (0,-1.5); 
    \draw (0,-1) -- (2,-1.5);
    
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-2,-2) {nA};
    \draw (-2,-2.5) -- (-2,-3);
    \node[draw,rectangle,minimum size=0.5cm] (nD_n) at (-2,-3.5) {nD};
    
    \node[draw,rectangle,minimum size=0.5cm] (nB_n) at (0,-2) {nB};
    \draw (0,-2.5) -- (0,-3);
    \node[draw,rectangle,minimum size=0.5cm] (nC_n) at (0,-3.5) {nC};
    
    \node[draw,rectangle,minimum size=0.5cm] (nE_n) at (2,-2) {nE};
    \draw (2,-2.5) -- (2,-3);
    \node[draw,rectangle,minimum size=0.5cm] (nF_n) at (2,-3.5) {nF};
    
    \draw (-2,-4) -- (0,-4.5) -- (0,-1.5); 
    \draw (-2,-3.8) -- (-2,-4.5) -- (0,-4.5);
    \draw (0,-3.8) -- (0,-4.5);
    \draw (2,-3.8) -- (2,-4.5) -- (0,-4.5);
    
    \draw (0,-4.5) -- (0,-5) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{G માટે CMOS લોજિક}
\end{center}

\textbf{ભાગ 2: $Y' = (ABCD + EF(G+H)+ J)$ [4 ગુણ]}
આ એક જટિલ ફંક્શન છે. મલ્ટી-સ્ટેજ અમલીકરણ શ્રેષ્ઠ છે.
\end{solutionbox}

\questionmarks{4(a) OR}{3}{ઉદાહરણ સાથે AOI લોજિક સમજાવો.}

\begin{solutionbox}
\textbf{AOI વ્યાખ્યા:}
\textbf{AND-OR-Invert} લોજિક આ પ્રકારના ફંક્શન્સ અમલીકરણ કરે છે: $Y = \overline{(AB + CD + \dots)}$

\textbf{ઉદાહરણ: $Y = \overline{(AB + CD)}$}

\textbf{AOI અમલીકરણ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,5) {VDD};
    \draw (0,4.8) -- (0,4.5);
    
    % PUN (Dual): (A+B)(C+D)
    \draw (0,4.5) -- (-1,4);
    \draw (0,4.5) -- (1,4);
    \node[draw,circle,minimum size=0.5cm] (pA) at (-1,3.5) {pA};
    \node[draw,circle,minimum size=0.5cm] (pC) at (1,3.5) {pC};
    \draw (-1,3) -- (0,2.5);
    \draw (1,3) -- (0,2.5);
    
    \draw (0,2.5) -- (0,2.2);
    \draw (0,2.2) -- (-1,1.8);
    \draw (0,2.2) -- (1,1.8);
    \node[draw,circle,minimum size=0.5cm] (pB) at (-1,1.3) {pB};
    \node[draw,circle,minimum size=0.5cm] (pD) at (1,1.3) {pD};
    \draw (-1,0.8) -- (0,0.5);
    \draw (1,0.8) -- (0,0.5);
    
    % Output
    \draw (0,0.5) -- (2,0.5) node[right] {Y};
    \draw (0,0.5) -- (0,0);
    
    % PDN: AB + CD
    \draw (0,0) -- (-1.5,-0.5);
    \draw (0,0) -- (1.5,-0.5);
    
    % Branch AB
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-1.5,-1) {nA};
    \draw (-1.5,-1.5) -- (-1.5,-2);
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (-1.5,-2.5) {nB};
    
    % Branch CD
    \node[draw,rectangle,minimum size=0.5cm] (nC_n) at (1.5,-1) {nC};
    \draw (1.5,-1.5) -- (1.5,-2);
    \node[draw,rectangle,minimum size=0.5cm] (nD_n) at (1.5,-2.5) {nD};
    
    \draw (-1.5,-3) -- (0,-3.5);
    \draw (1.5,-3) -- (0,-3.5);
    \draw (0,-3.5) -- (0,-4) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{AOI ગેટ અમલીકરણ}
\end{center}

\textbf{ફાયદા:}
\begin{itemize}
    \item \textbf{સિંગલ સ્ટેજ}: સીધું અમલીકરણ.
    \item \textbf{ઝડપી}: ઓછો ડીલે.
    \item \textbf{એરિયા એફિશિઅન્ટ}: ઓછા ટ્રાન્ઝિસ્ટર.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{AOI - AND-OR-Invert એક સ્ટેજમાં}
\end{mnemonicbox}

\questionmarks{4(b) OR}{4}{4-બિટ સીરિયલ IN પેરેલલ આઉટ શિફ્ટ રજિસ્ટર માટે વેરિલોગ કોડ લખો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module sipo_4bit(
    input clk,
    input reset,
    input serial_in,
    output reg [3:0] parallel_out
);

always @(posedge clk or posedge reset) begin
    if (reset) begin
        parallel_out <= 4'b0000;
    end else begin
        // Shift left
        parallel_out <= {parallel_out[2:0], serial_in};
    end
end

endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{4(c) OR}{7}{CMOS નો ઉપયોગ કરીને ક્લોક્ડ NOR2 SR લેચ અને D-લેચ અમલીકરણ કરો.}

\begin{solutionbox}
\textbf{ક્લોક્ડ NOR2 SR લેચ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % Transmission Gates
    \node[draw,rectangle] (tg1) at (0,2) {TG1};
    \node[draw,rectangle] (tg2) at (4,2) {TG2};
    \node[above] at (0,2.5) {S};
    \draw (0,2.5) -- (tg1);
    \node[above] at (4,2.5) {R}; 
    \draw (4,2.5) -- (tg2);
    
    % Clock
    \node at (2, 2) {CLK controls TGs};
    
    % Latch Core
    \node[draw,rectangle] (nor1) at (0,0) {NOR};
    \node[draw,rectangle] (nor2) at (4,0) {NOR};
    
    \draw (tg1) -- (nor1);
    \draw (tg2) -- (nor2);
    
    % Feedback
    \draw (nor1) -- (2,-0.5) -- (nor2); 
    \draw (nor2) -- (2,0.5) -- (nor1);
    
    \node at (5,0) {Q'};
    \node at (-1,0) {Q};
\end{tikzpicture}
\captionof{figure}{ક્લોક્ડ SR લેચ કન્સેપ્ટ}
\end{center}

\textbf{CMOS D-લેચ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (2,4) {VDD};
    \draw (2,3.8) -- (2,3.5);
    
    \node[draw,rectangle] (tg_in) at (0,2) {TG (CLK)};
    \draw (-2,2) node[left] {D} -- (tg_in);
    
    \node[draw,rectangle,minimum width=2cm, minimum height=3cm] (latch) at (3,2) {Inverters/Latch};
    
    \draw (tg_in) -- (latch);
    \draw (latch) -- (5,2) node[right] {Q};
\end{tikzpicture}
\captionof{figure}{D-લેચ}
\end{center}

\textbf{ઓપરેશન:}
\begin{itemize}
    \item \textbf{CLK = 1}: માસ્ટર ટ્રાન્સપેરન્ટ, ડેટા પસાર થાય છે.
    \item \textbf{CLK = 0}: માસ્ટર હોલ્ડ સ્થિતિમાં.
\end{itemize}
\end{solutionbox}

\questionmarks{5(a)}{3}{યુલર પાથ એપ્રોચને ધ્યાનમાં લેતા CMOS નો ઉપયોગ કરીને $Y = \overline{PQ + U}$ માટે સ્ટિક ડાયાગ્રામ દોરો.}

\begin{solutionbox}
\textbf{સ્ટિક ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % Rails
    \draw[thick, blue] (0,4) -- (8,4) node[below, black] {VDD (Metal)};
    \draw[thick, blue] (0,0) -- (8,0) node[above, black] {GND (Metal)};
    
    % Polysilicon Gates
    \draw[thick, red] (2,5) -- (2,-1) node[below] {U};
    \draw[thick, red] (4,5) -- (4,-1) node[below] {P};
    \draw[thick, red] (6,5) -- (6,-1) node[below] {Q};
    
    % P-Diffusion
    \fill[green!30] (1,3) rectangle (7,3.5);
    \node at (0.5,3.25) {P-Diff};
    
    % N-Diffusion
    \fill[green!50!black!30] (1,1) rectangle (7,1.5);
    \node at (0.5,1.25) {N-Diff};
    
    % Metal connections
    \draw[thick, blue] (3,1.25) node[circle,fill,inner sep=1pt]{} -- (3,0); 
    \draw[thick, blue] (1.5,1.25) node[circle,fill,inner sep=1pt]{} -- (1.5,2) -- (4,2) -- (4,2.5) -- (4,3.25);
    \draw[thick, blue] (7.5,1.25) node[circle,fill,inner sep=1pt]{} -- (7.5,2) -- (4,2);
    
    \node at (2.5,3.25) {X}; 
    \node at (5.5,3.25) {X}; 
    
    \node at (8,2) {Y (Out)};
    
\end{tikzpicture}
\captionof{figure}{Y માટે સ્ટિક ડાયાગ્રામ}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{સ્ટિક ડાયાગ્રામ યુલર પાથ ઓપ્ટિમાઇઝેશન સાથે ફિઝિકલ લેઆઉટ દર્શાવે છે}
\end{mnemonicbox}

\questionmarks{5(b)}{4}{વેરિલોગનો ઉપયોગ કરીને 8x1 મલ્ટિપ્લેક્સર અમલમાં મૂકો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module mux_8x1(
    input [7:0] data_in,
    input [2:0] select,
    output reg data_out
);

always @(*) begin
    case (select)
        3'b000: data_out = data_in[0];
        3'b001: data_out = data_in[1];
        3'b010: data_out = data_in[2];
        3'b011: data_out = data_in[3];
        3'b100: data_out = data_in[4];
        3'b101: data_out = data_in[5];
        3'b110: data_out = data_in[6];
        3'b111: data_out = data_in[7];
        default: data_out = 1'b0;
    endcase
end

endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(c)}{7}{વેરિલોગમાં બિહેવિયરલ મોડેલિંગ સ્ટાઇલનો ઉપયોગ કરીને ફુલ એડર અમલમાં મૂકો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module full_adder_behavioral(
    input A,
    input B,
    input Cin,
    output reg Sum,
    output reg Cout
);

always @(*) begin
    case ({A, B, Cin})
        3'b000: begin Sum = 0; Cout = 0; end
        3'b001: begin Sum = 1; Cout = 0; end
        3'b010: begin Sum = 1; Cout = 0; end
        3'b011: begin Sum = 0; Cout = 1; end
        3'b100: begin Sum = 1; Cout = 0; end
        3'b101: begin Sum = 0; Cout = 1; end
        3'b110: begin Sum = 0; Cout = 1; end
        3'b111: begin Sum = 1; Cout = 1; end
        default: begin Sum = 0; Cout = 0; end
    endcase
end

endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(a) OR}{3}{NOR2 ગેટ CMOS સર્કિટને તેના સ્ટિક ડાયાગ્રામ સાથે અમલમાં મૂકો.}

\begin{solutionbox}
\textbf{CMOS NOR2 સર્કિટ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    \node at (0,4) {VDD};
    \draw (0,3.8) -- (0,3.5);
    
    % Stick diagram content placeholder logic - using same TikZ structure
    \draw (0,3.5) -- (0,3);
    \node[draw,circle,minimum size=0.5cm] (pA) at (0,2.5) {pA};
    \draw (0,2) -- (0,1.5);
    \node[draw,circle,minimum size=0.5cm] (pB) at (0,1) {pB};
    \draw (0,0.5) -- (0,0); 
    
    \draw (0,0) -- (1,0) node[right] {Y};
    \draw (0,0) -- (0,-0.5);
    
    \draw (0,-0.5) -- (-1,-1);
    \draw (0,-0.5) -- (1,-1);
    
    \node[draw,rectangle,minimum size=0.5cm] (nA) at (-1,-1.5) {nA};
    \node[draw,rectangle,minimum size=0.5cm] (nB) at (1,-1.5) {nB};
    
    \draw (-1,-2) -- (0,-2.5);
    \draw (1,-2) -- (0,-2.5);
    \draw (0,-2.5) -- (0,-3) node[below] {GND};
\end{tikzpicture}
\captionof{figure}{CMOS NOR2 સર્કિટ}
\end{center}

\textbf{સ્ટિક ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % Rails
    \draw[thick, blue] (0,4) -- (6,4) node[below, black] {VDD};
    \draw[thick, blue] (0,0) -- (6,0) node[above, black] {GND};
    
    % Gates
    \draw[thick, red] (2,5) -- (2,-1) node[below] {A};
    \draw[thick, red] (4,5) -- (4,-1) node[below] {B};
    
    % PUN (Series)
    \fill[green!30] (1,3) rectangle (5,3.5);
    
    % PDN (Parallel)
    \fill[green!50!black!30] (1,1) rectangle (5,1.5);
    
    % Connections
    \draw[thick, blue] (1.5,4) node[circle,fill,inner sep=1pt]{} -- (1.5,3.25); % VDD to pA source
    \draw[thick, blue] (3,1.25) node[circle,fill,inner sep=1pt]{} -- (3,0); 
    
    % PUN
    \draw[thick, blue] (1.5,3.25) -- (1.5,4); 
    \draw[thick, blue] (4.5,3.25) node[circle,fill,inner sep=1pt]{} -- (6,2.5); 
    
    % PDN
    \draw[thick, blue] (1.5,1.25) node[circle,fill,inner sep=1pt]{} -- (1.5,0); 
    \draw[thick, blue] (4.5,1.25) node[circle,fill,inner sep=1pt]{} -- (4.5,0); 
    \draw[thick, blue] (3,1.25) node[circle,fill,inner sep=1pt]{} -- (6,2.5); 
    
    \node at (6,2.5) {Y (Out)};
\end{tikzpicture}
\captionof{figure}{NOR2 સ્ટિક ડાયાગ્રામ}
\end{center}
\end{solutionbox}

\questionmarks{5(b) OR}{4}{વેરિલોગનો ઉપયોગ કરીને 4-બિટ અપ કાઉન્ટર અમલમાં મૂકો}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module counter_4bit_up(
    input clk,
    input reset,
    input enable,
    output reg [3:0] count
);

always @(posedge clk or posedge reset) begin
    if (reset) begin
        count <= 4'b0000;
    end else if (enable) begin
        if (count == 4'b1111) begin
            count <= 4'b0000;
        end else begin
            count <= count + 1;
        end
    end
end

endmodule
\end{lstlisting}
\end{solutionbox}

\questionmarks{5(c) OR}{7}{વેરિલોગમાં બિહેવિયરલ મોડેલિંગ સ્ટાઇલનો ઉપયોગ કરીને 3:8 ડીકોડર અમલમાં મૂકો.}

\begin{solutionbox}
\begin{lstlisting}[language=Verilog]
module decoder_3x8_behavioral(
    input [2:0] address,
    input enable,
    output reg [7:0] decode_out
);

always @(*) begin
    if (enable) begin
        case (address)
            3'b000: decode_out = 8'b00000001; 
            3'b001: decode_out = 8'b00000010; 
            3'b010: decode_out = 8'b00000100;
            3'b011: decode_out = 8'b00001000;
            3'b100: decode_out = 8'b00010000;
            3'b101: decode_out = 8'b00100000;
            3'b110: decode_out = 8'b01000000;
            3'b111: decode_out = 8'b10000000;
            default: decode_out = 8'b00000000;
        endcase
    end else begin
        decode_out = 8'b00000000;
    end
end

endmodule
\end{lstlisting}
\end{solutionbox}

\end{document}
