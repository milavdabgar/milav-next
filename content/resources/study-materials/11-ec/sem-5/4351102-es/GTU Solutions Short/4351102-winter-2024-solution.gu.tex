\documentclass{article}
\input{../../../../../../../latex-templates/gtu-solutions-short/preamble.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/gujarati-boxes.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/commands.tex}

\usetikzlibrary{trees}

\title{Embedded System \& Microcontroller Application (4351102) - Winter 2024 Solution - Gujarati}
\date{November 21, 2024}

\begin{document}
\maketitle

\questionmarks{1(a)}{3}{ATmega32 ની વિશેષતાઓ લખો.}

\begin{solutionbox}
\textbf{ATmega32 વિશેષતાઓ:}

\begin{answertable}{ATmega32 Features}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{વિશેષતા} & \textbf{વર્ણન} \\ \hline
\keyword{આર્કિટેક્ચર} & 8-bit RISC પ્રોસેસર \\ \hline
\keyword{મેમરી} & 32KB ફ્લેશ, 2KB SRAM, 1KB EEPROM \\ \hline
\keyword{I/O પોર્ટ્સ} & 32 પ્રોગ્રામેબલ I/O પિન્સ \\ \hline
\keyword{ટાઇમર્સ} & 3 ટાઇમર્સ (Timer0, Timer1, Timer2) \\ \hline
\keyword{ADC} & 10-bit, 8-channel ADC \\ \hline
\keyword{કમ્યુનિકેશન} & USART, SPI, I2C (TWI) \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{હાઇ પર્ફોર્મન્સ}: 16MHz પર 16 MIPS.
    \item \keyword{લો પાવર}: બહુવિધ સ્લીપ મોડ્સ.
    \item \keyword{ઓપરેટિંગ વોલ્ટેજ}: 2.7V થી 5.5V.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Architecture-RISC Memory-32KB Timers-3 I/O-32pins Communication-3types}
\end{mnemonicbox}

\questionmarks{1(b)}{4}{માઇક્રોકંટ્રોલર પસંદ કરવા માટેના માપદંડો લખી સમજાવો.}

\begin{solutionbox}
\textbf{પસદગીના માપદંડો:}

\begin{answertable}{Selection Criteria}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{માપદંડ} & \textbf{વિચારણા} \\ \hline
\keyword{પર્ફોર્મન્સ} & સ્પીડ, ઇન્સ્ટ્રક્શન સેટ, આર્કિટેક્ તુર \\ \hline
\keyword{મેમરી} & RAM, ROM, EEPROM આવશ્યકતાઓ \\ \hline
\keyword{I/O જરૂરિયાતો} & પિન્સની સંખ્યા, સ્પેશિયલ ફંક્શન્સ \\ \hline
\keyword{પાવર કન્ઝમ્પશન} & બેટરી લાઇફ, સ્લીપ મોડ્સ \\ \hline
\keyword{કિંમત} & યુનિટ પ્રાઇસ, ડેવલપમેન્ટ કોસ્ટ \\ \hline
\keyword{ડેવલપમેન્ટ ટૂલ્સ} & કમ્પાઇલર, ડીબગર ઉપલબ્ધતા \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{એપ્લિકેશન જરૂરિયાતો}: રિયલ-ટાઇમ કન્સ્ટ્રેઇન્ટ્સ, પ્રોસેસિંગ નીડ્સ.
    \item \keyword{પેકેજ સાઇઝ}: ફાઇનલ પ્રોડક્ટમાં સ્પેસ લિમિટેશન્સ.
    \item \keyword{પેરિફેરલ સપોર્ટ}: ADC, ટાઇમર્સ, કમ્યુનિકેશન ઇન્ટરફેસ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Performance Memory I/O Power Cost Development}
\end{mnemonicbox}

\questionmarks{1(c)}{7}{Embedded System ને વ્યાખ્યાયિત કરો. નાના, મધ્યમ અને વિશાળ Embedded System ની ઉપયોગિતાની યાદી બનાવો.}

\begin{solutionbox}
\textbf{વ્યાખ્યા}: \keyword{Embedded System} એ મોટા યાંત્રિક અથવા ઇલેક્ટ્રિકલ સિસ્ટમમાં ચોક્કસ કામ કરતું કમ્પ્યુટર સિસ્ટમ છે, જે વિશિષ્ટ કામો રિયલ-ટાઇમ મર્યાદા સાથે કરવા માટે ડિઝાઇન કરવામાં આવે છે.

\textbf{એપ્લિકેશન્સ:}

\begin{answertable}{Embedded System Applications}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{સિસ્ટમ પ્રકાર} & \textbf{મેમરી સાઇઝ} & \textbf{એપ્લિકેશન્સ} \\ \hline
\keyword{નાના સ્કેલ} & <64KB & કેલ્ક્યુલેટર, ડિજિટલ વોચ, રમકડાં \\ \hline
\keyword{મધ્યમ સ્કેલ} & 64KB-1MB & મોબાઇલ ફોન, રાઉટર, પ્રિન્ટર \\ \hline
\keyword{વિશાળ સ્કેલ} & >1MB & ઓટોમોબાઇલ, એરક્રાફ્ટ સિસ્ટમ, સેટેલાઇટ \\ \hline
\end{tabulary}
\end{answertable}

\begin{answerdiagram}{Embedded System Classification}
\begin{tikzpicture}[edge from parent fork down, sibling distance=3.5cm, level distance=1.5cm]
    \node [gtu block] {Embedded System}
        child {node [gtu block] {Small Scale}
            child {node [gtu state] {Calculator\\Digital Watch\\Remote Control}}
        }
        child {node [gtu block] {Medium Scale}
            child {node [gtu state] {Mobile Phone\\Router\\Printer}}
        }
        child {node [gtu block] {Large Scale}
            child {node [gtu state] {Car ECU\\Aircraft Control\\Medical Equip.}}
        };
\end{tikzpicture}
\end{answerdiagram}

\keyword{લાક્ષણિકતાઓ:}
\begin{itemize}
    \item \keyword{રિયલ-ટાઇમ ઓપરેશન}: પ્રિડિક્ટેબલ રિસ્પોન્સ ટાઇમ.
    \item \keyword{રિસોર્સ કન્સ્ટ્રેઇન્ટ્સ}: મર્યાદિત મેમરી અને પ્રોસેસિંગ પાવર.
    \item \keyword{ડેડિકેટેડ ફંક્શનાલિટી}: સિંગલ-પર્પઝ ડિઝાઇન.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Small-Calculator Medium-Mobile Large-Lifesupport}
\end{mnemonicbox}

\orquestionmarks{1(c)}{7}{Embedded system નો સામાન્ય બ્લોક ડાયાગ્રામ દોરી સમજાવો.}

\begin{solutionbox}
\textbf{સામાન્ય બ્લોક ડાયાગ્રામ:}

\begin{answerdiagram}{General Block Diagram}
\begin{tikzpicture}[auto, node distance=2cm]
    \node [gtu block] (proc) {Processor/\\Controller};
    \node [gtu block, left=of proc] (input) {Input Interface};
    \node [gtu block, right=of proc] (output) {Output Interface};
    \node [gtu block, above=of proc] (mem) {Memory\\(RAM/ROM)};
    \node [gtu block, below=of proc] (comm) {Communication\\Interface};
    
    \node [gtu block, left=of input] (sensors) {Sensors};
    \node [gtu block, right=of output] (actuators) {Actuators/\\Display};
    \node [gtu block, below=of comm] (ext) {External\\Systems};
    \node [gtu block, below left=1.5cm of proc] (power) {Power Supply};

    \path [gtu arrow] (sensors) -- (input);
    \path [gtu arrow] (input) -- (proc);
    \path [gtu arrow] (proc) -- (output);
    \path [gtu arrow] (output) -- (actuators);
    \path [gtu arrow] (proc) -- (mem);
    \path [gtu arrow] (mem) -- (proc);
    \path [gtu arrow] (proc) -- (comm);
    \path [gtu arrow] (comm) -- (proc);
    \path [gtu arrow] (comm) -- (ext);
    \path [gtu arrow] (ext) -- (comm);
    \path [gtu arrow] (power) -- (proc);
\end{tikzpicture}
\end{answerdiagram}

\textbf{બ્લોક ફંક્શન્સ:}
\begin{answertable}{Block Functions}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{બ્લોક} & \textbf{કાર્ય} \\ \hline
\keyword{પ્રોસેસર} & સેન્ટ્રલ પ્રોસેસિંગ યુનિટ (CPU/MCU). \\ \hline
\keyword{ઇનપુટ ઇન્ટરફેસ} & સેન્સર ડેટા એક્વિઝિશન, યુઝર ઇનપુટ. \\ \hline
\keyword{આઉટપુટ ઇન્ટરફેસ} & એક્ચ્યુએટર કંટ્રોલ, ડિસ્પ્લે આઉટપુટ. \\ \hline
\keyword{મેમરી} & પ્રોગ્રામ સ્ટોરેજ, ડેટા સ્ટોરેજ. \\ \hline
\keyword{કમ્યુનિકેશન} & બાહ્ય સિસ્ટમ કનેક્ટિવિટી. \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{ઇનપુટ પ્રોસેસિંગ}: ADC, ડિજિટલ ઇનપુટ કન્ડિશનિંગ.
    \item \keyword{આઉટપુટ કંટ્રોલ}: PWM, રિલે ડ્રાઇવર્સ, LED ડિસ્પ્લે.
    \item \keyword{પાવર મેનેજમેન્ટ}: વોલ્ટેજ રેગ્યુલેશન, પાવર ઓપ્ટિમાઇઝેશન.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Processor Input Output Memory Communication Power}
\end{mnemonicbox}

\questionmarks{2(a)}{3}{EEPROM નું પૂરું નામ લખો અને તેના વિશે સમજાવો.}

\begin{solutionbox}
\textbf{પૂરું નામ}: \keyword{Electrically Erasable Programmable Read-Only Memory}

\textbf{EEPROM રજિસ્ટર્સ:}

\begin{answertable}{EEPROM Registers}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{રજિસ્ટર} & \textbf{કાર્ય} \\ \hline
\keyword{EEAR} & EEPROM Address Register \\ \hline
\keyword{EEDR} & EEPROM Data Register \\ \hline
\keyword{EECR} & EEPROM Control Register \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{EEAR}: EEPROM એક્સેસ માટે 10-bit એડ્રેસ (0-1023) હોલ્ડ કરે છે.
    \item \keyword{EEDR}: રીડ/રાઇટ ઓપરેશન માટે ડેટા રજિસ્ટર.
    \item \keyword{EECR}: કંટ્રોલ બિટ્સ - \keyword{EERE} (Read Enable), \keyword{EEWE} (Write Enable).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Address-EEAR Data-EEDR Control-EECR}
\end{mnemonicbox}

\questionmarks{2(b)}{4}{ATmega32માં રીસેટ સર્કિટ વિશે સમજાવો.}

\begin{solutionbox}
\textbf{રીસેટ સોર્સ:}

\begin{answertable}{Reset Sources}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{રીસેટ પ્રકાર} & \textbf{ટ્રિગર કન્ડિશન} \\ \hline
\keyword{પાવર-ઓન રીસેટ} & VCC થ્રેશહોલ્ડ ઉપર વધે છે \\ \hline
\keyword{એક્સટર્નલ રીસેટ} & RESET પિન લો પુલ કરવામાં આવે છે \\ \hline
\keyword{બ્રાઉન-આઉટ રીસેટ} & VCC થ્રેશહોલ્ડ નીચે પડે છે \\ \hline
\keyword{વોચડોગ રીસેટ} & વોચડોગ ટાઇમર ઓવરફ્લો \\ \hline
\end{tabulary}
\end{answertable}

\begin{answerdiagram}{Reset Logic}
\begin{tikzpicture}[auto, node distance=1.5cm]
    \node [gtu state] (por) {Power-on};
    \node [gtu state, right=of por] (ext) {External Pin};
    \node [gtu state, right=of ext] (bod) {Brown-out};
    \node [gtu state, right=of bod] (wdt) {Watchdog};
    
    \node [gtu block, below=2cm of ext] (reset) {Reset Logic};
    \node [gtu block, below=of reset] (pc) {Program Counter\\= 0x0000};
    
    \path [gtu arrow] (por) -- (reset);
    \path [gtu arrow] (ext) -- (reset);
    \path [gtu arrow] (bod) -- (reset);
    \path [gtu arrow] (wdt) -- (reset);
    \path [gtu arrow] (reset) -- (pc);
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{રીસેટ ડ્યુરેશન}: મિનિમમ 2 ક્લોક સાઇકલ્સ.
    \item \keyword{રીસેટ વેક્ટર}: પ્રોગ્રામ એક્ઝિક્યુશન એડ્રેસ 0x0000 થી શરૂ થાય છે.
    \item \keyword{હાર્ડવેર કનેક્શન}: એક્સટર્નલ રીસેટ માટે પુલ-અપ રેઝિસ્ટર જરૂરી.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Power-on External Brown-out Watchdog}
\end{mnemonicbox}

\questionmarks{2(c)}{7}{રિયલ ટાઇમ ઓપરેટિંગ સિસ્ટમની વ્યાખ્યા આપો અને તેની લાક્ષણિકતાઓ સમજાવો.}

\begin{solutionbox}
\textbf{વ્યાખ્યા}: \keyword{Real Time Operating System (RTOS)} એ એવું ઓપરેટિંગ સિસ્ટમ છે જે કડક ટાઇમિંગ કન્સ્ટ્રેઇન્ટ્સ અને પ્રિડિક્ટેબલ રિસ્પોન્સ ટાઇમ સાથે રિયલ-ટાઇમ એપ્લિકેશન્સ હેન્ડલ કરવા માટે ડિઝાઇન કરવામાં આવે છે.

\textbf{લાક્ષણિકતાઓ:}

\begin{answertable}{RTOS Characteristics}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{લાક્ષણિકતા} & \textbf{વર્ણન} \\ \hline
\keyword{ડિટર્મિનિસ્ટિક} & પ્રિડિક્ટેબલ એક્ઝિક્યુશન ટાઇમ \\ \hline
\keyword{પ્રીએમ્પ્ટિવ} & હાઇ પ્રાયોરિટી ટાસ્ક લો પ્રાયોરિટીને ઇન્ટરપ્ટ કરે છે \\ \hline
\keyword{મલ્ટિટાસ્કિંગ} & મલ્ટિપલ ટાસ્ક એક્ઝિક્યુશન \\ \hline
\keyword{ફાસ્ટ રિસ્પોન્સ} & મિનિમલ ઇન્ટરપ્ટ લેટન્સી \\ \hline
\keyword{પ્રાયોરિટી-બેસ્ડ} & પ્રાયોરિટી આધારિત ટાસ્ક શિડ્યુલિંગ \\ \hline
\keyword{રિસોર્સ મેનેજમેન્ટ} & એફિશિયન્ટ મેમરી અને CPU ઉપયોગ \\ \hline
\end{tabulary}
\end{answertable}

\begin{answerdiagram}{RTOS Types}
\begin{tikzpicture}[edge from parent fork down, sibling distance=4cm, level distance=1.5cm]
    \node [gtu block] {RTOS}
        child {node [gtu block] {Hard Real-time}
            child {node [gtu state] {Strict Deadlines\\Safety Critical}}
        }
        child {node [gtu block] {Soft Real-time}
            child {node [gtu state] {Flexible Deadlines\\Performance Critical}}
        };
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{ટાસ્ક શિડ્યુલિંગ}: રાઉન્ડ-રોબિન, પ્રાયોરિટી-બેસ્ડ અલ્ગોરિધમ્સ.
    \item \keyword{ઇન્ટર-ટાસ્ક કમ્યુનિકેશન}: સેમાફોર્સ, મેસેજ ક્યુ.
    \item \keyword{મેમરી મેનેજમેન્ટ}: પ્રિડિક્ટેબિલિટી માટે સ્ટેટિક એલોકેશન.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Deterministic Preemptive Multitasking Fast Priority Resource}
\end{mnemonicbox}

\orquestionmarks{2(a)}{3}{AVR ફેમિલી વિશે સમજાવો.}

\begin{solutionbox}
\textbf{AVR ફેમિલી વર્ગીકરણ:}

\begin{answertable}{AVR Family}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{AVR પ્રકાર} & \textbf{વિશેષતાઓ} \\ \hline
\keyword{ATtiny} & 8-32 પિન્સ, બેસિક ફીચર્સ \\ \hline
\keyword{ATmega} & 28-100 પિન્સ, ફુલ ફીચર્સ \\ \hline
\keyword{ATxmega} & એડવાન્સ ફીચર્સ, DMA \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{આર્કિટેક્ચર}: 8-bit RISC, હાર્વર્ડ આર્કિટેક્ચર.
    \item \keyword{ઇન્સ્ટ્રક્શન સેટ}: 130+ ઇન્સ્ટ્રક્શન્સ, સિંગલ સાઇકલ એક્ઝિક્યુશન.
    \item \keyword{મેમરી}: ફ્લેશ પ્રોગ્રામ મેમરી, SRAM, EEPROM.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Tiny-basic mega-full Xmega-advanced}
\end{mnemonicbox}

\orquestionmarks{2(b)}{4}{ATmega32માં ક્લોક સોર્સની પસંદગી માટે ફ્યૂઝ બિટ્સનું મહત્વ સમજાવો.}

\begin{solutionbox}
\textbf{ક્લોક સોર્સ સિલેક્શન:}

\begin{answertable}{Fuse Bits}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ફ્યૂઝ બિટ્સ} & \textbf{કાર્ય} \\ \hline
\keyword{CKSEL3:0} & ક્લોક સોર્સ સિલેક્શન \\ \hline
\keyword{SUT1:0} & સ્ટાર્ટ-અપ ટાઇમ સિલેક્શન \\ \hline
\end{tabulary}
\end{answertable}

\textbf{ક્લોક ઓપ્શન્સ:}

\begin{answertable}{Clock Options}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{CKSEL મૂલ્ય} & \textbf{ક્લોક સોર્સ} & \textbf{ફ્રીક્વન્સી} \\ \hline
0001 & એક્સટર્નલ ક્રિસ્ટલ & 1-8 MHz \\ \hline
0010 & એક્સટર્નલ ક્રિસ્ટલ & 8+ MHz \\ \hline
0100 & ઇન્ટર્નલ RC & 8 MHz \\ \hline
0000 & એક્સટર્નલ ક્લોક & યુઝર ડિફાઇન્ડ \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{ક્રિસ્ટલ સિલેક્શન}: એક્સટર્નલ ક્રિસ્ટલ અને કૅપેસિટર જરૂરી.
    \item \keyword{RC ઓસિલેટર}: બિલ્ટ-ઇન, ઓછું એક્યુરેટ પણ સુવિધાજનક.
    \item \keyword{સ્ટાર્ટ-અપ ટાઇમ}: ક્રિસ્ટલ સ્ટેબિલાઇઝેશનની મંજૂરી આપે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Crystal RC Internal Start-up}
\end{mnemonicbox}

\orquestionmarks{2(c)}{7}{ATmega32નો પિન ડાયાગ્રામ દોરી MISO, MOSI, SCK \& AREF Pin નું કાર્ય સમજાવો.}

\begin{solutionbox}
\textbf{ATmega32 પિન કન્ફિગરેશન:}

\begin{center}
\begin{tikzpicture}[
    pin/.style={draw, rectangle, minimum width=2.5cm, minimum height=0.5cm, font=\small},
    ic/.style={draw, rectangle, minimum width=3cm, minimum height=10cm, fill=gray!10}
]
    \node [ic] (body) {};
    \node [anchor=north, font=\large\bfseries] at (body.north) {ATmega32};

    % Left Side
    \foreach \i/\label in {1/PB0, 2/PB1, 3/PB2, 4/PB3, 5/PB4(SS), 6/PB5(MOSI), 7/PB6(MISO), 8/PB7(SCK), 9/RESET, 10/VCC, 11/GND, 12/XTAL2, 13/XTAL1} {
        \node [anchor=west, font=\tiny] at ([yshift=-0.5cm-\i*0.6cm]body.north west) {\i\ \label};
        \draw ([yshift=-0.5cm-\i*0.6cm]body.north west) -- +(-0.2,0);
    }

    % Right Side
    \foreach \i/\label in {40/PA0(ADC0), 39/PA1, 38/PA2, 37/PA3, 36/PA4, 35/PA5, 34/PA6, 33/PA7, 32/AREF, 31/GND, 30/AVCC, 29/PC7, 28/PC6} {
         \pgfmathsetmacro{\ypos}{41-\i}
        \node [anchor=east, font=\tiny] at ([yshift=-0.5cm-\ypos*0.6cm]body.north east) {\label\ \i};
        \draw ([yshift=-0.5cm-\ypos*0.6cm]body.north east) -- +(0.2,0);
    }
\end{tikzpicture}
\end{center}

\textbf{પિન ફંક્શન્સ:}

\begin{answertable}{Pin Functions}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{પિન} & \textbf{કાર્ય} & \textbf{વર્ણન} \\ \hline
\keyword{MOSI} & Master Out Slave In & માસ્ટરથી સ્લેવમાં SPI ડેટા આઉટપુટ \\ \hline
\keyword{MISO} & Master In Slave Out & સ્લેવથી માસ્ટરમાં SPI ડેટા ઇનપુટ \\ \hline
\keyword{SCK} & Serial Clock & SPI ક્લોક સિગ્નલ \\ \hline
\keyword{AREF} & Analog Reference & ADC રેફરન્સ વોલ્ટેજ \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{SPI કમ્યુનિકેશન}: MOSI, MISO, SCK મળીને સીરિયલ ડેટા ટ્રાન્સફર માટે કામ કરે છે.
    \item \keyword{ADC રેફરન્સ}: AREF, ADC કન્વર્ઝન માટે સ્થિર વોલ્ટેજ રેફરન્સ પ્રદાન કરે છે.
    \item \keyword{પિન મલ્ટિપ્લેક્સિંગ}: આ પિન્સ GPIO તરીકે વૈકલ્પિક કાર્યો ધરાવે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{MOSI-out MISO-in SCK-clock AREF-reference}
\end{mnemonicbox}

\questionmarks{3(a)}{3}{ATmega32 માં DDR I/O રજિસ્ટરની ભૂમિકા સમજાવો.}

\begin{solutionbox}
\textbf{DDR (Data Direction Register) કાર્યો:}

\begin{answertable}{DDR Bit Settings}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{બિટ મૂલ્ય} & \textbf{પિન કન્ફિગરેશન} \\ \hline
\keyword{0} & ઇનપુટ પિન \\ \hline
\keyword{1} & આઉટપુટ પિન \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{પોર્ટ કંટ્રોલ}: દરેક પોર્ટનું અનુરૂપ DDR (DDRA, DDRB, DDRC, DDRD) છે.
    \item \keyword{બિટ-વાઇઝ કંટ્રોલ}: વ્યક્તિગત પિન દિશા કંટ્રોલ.
    \item \keyword{ડિફોલ્ટ સ્થિતિ}: રીસેટ પછી બધા પિન્સ ઇનપુટ (DDR = 0x00).
\end{itemize}

\textbf{કોડ ઉદાહરણ:}
\begin{lstlisting}[language=C]
DDRA = 0xFF;  // બધા Port A પિન્સ આઉટપુટ તરીકે
DDRB = 0x0F;  // PB0-PB3 આઉટપુટ, PB4-PB7 ઇનપુટ
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Data Direction Register controls Input/Output}
\end{mnemonicbox}

\questionmarks{3(b)}{4}{Port B પરથી ડેટાને રીડ કરાવી Port C પર મોકલવા માટેનો AVR C પ્રોગ્રામ લખો.}

\begin{solutionbox}
\textbf{પ્રોગ્રામ:}

\begin{lstlisting}[language=C]
#include <avr/io.h>

int main(void)
{
    unsigned char data;
    
    // Port B ને ઇનપુટ તરીકે કન્ફિગર કરો
    DDRB = 0x00;
    
    // Port C ને આઉટપુટ તરીકે કન્ફિગર કરો 
    DDRC = 0xFF;
    
    while(1)
    {
        // Port B થી ડેટા રીડ કરો
        data = PINB;
        
        // Port C પર ડેટા મોકલો
        PORTC = data;
    }
    
    return 0;
}
\end{lstlisting}

\keyword{પ્રોગ્રામ સમજૂતી:}
\begin{itemize}
    \item \keyword{DDRB = 0x00}: બધા Port B પિન્સને ઇનપુટ તરીકે સેટ કરે છે.
    \item \keyword{DDRC = 0xFF}: બધા Port C પિન્સને આઉટપુટ તરીકે સેટ કરે છે.
    \item \keyword{PINB}: Port B પિન્સની વર્તમાન સ્થિતિ રીડ કરે છે.
    \item \keyword{PORTC}: Port C આઉટપુટ પિન્સ પર ડેટા લખે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Read-PINB Set-DDR Transfer-data Output-PORTC}
\end{mnemonicbox}

\questionmarks{3(c)}{7}{PORT B ના પિન નં 1 પર ડોર સેન્સર જોડાયેલ છે અને PORT C ના પિન નં 7 પર LED જોડાયેલ છે. દરવાજા ઉપર લાગેલા સેન્સરને મોનિટર કરતાં રહો અને જ્યારે દરવાજો ખુલે ત્યારે LED ચાલુ થાય તે માટેનો AVR C પ્રોગ્રામ લખો.}

\begin{solutionbox}
\textbf{પ્રોગ્રામ:}

\begin{lstlisting}[language=C]
#include <avr/io.h>

int main(void)
{
    // PB1 ને ઇનપુટ તરીકે કન્ફિગર કરો (ડોર સેન્સર)
    DDRB &= ~(1<<1);  // બિટ 1 ક્લિયર કરો
    
    // PC7 ને આઉટપુટ તરીકે કન્ફિગર કરો (LED)
    DDRC |= (1<<7);   // બિટ 7 સેટ કરો
    
    // PB1 માટે પુલ-અપ એનેબલ કરો
    PORTB |= (1<<1);
    
    while(1)
    {
        // ડોર સેન્સરની સ્થિતિ ચેક કરો
        if(PINB & (1<<1))
        {
            // દરવાજો બંધ - LED બંધ કરો
            PORTC &= ~(1<<7);
        }
        else
        {
            // દરવાજો ખુલ્લો - LED ચાલુ કરો
            PORTC |= (1<<7);
        }
    }
    
    return 0;
}
\end{lstlisting}

\keyword{હાર્ડવેર કનેક્શન:}
\begin{itemize}
    \item \keyword{ડોર સેન્સર}: PB1 અને GND વચ્ચે જોડાયેલ.
    \item \keyword{LED}: કરન્ટ લિમિટિંગ રેઝિસ્ટર દ્વારા PC7 સાથે જોડાયેલ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Door-sensor Configure-pins Open-check LED-control}
\end{mnemonicbox}

\orquestionmarks{3(a)}{3}{AVR C પ્રોગ્રામ ના ડેટા ટાઇપની ચર્ચા કરો.}

\begin{solutionbox}
\textbf{AVR C ડેટા ટાઇપ્સ:}

\begin{answertable}{Data Types}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{ડેટા ટાઇપ} & \textbf{સાઇઝ} & \textbf{રેન્જ} \\ \hline
\keyword{char} & 8-bit & -128 થી 127 \\ \hline
\keyword{unsigned char} & 8-bit & 0 થી 255 \\ \hline
\keyword{int} & 16-bit & -32768 થી 32767 \\ \hline
\keyword{unsigned int} & 16-bit & 0 થી 65535 \\ \hline
\keyword{long} & 32-bit & -2\textsuperscript{31} થી 2\textsuperscript{31}-1 \\ \hline
\keyword{float} & 32-bit & IEEE 754 ફોર્મેટ \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{મેમરી એફિશિયન્સી}: સૌથી નાનો યોગ્ય ડેટા ટાઇપ વાપરો.
    \item \keyword{અનસાઇન્ડ ટાઇપ્સ}: ફક્ત પોઝિટિવ વેલ્યુ માટે, રેન્જ બમાવે છે.
    \item \keyword{બિટ ફિલ્ડ્સ}: સ્પેસિફિક બિટ-વિડ્થ વેરિએબલ્સ ડિફાઇન કરી શકાય છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Char-8bit Int-16bit Long-32bit Float-32bit Unsigned-positive}
\end{mnemonicbox}

\orquestionmarks{3(b)}{4}{સિરિયલ કોમ્યુનિકેશન પ્રોટોકોલ સમજાવો.}

\begin{solutionbox}
\textbf{સિરિયલ કોમ્યુનિકેશન પેરામીટર્સ:}

\begin{answertable}{Serial Parameters}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{વર્ણન} \\ \hline
\keyword{બોડ રેટ} & ડેટા ટ્રાન્સમિશન સ્પીડ (બિટ્સ/સેકન્ડ) \\ \hline
\keyword{ડેટા બિટ્સ} & ડેટા બિટ્સની સંખ્યા (5-9) \\ \hline
\keyword{પેરિટી} & એરર ચેકિંગ (None, Even, Odd) \\ \hline
\keyword{સ્ટોપ બિટ્સ} & ફ્રેમના અંતનું માર્કર (1 અથવા 2) \\ \hline
\end{tabulary}
\end{answertable}

\begin{answerdiagram}{Serial Frame}
\begin{tikzpicture}[auto, node distance=1cm]
    \node (tx) {TX};
    \node [right=5cm of tx] (rx) {RX};
    \draw [->, thick] (tx) -- node [above] {Serial Data Frame} (rx);
    
    \draw (0.5,-1) rectangle (1,-0.5) node[midway] {S};
    \draw (1,-1) rectangle (4,-0.5) node[midway] {Data Bits (8)};
    \draw (4,-1) rectangle (4.5,-0.5) node[midway] {P};
    \draw (4.5,-1) rectangle (5,-0.5) node[midway] {E};
    
    \node [below, font=\tiny] at (0.75,-1) {Start};
    \node [below, font=\tiny] at (4.25,-1) {Parity};
    \node [below, font=\tiny] at (4.75,-1) {Stop};
    
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{એસિંક્રોનસ}: કોઈ ક્લોક સિગ્નલ નથી, સ્ટાર્ટ/સ્ટોપ બિટ્સ વાપરે છે.
    \item \keyword{RS232 સ્ટાન્ડર્ડ}: $\pm$12V લેવલ્સ, TTL લેવલ્સમાં કન્વર્ટ થાય છે.
    \item \keyword{સામાન્ય બોડ રેટ્સ}: 9600, 19200, 38400, 115200.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Baud-rate Data-bits Parity-check Stop-bits}
\end{mnemonicbox}

\orquestionmarks{3(c)}{7}{Port B ના પિન નં. 0 અને પિન નં. 1 ને રીડ કરી નીચે આપેલા ટેબલ પ્રમાણે ASCII કેરેક્ટર Port D પર મોકલાવા માટેનો AVR C પ્રોગ્રામ લખો}

\begin{solutionbox}
\textbf{ટ્રુથ ટેબલ અમલીકરણ:}

\begin{answertable}{Truth Table}
\begin{tabulary}{\linewidth}{|C|C|C|C|}
\hline
\textbf{Pin1} & \textbf{Pin0} & \textbf{ઇનપુટ મૂલ્ય} & \textbf{ASCII આઉટપુટ} \\ \hline
0 & 0 & 0x00 & '0' (0x30) \\ \hline
0 & 1 & 0x01 & '1' (0x31) \\ \hline
1 & 0 & 0x02 & '2' (0x32) \\ \hline
1 & 1 & 0x03 & '3' (0x33) \\ \hline
\end{tabulary}
\end{answertable}

\textbf{પ્રોગ્રામ:}

\begin{lstlisting}[language=C]
#include <avr/io.h>

int main(void)
{
    unsigned char input;
    
    // PB1 અને PB0 ને ઇનપુટ તરીકે કન્ફિગર કરો
    DDRB &= ~((1<<1)|(1<<0));
    
    // Port D ને આઉટપુટ તરીકે કન્ફિગર કરો
    DDRD = 0xFF;
    
    // PB1 અને PB0 માટે પુલ-અપ એનેબલ કરો
    PORTB |= (1<<1)|(1<<0);
    
    while(1)
    {
        // PB1 અને PB0 રીડ કરો
        input = PINB & 0x03;  // અન્ય બિટ્સ માસ્ક કરો
        
        switch(input)
        {
            case 0x00:  // Pin1=0, Pin0=0
                PORTD = '0';  // ASCII '0' = 0x30
                break;
                
            case 0x01:  // Pin1=0, Pin0=1
                PORTD = '1';  // ASCII '1' = 0x31
                break;
                
            case 0x02:  // Pin1=1, Pin0=0
                PORTD = '2';  // ASCII '2' = 0x32
                break;
                
            case 0x03:  // Pin1=1, Pin0=1
                PORTD = '3';  // ASCII '3' = 0x33
                break;
        }
    }
    
    return 0;
}
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Mask-inputs ASCII-conversion Truth-table Switch-case}
\end{mnemonicbox}

\questionmarks{4(a)}{3}{ATmega32 સાથે રિલે ડ્રાઇવર ULN2803નું ઇન્ટરફેસિંગ ડાયાગ્રામ દોરો.}

\begin{solutionbox}
\textbf{રિલે ઇન્ટરફેસ ડાયાગ્રામ:}

\begin{answerdiagram}{Relay \& ULN2803 Interface}
\begin{tikzpicture}[auto, node distance=2.5cm]
    \node [gtu block] (mcu) {ATmega32\\Port C};
    \node [gtu block, right=of mcu] (uln) {ULN2803\\Driver};
    \node [gtu block, right=of uln] (relay) {Relay\\+12V};
    
    \draw [gtu arrow] (mcu.20) -- node[above, font=\tiny] {PC0} (uln.160);
    \draw [gtu arrow] (mcu.-20) -- node[above, font=\tiny] {PC7} (uln.200);
    
    \draw [gtu arrow] (uln) -- node[above, font=\tiny] {Drive} (relay);
    
    \node [below=0.5cm of relay] (load) {Load};
    \draw [gtu arrow] (relay) -- (load);
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{ULN2803}: ડાર્લિંગ્ટન ટ્રાન્ઝિસ્ટર એરે, કરન્ટ એમ્પ્લિફિકેશન.
    \item \keyword{પ્રોટેક્શન ડાયોડ્સ}: ઇન્ડક્ટિવ લોડ્સ માટે બિલ્ટ-ઇન ફ્લાયબેક ડાયોડ્સ.
    \item \keyword{રિલે કોઇલ}: 12V જરૂરી, ULN2803 આઉટપુટ દ્વારા કંટ્રોલ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ULN-driver Port-control Current-amplify}
\end{mnemonicbox}

\questionmarks{4(b)}{4}{પોલિંગ મેથડથી A/D કન્વર્ટરને પ્રોગ્રામ કરવા માટેના સ્ટેપ્સ લખો.}

\begin{solutionbox}
\textbf{ADC પ્રોગ્રામિંગ સ્ટેપ્સ:}

\begin{answertable}{ADC Steps}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{સ્ટેપ} & \textbf{ક્રિયા} \\ \hline
1 & ADMUX રજિસ્ટર કન્ફિગર કરો (રેફરન્સ, ચેનલ) \\ \hline
2 & ADCSRA રજિસ્ટર કન્ફિગર કરો (એનેબલ, પ્રીસ્કેલર) \\ \hline
3 & કન્વર્ઝન સ્ટાર્ટ કરો (ADSC બિટ સેટ કરો) \\ \hline
4 & કન્વર્ઝન પૂર્ણ થવાની રાહ જુઓ (ADIF ફ્લેગ પોલ કરો) \\ \hline
5 & ADCL અને ADCH થી પરિણામ રીડ કરો \\ \hline
\end{tabulary}
\end{answertable}

\textbf{કોડ:}
\begin{lstlisting}[language=C]
// સ્ટેપ 1: ADMUX કન્ફિગર કરો
ADMUX = (1<<REFS0);  // AVCC રેફરન્સ, ચેનલ 0

// સ્ટેપ 2: પ્રીસ્કેલર સાથે ADC એનેબલ કરો
ADCSRA = (1<<ADEN)|(1<<ADPS2)|(1<<ADPS1)|(1<<ADPS0);

// સ્ટેપ 3: કન્વર્ઝન સ્ટાર્ટ કરો
ADCSRA |= (1<<ADSC);

// સ્ટેપ 4: પૂર્ણતાની રાહ જુઓ
while(!(ADCSRA & (1<<ADIF)));

// સ્ટેપ 5: પરિણામ રીડ કરો
result = ADC;  // ADCL અને ADCH નું સંયોજન
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Configure-ADMUX Configure-ADCSRA Start-conversion Wait-complete Read-result}
\end{mnemonicbox}

\questionmarks{4(c)}{7}{I2C-Two Wire Serial Interface (TWI) પ્રોટોકોલ વિસ્તારવાર સમજાવો.}

\begin{solutionbox}
\textbf{I2C પ્રોટોકોલ ફીચર્સ:}

\begin{answertable}{I2C Features}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ફીચર} & \textbf{વર્ણન} \\ \hline
\keyword{બે વાયર} & SDA (ડેટા) અને SCL (ક્લોક) \\ \hline
\keyword{મલ્ટિ-માસ્ટર} & બહુવિધ માસ્ટર બસ કંટ્રોલ કરી શકે છે \\ \hline
\keyword{એડ્રેસિંગ} & 7-bit અથવા 10-bit ડિવાઇસ એડ્રેસ \\ \hline
\keyword{બાઇડાયરેક્શનલ} & બંને દિશામાં ડેટા ફ્લો \\ \hline
\end{tabulary}
\end{answertable}

\begin{answerdiagram}{I2C Sequence}
\begin{tikzpicture}[auto, node distance=1.5cm]
    \node (master) {Master};
    \node [right=6cm of master] (slave) {Slave};
    
    \draw [->] (0,-1) -- node[midway, above] {Start Condition} (6,-1);
    \draw [->] (0,-2) -- node[midway, above] {Address + R/W} (6,-2);
    \draw [<-] (0,-3) -- node[midway, above] {ACK} (6,-3);
    \draw [->] (0,-4) -- node[midway, above] {Data Byte} (6,-4);
    \draw [<-] (0,-5) -- node[midway, above] {ACK} (6,-5);
    \draw [->] (0,-6) -- node[midway, above] {Stop Condition} (6,-6);
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{સ્ટાર્ટ કન્ડિશન}: SCL હાઇ હોય ત્યારે SDA લો જાય છે.
    \item \keyword{એડ્રેસ ફ્રેમ}: 7-bit એડ્રેસ + R/W બિટ.
    \item \keyword{ડેટા ફ્રેમ}: 8-bit ડેટા + ACK/NACK.
    \item \keyword{સ્ટોપ કન્ડિશન}: SCL હાઇ હોય ત્યારે SDA હાઇ જાય છે.
\end{itemize}

\textbf{રજિસ્ટર્સ:} \keyword{TWCR}, \keyword{TWDR}, \keyword{TWAR}, \keyword{TWSR}.
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Start-Address-Data Control-Status-Address}
\end{mnemonicbox}

\orquestionmarks{4(a)}{3}{8-બિટ ટાઇમરનો ઉપયોગ કરી DC મોટરની સ્પીડ કંટ્રોલ કરવા માટે કોઈ પણ એક PWM મોડ સમજાવો.}

\begin{solutionbox}
\textbf{ફાસ્ટ PWM મોડ (મોડ 3):}

\begin{answertable}{Fast PWM}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{મૂલ્ય} \\ \hline
\keyword{WGM બિટ્સ} & WGM01=1, WGM00=1 \\ \hline
\keyword{TOP મૂલ્ય} & 0xFF (255) \\ \hline
\keyword{રેઝોલ્યુશન} & 8-bit \\ \hline
\keyword{ફ્રીક્વન્સી} & $f_{clk}/(256 \times prescaler)$ \\ \hline
\end{tabulary}
\end{answertable}

\begin{answerdiagram}{PWM Motor Control}
\begin{tikzpicture}[auto, node distance=1.5cm]
    \node [gtu block] (timer) {Timer0\\Count};
    \node [gtu block, right=of timer] (cmp) {Compare Unit};
    \node [gtu block, right=of cmp] (driver) {Motor\\Driver};
    \node [gtu block, right=of driver] (motor) {DC\\Motor};
    
    \node [above=0.5cm of cmp] (ocr) {OCR0 Value};
    \draw [gtu arrow] (ocr) -- (cmp);
    
    \draw [gtu arrow] (timer) -- (cmp);
    \draw [gtu arrow] (cmp) -- node[midway, above] {PWM Signal} (driver);
    \draw [gtu arrow] (driver) -- (motor);
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{ડ્યુટી સાઇકલ કંટ્રોલ}: OCR0 મૂલ્ય મોટરની સ્પીડ નક્કી કરે છે.
    \item \keyword{મોટર કંટ્રોલ}: વધારે ડ્યુટી સાઇકલ = વધારે સ્પીડ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Fast-PWM Timer0 OCR0-control}
\end{mnemonicbox}

\orquestionmarks{4(b)}{4}{SPI ડિવાઇસમાંથી ડેટા રીડ કરવા માટેના સ્ટેપ્સ લખો.}

\begin{solutionbox}
\textbf{SPI રીડ સ્ટેપ્સ:}

\begin{answertable}{SPI Steps}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{સ્ટેપ} & \textbf{ક્રિયા} \\ \hline
1 & SPI કંટ્રોલ રજિસ્ટર (SPCR) કન્ફિગર કરો \\ \hline
2 & સ્લેવ સિલેક્ટ કરવા માટે SS પિન લો કરો \\ \hline
3 & SPDR માં ડમી ડેટા લખો \\ \hline
4 & ટ્રાન્સમિશન પૂર્ણ થવાની રાહ જુઓ (SPIF ફ્લેગ) \\ \hline
5 & SPDR થી રિસીવ કરેલો ડેટા રીડ કરો \\ \hline
6 & સ્લેવ ડિસિલેક્ટ કરવા માટે SS પિન હાઇ કરો \\ \hline
\end{tabulary}
\end{answertable}

\textbf{કોડ:}
\begin{lstlisting}[language=C]
// SPI ને માસ્ટર તરીકે કન્ફિગર કરો
SPCR = (1<<SPE)|(1<<MSTR)|(1<<SPR0);

// સ્લેવ સિલેક્ટ કરો
PORTB &= ~(1<<SS);

// ડમી બાઇટ મોકલો
SPDR = 0xFF;

// પૂર્ણતાની રાહ જુઓ
while(!(SPSR & (1<<SPIF)));

// ડેટા રીડ કરો
data = SPDR;

// સ્લેવ ડિસિલેક્ટ કરો
PORTB |= (1<<SS);
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Configure Select Write-dummy Wait Read-data Deselect}
\end{mnemonicbox}

\orquestionmarks{4(c)}{7}{ATmega32 સાથે LM35 ઇન્ટરફેસિંગ ડાયાગ્રામ દોરી સમજાવો.}

\begin{solutionbox}
\textbf{LM35 ઇન્ટરફેસિંગ:}

\begin{answerdiagram}{LM35 Interface}
\begin{tikzpicture}[auto, node distance=2cm]
    \node [gtu block] (lm35) {LM35\\Sensor};
    \node [gtu block, right=of lm35] (mcu) {ATmega32\\(ADC)};
    
    \draw [gtu arrow] (lm35) -- node[midway, above] {Vout} node[midway, below] {PA0 (ADC0)} (mcu);
    
    \node [above=0.5cm of lm35] (vcc) {+5V};
    \node [below=0.5cm of lm35] (gnd) {GND};
    \draw [gtu arrow] (vcc) -- (lm35);
    \draw [gtu arrow] (lm35) -- (gnd);
\end{tikzpicture}
\end{answerdiagram}

\textbf{સ્પેસિફિકેશન્સ:}
\begin{answertable}{LM35 Specs}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{પેરામીટર} & \textbf{મૂલ્ય} \\ \hline
\keyword{આઉટપુટ} & 10mV/$^\circ$C \\ \hline
\keyword{રેન્જ} & 0$^\circ$C થી 100$^\circ$C \\ \hline
\keyword{સપ્લાય} & 4V થી 30V \\ \hline
\keyword{એક્યુરસી} & $\pm$0.5$^\circ$C \\ \hline
\end{tabulary}
\end{answertable}

\textbf{કેલ્ક્યુલેશન:}
\[ Temp = \frac{ADC \times 5000mV}{1024 \times 10mV/^\circ C} \]
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Voltage-output ADC-conversion Reference-5V Calculation-formula}
\end{mnemonicbox}

\questionmarks{5(a)}{3}{Timer 0 માટે working બ્લોક ડાયાગ્રામ દોરો.}

\begin{solutionbox}
\textbf{Timer 0 બ્લોક ડાયાગ્રામ:}

\begin{answerdiagram}{Timer 0 Block Diagram}
\begin{tikzpicture}[auto, node distance=1.5cm]
    \node [gtu block] (clock) {System Clock};
    \node [gtu block, right=of clock] (prescaler) {Prescaler};
    \node [gtu block, right=of prescaler] (tcnt) {TCNT0\\(Counter)};
    \node [gtu block, right=of tcnt] (compare) {Compare\\Unit};
    \node [gtu block, right=of compare] (ocr) {OCR0};
    
    \node [gtu block, above=of tcnt] (ovf) {Overflow\\Flag};
    \node [gtu block, below=of compare] (pwm) {PWM Output};
    
    \draw [gtu arrow] (clock) -- (prescaler);
    \draw [gtu arrow] (prescaler) -- (tcnt);
    \draw [gtu arrow] (tcnt) -- (compare);
    \draw [gtu arrow] (ocr) -- (compare);
    \draw [gtu arrow] (tcnt) -- (ovf);
    \draw [gtu arrow] (compare) -- (pwm);
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{પ્રીસ્કેલર}: ક્લોક ડિવિઝન (1, 8, 64, 256, 1024).
    \item \keyword{કાઉન્ટર}: 8-bit અપ કાઉન્ટર (0-255).
    \item \keyword{કોમ્પેર યુનિટ}: કાઉન્ટરને OCR0 સાથે કોમ્પેર કરે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Prescaler Counter Compare Overflow}
\end{mnemonicbox}

\questionmarks{5(b)}{4}{ATmega32 સૅથે MAX7221 ઇન્ટરફેસિંગ ડાયાગ્રામ દોરો.}

\begin{solutionbox}
\textbf{MAX7221 ઇન્ટરફેસ:}

\begin{answerdiagram}{MAX7221 Interface}
\begin{tikzpicture}[auto, node distance=2cm]
    \node [gtu block] (mcu) {ATmega32};
    \node [gtu block, right=of mcu] (max) {MAX7221};
    \node [gtu block, right=of max] (disp) {7-Segment\\Display};

    \draw [gtu arrow] (mcu.20) -- node[above, font=\tiny] {MOSI -> DIN} (max.160);
    \draw [gtu arrow] (mcu.0) -- node[above, font=\tiny] {SCK -> CLK} (max.180);
    \draw [gtu arrow] (mcu.-20) -- node[above, font=\tiny] {SS -> CS} (max.200);
    
    \draw [gtu arrow] (max) -- (disp);
\end{tikzpicture}
\end{answerdiagram}

\begin{itemize}
    \item \keyword{ડિસ્પ્લે ડ્રાઇવર}: 8-digit 7-segment LED ડ્રાઇવર.
    \item \keyword{SPI ઇન્ટરફેસ}: સીરિયલ ડેટા ઇનપુટ (DIN, CLK, CS).
    \item \keyword{ફીચર્સ}: કરન્ટ કંટ્રોલ, BCD ડિકોડ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SPI-interface Current-control Decode-mode Initialize-setup Scan-limit}
\end{mnemonicbox}

\questionmarks{5(c)}{7}{વેધર મોનિટરિંગ સિસ્ટમ સમજાવો.}

\begin{solutionbox}
\textbf{વેધર મોનિટરિંગ સિસ્ટમ:}

\begin{answerdiagram}{Weather Monitoring System}
\begin{tikzpicture}[auto, node distance=2cm]
    \node [gtu block] (mcu) {ATmega32};
    \node [gtu block, left=of mcu, yshift=1.5cm] (lm35) {LM35\\(Temp)};
    \node [gtu block, left=of mcu, yshift=0.5cm] (dht) {DHT11\\(Hum)};
    \node [gtu block, left=of mcu, yshift=-0.5cm] (bmp) {BMP180\\(Pres)};
    \node [gtu block, left=of mcu, yshift=-1.5cm] (ldr) {LDR\\(Light)};
    
    \node [gtu block, right=of mcu, yshift=1cm] (lcd) {LCD Display};
    \node [gtu block, right=of mcu, yshift=0cm] (eeprom) {EEPROM\\Logger};
    \node [gtu block, right=of mcu, yshift=-1cm] (wifi) {ESP8266\\WiFi};
    \node [gtu block, right=of wifi] (cloud) {Cloud\\Server};
    
    \draw [gtu arrow] (lm35) -- (mcu);
    \draw [gtu arrow] (dht) -- (mcu);
    \draw [gtu arrow] (bmp) -- (mcu);
    \draw [gtu arrow] (ldr) -- (mcu);
    
    \draw [gtu arrow] (mcu) -- (lcd);
    \draw [gtu arrow] (mcu) -- (eeprom);
    \draw [gtu arrow] (mcu) -- (wifi);
    \draw [gtu arrow] (wifi) -- (cloud);
\end{tikzpicture}
\end{answerdiagram}

\textbf{કોમ્પોનન્ટસ:}
\begin{answertable}{Components}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{કોમ્પોનન્ટ} & \textbf{કાર્ય} \\ \hline
\keyword{LM35} & ટેમ્પરેચર માપન \\ \hline
\keyword{DHT11} & હ્યુમિડિટી અને ટેમ્પરેચર \\ \hline
\keyword{BMP180} & વાતાવરણીય દબાણ \\ \hline
\keyword{ESP8266} & WiFi કનેક્ટિવિટી \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{રિયલ-ટાઇમ મોનિટરિંગ}: સતત સેન્સર ડેટા કલેક્શન.
    \item \keyword{રિમોટ એક્સેસ}: ક્લાઉડ અપલોડ માટે WiFi.
    \item \keyword{એલર્ટ સિસ્ટમ}: થ્રેશહોલ્ડ-બેસ્ડ વોર્નિંગ્સ.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Sensors Monitoring Alert Remote Temperature Weather}
\end{mnemonicbox}

\orquestionmarks{5(a)}{3}{ટાઇમર/કાઉન્ટર કંટ્રોલ રજિસ્ટર TCCR0 દોરી સમજાવો.}

\begin{solutionbox}
\textbf{TCCR0 રજિસ્ટર:}

\begin{answertable}{TCCR0 Layout}
\begin{tabulary}{\linewidth}{|C|C|C|C|C|C|C|C|}
\hline
\textbf{7} & \textbf{6} & \textbf{5} & \textbf{4} & \textbf{3} & \textbf{2} & \textbf{1} & \textbf{0} \\ \hline
FOC0 & WGM00 & COM01 & COM00 & WGM01 & CS02 & CS01 & CS00 \\ \hline
\end{tabulary}
\end{answertable}

\begin{itemize}
    \item \keyword{FOC0}: Force Output Compare.
    \item \keyword{WGM01:00}: Waveform Generation Mode (Normal, PWM, CTC).
    \item \keyword{COM01:00}: Compare Output Mode.
    \item \keyword{CS02:00}: Clock Select (પ્રીસ્કેલર સિલેક્શન).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Force Waveform Compare Clock-Select}
\end{mnemonicbox}

\orquestionmarks{5(b)}{4}{મોટર ડ્રાઇવર L293D નું કાર્ય સમજાવો.}

\begin{solutionbox}
\textbf{L293D મોટર ડ્રાઇવર:}

\begin{center}
\begin{tikzpicture}[
    pin/.style={draw, rectangle, minimum width=2.5cm, minimum height=0.5cm, font=\tiny},
    ic/.style={draw, rectangle, minimum width=3cm, minimum height=5cm, fill=gray!10}
]
    \node [ic] (body) {};
    \node [anchor=north, font=\bfseries] at (body.north) {L293D};

    % Left pins
    \foreach \i/\label in {1/EN1, 2/IN1, 3/OUT1, 4/GND, 5/GND, 6/OUT2, 7/IN2, 8/VCC2} {
        \node [anchor=west, font=\tiny] at ([yshift=-0.5cm-\i*0.5cm]body.north west) {\i\ \label};
        \draw ([yshift=-0.5cm-\i*0.5cm]body.north west) -- +(-0.2,0);
    }
    
    % Right pins
    \foreach \i/\label in {16/VCC1, 15/IN4, 14/OUT4, 13/GND, 12/GND, 11/OUT3, 10/IN3, 9/EN2} {
        \pgfmathsetmacro{\ypos}{17-\i}
        \node [anchor=east, font=\tiny] at ([yshift=-0.5cm-\ypos*0.5cm]body.north east) {\label\ \i};
        \draw ([yshift=-0.5cm-\ypos*0.5cm]body.north east) -- +(0.2,0);
    }
\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \keyword{ફીચર્સ}: ડ્યુઅલ H-બ્રિજ, ચેનલ દીઠ 600mA.
    \item \keyword{ઓપરેશન}: ડાયરેક્શન અને સ્પીડ (PWM) કંટ્રોલ કરે છે.
    \item \keyword{સપ્લાય}: VCC1 લોજિક (5V), VCC2 મોટર (36V સુધી).
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Dual-channel H-bridge Input-control Enable-PWM}
\end{mnemonicbox}

\orquestionmarks{5(c)}{7}{ઓટોમેટિક જૂસ વેન્ડિંગ મશીન સમજાવો.}

\begin{solutionbox}
\textbf{ઓટોમેટિક જૂસ વેન્ડિંગ મશીન:}

\begin{answerdiagram}{Juice Vending Machine}
\begin{tikzpicture}[auto, node distance=2cm]
    \node [gtu block] (mcu) {ATmega32};
    \node [gtu block, left=of mcu] (keypad) {Keypad};
    \node [gtu block, above=of mcu] (lcd) {LCD Display};
    \node [gtu block, below=of mcu] (coin) {Coin\\Sensor};
    
    \node [gtu block, right=of mcu, yshift=1.5cm] (pump) {Pumps};
    \node [gtu block, right=of mcu, yshift=0cm] (valve) {Valves};
    \node [gtu block, right=of mcu, yshift=-1.5cm] (dispense) {Dispenser};
    
    \draw [gtu arrow] (keypad) -- (mcu);
    \draw [gtu arrow] (coin) -- (mcu);
    \draw [gtu arrow] (mcu) -- (lcd);
    \draw [gtu arrow] (mcu) -- (pump);
    \draw [gtu arrow] (mcu) -- (valve);
    \draw [gtu arrow] (pump) -- (dispense);
    \draw [gtu arrow] (valve) -- (dispense);
\end{tikzpicture}
\end{answerdiagram}

\textbf{ઓપરેશન:}
\begin{enumerate}
    \item \keyword{સિલેક્શન}: યુઝર કીપેડ વાયા જૂસ સિલેક્ટ કરે છે.
    \item \keyword{પેમેન્ટ}: કોઇન સેન્સર પેમેન્ટ વેલિડેટ કરે છે.
    \item \keyword{પ્રોસેસિંગ}: MCU મિક્સિંગ માટે પંપ્સ/વાલ્વ એક્ટિવેટ કરે છે.
    \item \keyword{ડિસ્પેન્સિંગ}: જૂસ ડિસ્પેન્સ થાય છે, LCD પર મેસેજ.
\end{enumerate}

\textbf{ફીચર્સ:} મલ્ટિપલ ફ્લેવર્સ, ઇન્વેન્ટરી મોનિટરિંગ, ઓટોમેટેડ ક્લીનિંગ.
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{Juice-selection User-interface Mixing-control Payment-system Sensors-monitoring}
\end{mnemonicbox}

\end{document}
