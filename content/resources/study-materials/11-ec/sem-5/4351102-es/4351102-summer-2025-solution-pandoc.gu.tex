\documentclass[10pt,a4paper]{article}
\input{../../../../../../latex-templates/gtu-solutions/preamble.tex}
\input{../../../../../../latex-templates/gtu-solutions/gujarati-boxes.tex}

\begin{document}

\begin{center}
{\Huge\bfseries\color{headcolor} Subject Name (Gujarati)}\\[5pt]
{\LARGE 4351102 -- Summer 2025}\\[3pt]
{\large Semester 1 Study Material}\\[3pt]
{\normalsize\textit{Detailed Solutions and Explanations}}
\end{center}

\vspace{10pt}

\subsection*{પ્રશ્ન 1(અ) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-1uxa85-3-uxaaeuxab0uxa95uxab8}

\textbf{ATmega32 ની લાક્ષણિકતાઓ જણાવો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
લાક્ષણિકતા & વર્ણન \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Flash Memory} & 32KB programmable memory \\
\textbf{SRAM} & 2KB internal SRAM \\
\textbf{EEPROM} & 1KB non-volatile data storage \\
\textbf{I/O Pins} & 32 programmable I/O lines \\
\textbf{Timers} & 3 flexible timer/counters \\
\textbf{ADC} & 10-bit 8-channel ADC \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Operating Voltage}: 2.7V થી 5.5V રેંજ
\item
  \textbf{Clock Speed}: 16 MHz સુધી ની ઓપરેશન
\item
  \textbf{Communication}: USART, SPI, I2C interfaces
\end{itemize}

\textbf{યાદી માટે}: ``Fast SRAM Enjoys Input Timers And Communication''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 1(બ) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-1uxaac-4-uxaaeuxab0uxa95uxab8}

\textbf{માઈક્રોકંટ્રોલર પસંદ કરવા માટેના માપદંડો લખો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
માપદંડો & વિચારણા \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Processing Speed} & Clock frequency આવશ્યકતાઓ \\
\textbf{Memory Size} & Program અને data storage જરૂરિયાત \\
\textbf{I/O Requirements} & જરૂરી pins ની સંખ્યા \\
\textbf{Power Consumption} & Battery life વિચારણાઓ \\
\textbf{Cost} & Budget મર્યાદાઓ \\
\textbf{Development Tools} & Compiler અને debugger ઉપલબ્ધતા \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Application Type}: Real-time vs general purpose
\item
  \textbf{Communication Needs}: Serial, parallel, wireless protocols
\item
  \textbf{Package Size}: Final product માં space constraints
\end{itemize}

\textbf{યાદી માટે}: ``Processing Memory I/O Power Cost Development
Application Communication Package''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 1(ક) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-1uxa95-7-uxaaeuxab0uxa95uxab8}

\textbf{એમ્બેડેડ સિસ્ટમનો સામાન્ય બ્લોક ડાયાગ્રામ દોરો અને સમજાવો.}

\begin{solutionbox}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[Input Devices] {-{-}{} B[Processor/Microcontroller]}
    B {-{-}{} C[Output Devices]}
    B {{-}{-}{} D[Memory]}
    B {{-}{-}{} E[Communication Interface]}
    F[Power Supply] {-{-}{} B}
    G[Clock/Timer] {-{-}{} B}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\textbf{બ્લોક કાર્યો}:

\begin{itemize}
\tightlist
\item
  \textbf{Processor}: Instructions execute કરતું central processing unit
\item
  \textbf{Memory}: Program code અને data temporary store કરે છે
\item
  \textbf{Input Devices}: Sensors, switches જે system input આપે છે
\item
  \textbf{Output Devices}: Actuators, displays જે results બતાવે છે
\item
  \textbf{Communication}: External device connectivity માટે interfaces
\item
  \textbf{Power Supply}: બધા components ને stable voltage પૂરું પાડે છે
\item
  \textbf{Clock/Timer}: System operations અને timing synchronize કરે છે
\end{itemize}

\textbf{યાદી માટે}: ``Processors Memory Input Output Communication Power
Clock''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 1(ક OR) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-1uxa95-or-7-uxaaeuxab0uxa95uxab8}

\textbf{રીયલ ટાઈમ ઓપરેટિંગ સિસ્ટમને વ્યાખ્યાયિત કરો અને તેની લાક્ષણિકતાઓ સમજાવો.}

\begin{solutionbox}

\textbf{Real Time Operating System (RTOS)}: કડક time constraints માં data
અને events process કરવા માટે design કરેલું operating system.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
લાક્ષણિકતા & વર્ણન \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Deterministic} & Predictable response times \\
\textbf{Preemptive} & Higher priority tasks interrupt lower ones \\
\textbf{Multitasking} & Multiple tasks concurrently run થાય છે \\
\textbf{Fast Context Switch} & Quick task switching capability \\
\textbf{Priority Scheduling} & Tasks priority પર આધારે execute થાય છે \\
\textbf{Interrupt Handling} & Efficient interrupt processing \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Hard Real-time}: Deadline miss થવાથી system failure થાય છે
\item
  \textbf{Soft Real-time}: Deadline miss થવાથી performance degraded થાય
  છે
\item
  \textbf{Time Constraints}: Operations deadline માં complete થવા જોઈએ
\end{itemize}

\textbf{યાદી માટે}: ``Deterministic Preemptive Multitasking Fast Priority
Interrupt''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 2(અ) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-2uxa85-3-uxaaeuxab0uxa95uxab8}

\textbf{ATmega32 નો પીન ડાયાગ્રામ દોરો.}

\begin{solutionbox}

\begin{verbatim}
      +{-{-}{-}U{-}{-}{-}+}
PB0   |1    40| PA0
PB1   |2    39| PA1  
PB2   |3    38| PA2
PB3   |4    37| PA3
PB4   |5    36| PA4
PB5   |6    35| PA5
PB6   |7    34| PA6
PB7   |8    33| PA7
RESET |9    32| AREF
VCC   |10   31| GND
GND   |11   30| AVCC
XTAL2 |12   29| PC7
XTAL1 |13   28| PC6
PD0   |14   27| PC5
PD1   |15   26| PC4
PD2   |16   25| PC3
PD3   |17   24| PC2
PD4   |18   23| PC1
PD5   |19   22| PC0
PD6   |20   21| PD7
      +{-{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{યાદી માટે}: ``Port B A Reset Vcc Ground Crystal Port D C''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 2(બ) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-2uxaac-4-uxaaeuxab0uxa95uxab8}

\textbf{ATmega32 નો સ્ટેટસ રજિસ્ટર સમજાવો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Bit & Name & Function \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Bit 7} & I & Global Interrupt Enable \\
\textbf{Bit 6} & T & Bit Copy Storage \\
\textbf{Bit 5} & H & Half Carry Flag \\
\textbf{Bit 4} & S & Sign Bit \\
\textbf{Bit 3} & V & Overflow Flag \\
\textbf{Bit 2} & N & Negative Flag \\
\textbf{Bit 1} & Z & Zero Flag \\
\textbf{Bit 0} & C & Carry Flag \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{Status Register (SREG)}: Arithmetic operation results contain
  કરે છે
\item
  \textbf{Flags Update}: ALU operations દ્વારા automatically set/clear
  થાય છે
\item
  \textbf{Conditional Branching}: Program flow control માટે વપરાય છે
\end{itemize}

\textbf{યાદી માટે}: ``I Think Half Sign Overflow Negative Zero Carry''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 2(ક) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-2uxa95-7-uxaaeuxab0uxa95uxab8}

\textbf{ATmega32 ની ડેટા મેમરી વિગતવાર સમજાવો.}

\begin{solutionbox}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[Data Memory Space] {-{-}{} B[General Purpose Registers R0{-}R31]}
    A {-{-}{} C[I/O Memory 0x20{-}0x5F]}
    A {-{-}{} D[Extended I/O 0x60{-}0xFF]}
    A {-{-}{} E[Internal SRAM 0x100{-}0x8FF]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\textbf{મેમરી સંગઠન}:

\begin{itemize}
\tightlist
\item
  \textbf{General Purpose Registers}: Data operations માટે 32 registers
  (R0-R31)
\item
  \textbf{I/O Memory}: Peripheral control registers નો direct access
\item
  \textbf{Extended I/O}: Additional peripheral registers અને stack
  pointer
\item
  \textbf{Internal SRAM}: Variables અને stack માટે 2KB volatile memory
\item
  \textbf{Address Space}: 0x00 થી 0x8FF સુધી linear addressing
\item
  \textbf{Stack Operation}: High memory addresses થી downward grows થાય
  છે
\end{itemize}

\textbf{યાદી માટે}: ``General I/O Extended SRAM Address Stack''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 2(અ OR) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-2uxa85-or-3-uxaaeuxab0uxa95uxab8}

\textbf{DDRx, PINx અને PORTx રજિસ્ટરના કાર્યો લખો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5000}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5000}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Register
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{DDRx} & Data Direction Register - pin ને input/output તરીકે
configure કરે છે \\
\textbf{PINx} & Pin Input Register - current pin state read કરે છે \\
\textbf{PORTx} & Port Output Register - output pins પર data write કરે
છે \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{DDRx Bit}: 1 = Output, 0 = Input configuration
\item
  \textbf{PINx Read}: Pins પર actual voltage level return કરે છે
\item
  \textbf{PORTx Write}: Pin output હોય ત્યારે output state control કરે છે
\end{itemize}

\textbf{યાદી માટે}: ``Direction Input Output''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 2(બ OR) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-2uxaac-or-4-uxaaeuxab0uxa95uxab8}

\textbf{AVR માં EEPROM સાથે સંકળાયેલા વિવિધ I/O રજિસ્ટરો સમજાવો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Register & Function \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{EEARH/EEARL} & EEPROM Address Register (9-bit address) \\
\textbf{EEDR} & EEPROM Data Register \\
\textbf{EECR} & EEPROM Control Register \\
\end{longtable}
}

\textbf{EECR Control Bits}:

\begin{itemize}
\tightlist
\item
  \textbf{EERIE}: EEPROM Ready Interrupt Enable
\item
  \textbf{EEMWE}: EEPROM Master Write Enable\\
\item
  \textbf{EEWE}: EEPROM Write Enable
\item
  \textbf{EERE}: EEPROM Read Enable
\end{itemize}

\textbf{Programming Sequence}: Address set કરો \rightarrow Data set કરો \rightarrow Master
write enable કરો \rightarrow Write enable કરો

\textbf{યાદી માટે}: ``Address Data Control Ready Master Write Read''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 2(ક OR) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-2uxa95-or-7-uxaaeuxab0uxa95uxab8}

\textbf{ક્લોક સોર્સને AVR સાથે જોડવાની વિવિધ રીતો સમજાવો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Clock Source & વર્ણન \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{External Crystal} & High precision, 1-16MHz \\
\textbf{External RC} & Low cost, moderate precision \\
\textbf{Internal RC} & Built-in 1/8MHz, કોઈ external components નહીં \\
\textbf{External Clock} & External clock signal input \\
\end{longtable}
}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[Crystal Oscillator] {-{-}{} D[AVR Microcontroller]}
    B[RC Oscillator] {-{-}{} D}
    C[Internal RC] {-{-}{} D}
    E[External Clock] {-{-}{} D}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\textbf{Clock Configuration}:

\begin{itemize}
\tightlist
\item
  \textbf{Fuse Bits}: CKSEL3:0 અને SUT1:0 clock source select કરે છે
\item
  \textbf{Startup Time}: Different sources માં અલગ અલગ startup delays હોય
  છે
\item
  \textbf{Frequency Range}: Internal RC 1MHz અથવા 8MHz provide કરે છે
\item
  \textbf{External Components}: Crystal ને stability માટે capacitors જોઈએ
  છે
\end{itemize}

\textbf{યાદી માટે}: ``Crystal RC Internal External Fuse Startup Frequency
Components''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 3(અ) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-3uxa85-3-uxaaeuxab0uxa95uxab8}

\textbf{Timer 1 સાથે સંકળાયેલા રજિસ્ટરોનું કાર્ય લખો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Register & Function \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{TCNT1H/TCNT1L} & Timer/Counter 1 register (16-bit) \\
\textbf{TCCR1A/TCCR1B} & Timer/Counter 1 Control registers \\
\textbf{ICR1H/ICR1L} & Input Capture register \\
\textbf{OCR1AH/OCR1AL} & Output Compare A register \\
\textbf{OCR1BH/OCR1BL} & Output Compare B register \\
\end{longtable}
}

\begin{itemize}
\tightlist
\item
  \textbf{TIMSK}: Timer Interrupt Mask register
\item
  \textbf{TIFR}: Timer Interrupt Flag register
\end{itemize}

\textbf{યાદી માટે}: ``Timer Control Input Output Mask Flag''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 3(બ) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-3uxaac-4-uxaaeuxab0uxa95uxab8}

\textbf{Timer 0 ને સામાન્ય મોડમાં પ્રોગ્રામ કરવાના મુદ્દાઓ લખો.}

\begin{solutionbox}

\textbf{Programming Steps}:

\begin{enumerate}
\tightlist
\item
  \textbf{Timer Mode Set કરો}: Normal mode માટે TCCR0 configure કરો
\item
  \textbf{Prescaler Select કરો}: Clock division ratio choose કરો
\item
  \textbf{Initial Value Load કરો}: TCNT0 register set કરો
\item
  \textbf{Interrupts Enable કરો}: જરૂર હોય તો TIMSK માં TOIE0 set કરો
\item
  \textbf{Timer Start કરો}: TCCR0 માં prescaler bits set કરો
\end{enumerate}

\begin{verbatim}
TCCR0 = 0x05;    // Normal mode, prescaler 1024
TCNT0 = 0x00;    // Initial value
TIMSK |= 0x01;   // Enable overflow interrupt
\end{verbatim}

\textbf{યાદી માટે}: ``Set Select Load Enable Start''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 3(ક) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-3uxa95-7-uxaaeuxab0uxa95uxab8}

\textbf{ડેટા બાઈટોને સીરીયલી રીસીવ કરાવવા અને તેમને PORTA પર મૂકવા માટેનો C
પ્રોગ્રામ લખો. બાઉડ રેટ 9600, 8-બીટ, અને 1-બીટ સેટ કરો.}

\begin{solutionbox}

\begin{verbatim}
\#include {avr/io.h}

void USART\_Init() \{
    // Baud rate 9600 set કરો (8MHz clock માટે)
    UBRRH = 0x00;
    UBRRL = 51;
    
    // Receiver enable કરો
    UCSRB = (1{}RXEN);
    
    // Frame format set કરો: 8 data bits, 1 stop bit
    UCSRC = (1{}URSEL)|(3{}UCSZ0);
\}

unsigned char USART\_Receive() \{
    // Data receive થવા માટે wait કરો
    while(!(UCSRA \& (1{}RXC)));
    return UDR;
\}

int main() \{
    DDRA = 0xFF;        // PORTA output તરીકે
    USART\_Init();       // USART initialize કરો
    
    while(1) \{
        PORTA = USART\_Receive();  // Receive કરો અને display કરો
    \}
    return 0;
\}
\end{verbatim}

\textbf{યાદી માટે}: ``Initialize Receive Display Loop''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 3(અ OR) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-3uxa85-or-3-uxaaeuxab0uxa95uxab8}

\textbf{AVR માં સીરીયલ કોમ્યુનિકેશન સાથે સંકળાયેલા રજિસ્ટરોના કાર્યો લખો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Register & Function \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{UDR} & USART Data Register \\
\textbf{UCSRA} & USART Control and Status Register A \\
\textbf{UCSRB} & USART Control and Status Register B \\
\textbf{UCSRC} & USART Control and Status Register C \\
\textbf{UBRRH/UBRRL} & USART Baud Rate Registers \\
\end{longtable}
}

\textbf{મુખ્ય કાર્યો}: Data transmission/reception, status monitoring,
control configuration

\textbf{યાદી માટે}: ``Data Control Status Baud''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 3(બ OR) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-3uxaac-or-4-uxaaeuxab0uxa95uxab8}

\textbf{ડેટા સીરીયલી ટ્રાન્સફર કરવા માટે AVR ને પ્રોગ્રામ કરવાના મુદ્દાઓની ચર્ચા
કરો.}

\begin{solutionbox}

\textbf{Programming Steps}:

\begin{enumerate}
\tightlist
\item
  \textbf{Baud Rate Set કરો}: UBRRH/UBRRL registers configure કરો
\item
  \textbf{Transmitter Enable કરો}: UCSRB માં TXEN bit set કરો
\item
  \textbf{Frame Format Set કરો}: UCSRC માં data bits, stop bits configure
  કરો
\item
  \textbf{Empty Buffer માટે Wait કરો}: UCSRA માં UDRE flag check કરો
\item
  \textbf{Data Load કરો}: UDR register માં data write કરો
\end{enumerate}

\begin{verbatim}
void USART\_Transmit(unsigned char data) \{
    while(!(UCSRA \& (1{}UDRE)));  // Empty buffer માટે wait કરો
    UDR = data;                   // Data send કરો
\}
\end{verbatim}

\textbf{યાદી માટે}: ``Baud Enable Format Wait Load''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 3(ક OR) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-3uxa95-or-7-uxaaeuxab0uxa95uxab8}

\textbf{દર 2 મિલિસેકન્ડે માત્ર PORTB.4 બીટને સતત ટોગલ કરવા માટેનો C પ્રોગ્રામ
લખો. Delay જનરેટ કરવા timer 1ને પ્રીસ્કેલર વગર નોર્મલ મોડમાં ઉપયોગ કરો.
XTAL=8MHz ધારો.}

\begin{solutionbox}

\begin{verbatim}
\#include {avr/io.h}
\#include {avr/interrupt.h}

volatile unsigned int timer\_count = 0;

ISR(TIMER1\_OVF\_vect) \{
    timer\_count++;
    if(timer\_count {=} 1) \{  // લગભગ 2ms
        PORTB \^{=} (1{}4);    // PORTB.4 toggle કરો
        timer\_count = 0;
        TCNT1 = 49911;      // 2ms delay માટે reload કરો
    \}
\}

int main() \{
    DDRB |= (1{}4);         // PORTB.4 output તરીકે
    
    // Timer1 Normal mode, no prescaler
    TCCR1A = 0x00;
    TCCR1B = 0x01;          // No prescaler
    
    TCNT1 = 49911;          // 2ms માટે initial value
    TIMSK |= (1{}TOIE1);    // Timer1 overflow interrupt enable કરો
    
    sei();                  // Global interrupts enable કરો
    
    while(1) \{
        // Main loop
    \}
    return 0;
\}
\end{verbatim}

\textbf{ગણતરી}: 8MHz clock સાથે 2ms delay માટે: 8MHz \times 2ms = 16000 cycles
Timer1 counts: 65536 - 16000 = 49536 (adjustment માટે લગભગ 49911)

\textbf{યાદી માટે}: ``Configure Timer Calculate Enable Loop''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 4(અ) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-4uxa85-3-uxaaeuxab0uxa95uxab8}

\textbf{ULN2803 નો ATmega32 સાથે ઇન્ટરફેસિંગ ડાયાગ્રામ દોરો.}

\begin{solutionbox}

\begin{verbatim}
ATmega32          ULN2803          Load
+{-{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}+}
|   PB0   |{-{-}{-}{-}{-}|   1    |{-}{-}{-}{-}{-}| Relay|}
|   PB1   |{-{-}{-}{-}{-}|   2    |{-}{-}{-}{-}{-}| LED  |}
|   PB2   |{-{-}{-}{-}{-}|   3    |{-}{-}{-}{-}{-}| Motor|}
|   PB3   |{-{-}{-}{-}{-}|   4    |      +{-}{-}{-}{-}{-}{-}+}
|   PB4   |{-{-}{-}{-}{-}|   5    |         |}
|   PB5   |{-{-}{-}{-}{-}|   6    |         |}
|   PB6   |{-{-}{-}{-}{-}|   7    |         |}
|   PB7   |{-{-}{-}{-}{-}|   8    |         |}
|         |      |   9    |{{-}{-}{-}{-}{-}{-}{-}{-}+  +12V}
|   GND   |{-{-}{-}{-}{-}|  10    |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{કનેક્શન વિગતો}:

\begin{itemize}
\tightlist
\item
  \textbf{Input}: ATmega32 PORTB pins થી ULN2803 inputs
\item
  \textbf{Output}: ULN2803 outputs high current loads drive કરે છે
\item
  \textbf{Common}: Pin 9 positive supply સાથે, Pin 10 ground સાથે connects
  થાય છે
\end{itemize}

\textbf{યાદી માટે}: ``Input Output Common Supply Ground''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 4(બ) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-4uxaac-4-uxaaeuxab0uxa95uxab8}

\textbf{Port B પરથી ડેટા બાઈટ લેવો અને તેને Port C પર મોકલવા AVR માટેનો C
પ્રોગ્રામ લખો.}

\begin{solutionbox}

\begin{verbatim}
\#include {avr/io.h}

int main() \{
    DDRB = 0x00;    // PORTB input તરીકે
    DDRC = 0xFF;    // PORTC output તરીકે
    PORTB = 0xFF;   // PORTB પર pull{-up resistors enable કરો}
    
    unsigned char data;
    
    while(1) \{
        data = PINB;     // PORTB થી data read કરો
        PORTC = data;    // PORTC પર data send કરો
    \}
    
    return 0;
\}
\end{verbatim}

\textbf{પ્રોગ્રામ Flow}:

\begin{itemize}
\tightlist
\item
  \textbf{Ports Configure કરો}: Direction registers set કરો
\item
  \textbf{Pull-ups Enable કરો}: Internal pull-up resistors activate કરો
\item
  \textbf{Data Read કરો}: PINB register થી byte get કરો
\item
  \textbf{Data Write કરો}: PORTC register પર byte output કરો
\end{itemize}

\textbf{યાદી માટે}: ``Configure Enable Read Write''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 4(ક) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-4uxa95-7-uxaaeuxab0uxa95uxab8}

\textbf{MAX7221 નો ATmega32 સાથે ઇન્ટરફેસિંગ ડાયાગ્રામ દોરો અને સમજાવો.}

\begin{solutionbox}

\begin{verbatim}
ATmega32              MAX7221           7{-Segment Display}
+{-{-}{-}{-}{-}{-}{-}{-}{-}+          +{-}{-}{-}{-}{-}{-}{-}{-}{-}+        +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|   PB5   |{-{-}{-}{-}{-}{-}{-}{-}{-}|   DIN   |        |     a       |}
|   PB7   |{-{-}{-}{-}{-}{-}{-}{-}{-}|   CLK   |        |   f   b     |}
|   PB4   |{-{-}{-}{-}{-}{-}{-}{-}{-}|   LOAD  |        |     g       |}
|   VCC   |{-{-}{-}{-}{-}{-}{-}{-}{-}|   VCC   |        |   e   c     |}
|   GND   |{-{-}{-}{-}{-}{-}{-}{-}{-}|   GND   |        |     d   dp  |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}+          |  DIG0{-}7 |{-}{-}{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
                     | SEG A{-G |}
                     |   DP    |
                     +{-{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Interface વર્ણન}:

\begin{itemize}
\tightlist
\item
  \textbf{SPI Communication}: 3-wire SPI protocol વાપરે છે
\item
  \textbf{DIN (Data In)}: PB5 (MOSI) થી serial data input
\item
  \textbf{CLK (Clock)}: PB7 (SCK) થી clock signal
\item
  \textbf{LOAD (Chip Select)}: PB4 (SS) થી latch signal
\item
  \textbf{Multiplexed Display}: 8 seven-segment digits સુધી control કરે છે
\item
  \textbf{Current Control}: LEDs માટે internal current limiting
\end{itemize}

\textbf{Programming Steps}: SPI initialize કરો \rightarrow Address send કરો \rightarrow Data
send કરો \rightarrow LOAD pin toggle કરો

\textbf{યાદી માટે}: ``SPI Data Clock Load Multiplex Current Program''

\end{solutionbox}
\subsection*{પ્રશ્ન 4(અ OR) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-4uxa85-or-3-uxaaeuxab0uxa95uxab8}

\textbf{LM35 નો ATmega32 સાથે ઇન્ટરફેસિંગ ડાયાગ્રામ દોરો.}

\begin{solutionbox}

\begin{verbatim}
LM35 Temperature Sensor    ATmega32
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|        VCC        |{-{-}{-}{-}|    VCC    |}
|                   |     |           |
|       OUT         |{-{-}{-}{-}|   PA0     | (ADC0)}
|                   |     |           |
|       GND         |{-{-}{-}{-}|   GND     |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{કનેક્શન વિગતો}:

\begin{itemize}
\tightlist
\item
  \textbf{VCC}: +5V supply સાથે connect કરો
\item
  \textbf{OUT}: ADC channel (PA0) પર analog output
\item
  \textbf{GND}: Ground સાથે connect કરો
\item
  \textbf{Output}: 10mV/^\circC linear voltage output
\end{itemize}

\textbf{યાદી માટે}: ``VCC OUT GND Linear''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 4(બ OR) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-4uxaac-or-4-uxaaeuxab0uxa95uxab8}

\textbf{Port C ના બીટ-5 ને મોનીટર કરો, જો તે HIGH હોય તો 55H ને Port B પર
મોકલો નહીં તો AAH ને Port B પર મોકલવા AVR માટેનો C પ્રોગ્રામ લખો.}

\begin{solutionbox}

\begin{verbatim}
\#include {avr/io.h}

int main() \{
    DDRC \&= {(}1{}5);    // PC5 input તરીકે
    DDRB = 0xFF;        // PORTB output તરીકે
    PORTC |= (1{}5);    // PC5 પર pull{-up enable કરો}
    
    while(1) \{
        if(PINC \& (1{}5)) \{     // Bit 5 HIGH છે કે નહીં check કરો
            PORTB = 0x55;       // PORTB પર 55H send કરો
        \}
        else \{
            PORTB = 0xAA;       // PORTB પર AAH send કરો
        \}
    \}
    
    return 0;
\}
\end{verbatim}

\textbf{પ્રોગ્રામ Logic}:

\begin{itemize}
\tightlist
\item
  \textbf{Bit Monitor}: Bit masking વાપરીને PC5 status check કરો
\item
  \textbf{Conditional Output}: Input આધારે અલગ અલગ values send કરો
\item
  \textbf{Continuous Loop}: Changes માટે continuously monitor કરો
\end{itemize}

\textbf{યાદી માટે}: ``Monitor Conditional Output Loop''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 4(ક OR) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-4uxa95-or-7-uxaaeuxab0uxa95uxab8}

\textbf{AVR માં SPI ને પ્રોગ્રામ કરવા માટેના રજિસ્ટરોની ચર્ચા કરો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Register & Function \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{SPCR} & SPI Control Register \\
\textbf{SPSR} & SPI Status Register \\
\textbf{SPDR} & SPI Data Register \\
\end{longtable}
}

\textbf{SPCR Control Bits}:

\begin{itemize}
\tightlist
\item
  \textbf{SPIE}: SPI Interrupt Enable
\item
  \textbf{SPE}: SPI Enable
\item
  \textbf{DORD}: Data Order (MSB/LSB first)
\item
  \textbf{MSTR}: Master/Slave Select
\item
  \textbf{CPOL}: Clock Polarity
\item
  \textbf{CPHA}: Clock Phase
\item
  \textbf{SPR1:0}: SPI Clock Rate Select
\end{itemize}

\textbf{SPSR Status Bits}:

\begin{itemize}
\tightlist
\item
  \textbf{SPIF}: SPI Interrupt Flag
\item
  \textbf{WCOL}: Write Collision Flag
\item
  \textbf{SPI2X}: Double SPI Speed
\end{itemize}

\textbf{Programming Sequence}: SPCR configure કરો \rightarrow SPI enable કરો \rightarrow
SPDR write કરો \rightarrow SPIF માટે wait કરો \rightarrow SPDR read કરો

\textbf{યાદી માટે}: ``Control Status Data Configure Enable Write Wait
Read''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 5(અ) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-5uxa85-3-uxaaeuxab0uxa95uxab8}

\textbf{મોટર ડ્રાઇવર આઈસી L293D નો પીન ડાયાગ્રામ દોરો.}

\begin{solutionbox}

\begin{verbatim}
    L293D
   +{-{-}U{-}{-}+}
EN1|1  16|VCC
1A |2  15|4A
1Y |3  14|4Y
GND|4  13|GND
GND|5  12|GND
2Y |6  11|3Y
2A |7  10|3A
VCC|8   9|EN2
   +{-{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Pin કાર્યો}:

\begin{itemize}
\tightlist
\item
  \textbf{EN1, EN2}: Motor control માટે enable pins
\item
  \textbf{1A, 2A, 3A, 4A}: Microcontroller થી input pins
\item
  \textbf{1Y, 2Y, 3Y, 4Y}: Motors પર output pins
\item
  \textbf{VCC}: Logic અને motor supply voltages
\item
  \textbf{GND}: Ground connections
\end{itemize}

\textbf{યાદી માટે}: ``Enable Input Output Supply Ground''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 5(બ) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-5uxaac-4-uxaaeuxab0uxa95uxab8}

\textbf{ADMUX રજિસ્ટર દોરો અને સમજાવો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
Bit 7 & Bit 6 & Bit 5 & Bit 4 & Bit 3 & Bit 2 & Bit 1 & Bit 0 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
REFS1 & REFS0 & ADLAR & MUX4 & MUX3 & MUX2 & MUX1 & MUX0 \\
\end{longtable}
}

\textbf{Bit કાર્યો}:

\begin{itemize}
\tightlist
\item
  \textbf{REFS1:0}: Reference Selection (00=AREF, 01=AVCC, 11=Internal
  2.56V)
\item
  \textbf{ADLAR}: ADC Left Adjust Result (data format)
\item
  \textbf{MUX4:0}: Analog Channel Selection (32 possible channels)
\end{itemize}

\textbf{Channel Selection ઉદાહરણો}:

\begin{itemize}
\tightlist
\item
  \textbf{00000}: ADC0 (PA0)
\item
  \textbf{00001}: ADC1 (PA1)
\item
  \textbf{00111}: ADC7 (PA7)
\end{itemize}

\textbf{યાદી માટે}: ``Reference Adjust Multiplex Channel''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 5(ક) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-5uxa95-7-uxaaeuxab0uxa95uxab8}

\textbf{GSM આધારિત સિક્યુરિટિ સિસ્ટમનો બ્લોક ડાયાગ્રામ સમજાવો.}

\begin{solutionbox}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph LR
    A[Sensors] {-{-}{} B[Microcontroller]}
    B {-{-}{} C[GSM Module]}
    C {-{-}{} D[Mobile Network]}
    D {-{-}{} E[User Mobile]}
    B {-{-}{} F[Alarm System]}
    B {-{-}{} G[Display Unit]}
    H[Power Supply] {-{-}{} B}
    H {-{-}{} C}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\textbf{સિસ્ટમ ઘટકો}:

\begin{itemize}
\tightlist
\item
  \textbf{Sensors}: PIR, door/window sensors intrusion detect કરે છે
\item
  \textbf{Microcontroller}: Sensor data process કરે છે અને system control
  કરે છે
\item
  \textbf{GSM Module}: Registered numbers પર SMS/calls send કરે છે
\item
  \textbf{Mobile Network}: Cellular infrastructure સાથે connects કરે છે
\item
  \textbf{Alarm System}: Local audio/visual alerts
\item
  \textbf{Display Unit}: System status અને messages show કરે છે
\item
  \textbf{Power Supply}: Continuous operation માટે battery backup
\item
  \textbf{Operation Flow}: Sensor detects \rightarrow Microcontroller processes \rightarrow
  GSM sends alert \rightarrow User receives notification \rightarrow Alarm activates
\end{itemize}

\textbf{યાદી માટે}: ``Sensors Microcontroller GSM Mobile Alarm Display
Power Operation''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 5(અ OR) [3
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-5uxa85-or-3-uxaaeuxab0uxa95uxab8}

\textbf{મોટર ડ્રાઇવર L293D નો ઉપયોગ કરી ડી.સી. મોટરને ATmega32 સાથે ઇન્ટરફેસ
કરવાનો સર્કિટ ડાયાગ્રામ દોરો.}

\begin{solutionbox}

\begin{verbatim}
ATmega32      L293D        DC Motor
+{-{-}{-}{-}{-}{-}{-}{-}{-}+  +{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}+}
|   PB0   |{-|EN1   |     |   M   |}
|   PB1   |{-|1A    |     |   O   |}
|   PB2   |{-|2A  1Y|{-}{-}{-}{-}|   T   |}
|         |  |    2Y|{-{-}{-}{-}|   O   |}
|   VCC   |{-|VCC   |     |   R   |}
|   GND   |{-|GND   |     +{-}{-}{-}{-}{-}{-}{-}+}
+{-{-}{-}{-}{-}{-}{-}{-}{-}+  +{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{કનેક્શન્સ}:

\begin{itemize}
\tightlist
\item
  \textbf{PB0 \rightarrow EN1}: Motor operation enable કરે છે
\item
  \textbf{PB1 \rightarrow 1A, PB2 \rightarrow 2A}: Direction control inputs
\item
  \textbf{1Y, 2Y \rightarrow Motor}: Motor terminals પર output
\item
  \textbf{VCC, GND}: Power supply connections
\end{itemize}

\textbf{Motor Control}: 1A, 2A પર અલગ અલગ input combinations motor
direction અને speed control કરે છે

\textbf{યાદી માટે}: ``Enable Direction Output Power Control''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 5(બ OR) [4
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-5uxaac-or-4-uxaaeuxab0uxa95uxab8}

\textbf{ADCSRA રજિસ્ટર દોરો અને સમજાવો.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
Bit 7 & Bit 6 & Bit 5 & Bit 4 & Bit 3 & Bit 2 & Bit 1 & Bit 0 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
ADEN & ADSC & ADATE & ADIF & ADIE & ADPS2 & ADPS1 & ADPS0 \\
\end{longtable}
}

\textbf{Bit કાર્યો}:

\begin{itemize}
\tightlist
\item
  \textbf{ADEN}: ADC Enable
\item
  \textbf{ADSC}: ADC Start Conversion
\item
  \textbf{ADATE}: ADC Auto Trigger Enable
\item
  \textbf{ADIF}: ADC Interrupt Flag
\item
  \textbf{ADIE}: ADC Interrupt Enable
\item
  \textbf{ADPS2:0}: ADC Prescaler Select (division factor)
\end{itemize}

\textbf{Prescaler Settings}: 000=2, 001=2, 010=4, 011=8, 100=16, 101=32,
110=64, 111=128

\textbf{Programming}: ADEN set કરો \rightarrow Prescaler configure કરો \rightarrow ADSC set
કરો \rightarrow ADIF માટે wait કરો

\textbf{યાદી માટે}: ``Enable Start Auto Interrupt Prescaler Configure''

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{પ્રશ્ન 5(ક OR) [7
માર્ક્સ]}\label{uxaaauxab0uxab6uxaa8-5uxa95-or-7-uxaaeuxab0uxa95uxab8}

\textbf{વેધર મોનીટરીંગ સિસ્ટમનો બ્લોક ડાયાગ્રામ સમજાવો.}

\begin{solutionbox}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[Temperature Sensor] {-{-}{} E[Microcontroller]}
    B[Humidity Sensor] {-{-}{} E}
    C[Pressure Sensor] {-{-}{} E}
    D[Rain Sensor] {-{-}{} E}
    E {-{-}{} F[LCD Display]}
    E {-{-}{} G[Data Logger]}
    E {-{-}{} H[Wireless Module]}
    H {-{-}{} I[Remote Monitoring]}
    J[Power Supply] {-{-}{} E}
    E {-{-}{} K[Alarm System]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\textbf{સિસ્ટમ ઘટકો}:

\begin{itemize}
\tightlist
\item
  \textbf{Temperature Sensor}: Ambient temperature measure કરે છે
  (LM35/DS18B20)
\item
  \textbf{Humidity Sensor}: Moisture content monitor કરે છે (DHT22)
\item
  \textbf{Pressure Sensor}: Atmospheric pressure changes detect કરે છે
\item
  \textbf{Rain Sensor}: Precipitation levels detect કરે છે
\item
  \textbf{Microcontroller}: Data collection માટે central processing unit
\item
  \textbf{LCD Display}: Local visual data presentation
\item
  \textbf{Data Logger}: Historical weather data store કરે છે
\item
  \textbf{Wireless Module}: Remote locations પર data transmit કરે છે
\item
  \textbf{Alarm System}: Extreme weather conditions માટે alerts
\item
  \textbf{Power Supply}: System ને stable power પૂરું પાડે છે
\end{itemize}

\textbf{ઓપરેશન}: Sensors data collect કરે છે \rightarrow Microcontroller processes કરે
છે \rightarrow Display updates થાય છે \rightarrow Data logging થાય છે \rightarrow Wireless transmission
થાય છે \rightarrow Alert generation થાય છે

\textbf{યાદી માટે}: ``Temperature Humidity Pressure Rain Microcontroller
Display Logger Wireless Alarm Operation''

\end{solutionbox}

\end{document}
