% Tags: 4321103, working, ups
    \begin{tikzpicture}[node distance=2.5cm, auto,
        block/.style={rectangle, draw, text width=2cm, text centered, minimum height=2em},
        line/.style={draw, -latex', thick}]
        
        \node (ac) {AC Mains};
        \node [block, right=of ac] (rect) {Rectifier / Charger};
        \node [block, right=of rect] (batt) {Battery};
        \node [block, right=of batt] (inv) {Inverter};
        \node [right=of inv] (load) {AC Output};
        
        \node [block, above=of batt, text width=4cm] (switch) {Transfer Switch / Bypass};
        
        \path [line] (ac) -- (rect);
        \path [line] (rect) -- (batt);
        \path [line] (batt) -- (inv);
        \path [line] (inv) -- (load);
        
        \draw [line, dashed] (ac) |- (switch);
        \draw [line, dashed] (switch) -| (load);
        
    \end{tikzpicture}
