\documentclass{article}
\input{/Users/milav/Code/milav-next/latex-templates/gtu-solutions/preamble.tex}
\input{/Users/milav/Code/milav-next/latex-templates/gtu-solutions/gujarati-boxes.tex}
\input{/Users/milav/Code/milav-next/latex-templates/gtu-solutions/commands.tex}
\usetikzlibrary{matrix}

\title{માઇક્રોપ્રોસેસર અને માઇક્રોકન્ટ્રોલર (4341101) - સમર 2023 સોલ્યુશન}
\date{15 જૂન 2023}

\begin{document}
\maketitle

\questionmarks{1}{a}{3}
\textbf{માઇક્રોપ્રોસેસર અને માઇક્રોકન્ટ્રોલરની સરખામણી કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{માઇક્રોપ્રોસેસર વિરુદ્ધ માઇક્રોકન્ટ્રોલર}
\begin{tabular}{|l|p{5cm}|p{5cm}|}
\hline
\textbf{ફીચર} & \textbf{માઇક્રોપ્રોસેસર} & \textbf{માઇક્રોકન્ટ્રોલર} \\ \hline
વ્યાખ્યા & એકલ ચિપ પર CPU & એકલ ચિપ પર સંપૂર્ણ કમ્પ્યુટર \\ \hline
મેમરી & બાહ્ય RAM/ROM જરૂરી & અંદર જ RAM/ROM \\ \hline
ઉપયોગો & સામાન્ય કમ્પ્યુટિંગ, PC & એમ્બેડેડ સિસ્ટમ, IoT \\ \hline
ઉદાહરણો & Intel 8085, 8086 & 8051, Arduino, PIC \\ \hline
કિંમત & વધારે & ઓછી \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``પ્રોસેસર રામ માંગે, કન્ટ્રોલર રામ રાખે'' (પ્રોસેસરને બહારથી રામ જોઈએ, કંટ્રોલરમાં રામ અંદર જ હોય છે)
\end{mnemonicbox}

\questionmarks{1}{b}{4}
\textbf{RISC અને CISC ની સરખામણી કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{RISC વિરુદ્ધ CISC}
\begin{tabular}{|l|p{6cm}|p{6cm}|}
\hline
\textbf{ફીચર} & \textbf{RISC (રિડ્યુસ્ડ ઇન્સ્ટ્રક્શન સેટ કમ્પ્યુટર)} & \textbf{CISC (કોમ્પ્લેક્સ ઇન્સ્ટ્રક્શન સેટ કમ્પ્યુટર)} \\ \hline
ઇન્સ્ટ્રક્શન & થોડી, સરળ ઇન્સ્ટ્રક્શન & ઘણી, જટિલ ઇન્સ્ટ્રક્શન \\ \hline
એક્ઝિક્યુશન ટાઈમ & ફિક્સ્ડ (1 ક્લોક સાયકલ) & વેરિએબલ (ઘણી સાયકલ) \\ \hline
મેમરી એક્સેસ & માત્ર લોડ/સ્ટોર દ્વારા & ઘણા મેમરી એક્સેસ મોડ \\ \hline
પાઇપલાઇનિંગ & સરળ અમલીકરણ & મુશ્કેલ અમલીકરણ \\ \hline
ઉદાહરણો & ARM, MIPS & Intel x86, 8085 \\ \hline
હાર્ડવેર & સરળ, ઓછા ટ્રાન્ઝિસ્ટર & જટિલ, વધુ ટ્રાન્ઝિસ્ટર \\ \hline
રજિસ્ટર સેટ & વધુ રજિસ્ટર & ઓછા રજિસ્ટર \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``RISC ઝડપી, CISC બહોળું'' (RISC ઝડપી હોય છે, CISC માં ઘણી ઇન્સ્ટ્રક્શન હોય છે)
\end{mnemonicbox}

\questionmarks{1}{c}{7}
\textbf{વ્યાખ્યાયિત કરો: માઇક્રોપ્રોસેસર, ઓપરેન્ડ, ઈન્સ્ટ્રક્શન સાયકલ, ઓપકોડ, ALU, મશીન સાયકલ, ટી-સ્ટેટ}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{વ્યાખ્યાઓ}
\begin{tabular}{|l|p{10cm}|}
\hline
\textbf{શબ્દ} & \textbf{વ્યાખ્યા} \\ \hline
\textbf{માઇક્રોપ્રોસેસર} & એક ઇન્ટિગ્રેટેડ સર્કિટ પર CPU જે ઇન્સ્ટ્રક્શન પ્રોસેસ કરે છે \\ \hline
\textbf{ઓપરેન્ડ} & ઇન્સ્ટ્રક્શનમાં વપરાતી ડેટા વેલ્યુ \\ \hline
\textbf{ઈન્સ્ટ્રક્શન સાયકલ} & ઇન્સ્ટ્રક્શન ફેચ, ડિકોડ અને એક્ઝિક્યુટની સંપૂર્ણ પ્રક્રિયા \\ \hline
\textbf{ઓપકોડ} & ઓપરેશન કોડ જે CPU ને કહે છે કે કયું ઓપરેશન કરવાનું છે \\ \hline
\textbf{ALU} & અર્થમેટિક લોજિક યુનિટ જે ગણિત ઓપરેશન કરે છે \\ \hline
\textbf{મશીન સાયકલ} & મૂળભૂત ઓપરેશન જેમ કે મેમરી રીડ/રાઈટ (ઇન્સ્ટ્રક્શન સાયકલનો ભાગ) \\ \hline
\textbf{ટી-સ્ટેટ} & ટાઈમ સ્ટેટ - પ્રોસેસરમાં સમયનો સૌથી નાનો એકમ (ક્લોક પીરિયડ) \\ \hline
\end{tabular}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, auto]
    \node [gtu block] (fetch) {FETCH\\ઇન્સ્ટ્રક્શન મેળવો\\મેમરીમાંથી};
    \node [gtu block, right of=fetch] (decode) {DECODE\\ઓપકોડ સમજો\\ઓપરેન્ડ ઓળખો};
    \node [gtu block, right of=decode] (execute) {EXECUTE\\ઓપરેશન કરો\\પરિણામ સંગ્રહો};
    
    \draw [gtu arrow] (fetch) -- (decode);
    \draw [gtu arrow] (decode) -- (execute);
    \draw [gtu arrow] (execute) -- ++(0,-1.5) -| (fetch);
    
    \node [below of=decode, node distance=1.8cm] {ઇન્સ્ટ્રક્શન સાયકલ};
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``મારો ઓલ્ડ Intel ચિપ ઓનલી મેક્સ ટ્રબલ'' (માઇક્રોપ્રોસેસર, ઓપરેન્ડ, ઇન્સ્ટ્રક્શન, ઓપકોડ, ALU, મશીન, ટી-સ્ટેટ)
\end{mnemonicbox}

\orquestionmarks{1}{c}{7}
\textbf{વોન-ન્યુમેન અને હાર્વર્ડ આર્કિટેક્ચરની તુલના કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{વોન-ન્યુમેન વિરુદ્ધ હાર્વર્ડ આર્કિટેક્ચર}
\begin{tabular}{|l|p{6cm}|p{6cm}|}
\hline
\textbf{ફીચર} & \textbf{વોન-ન્યુમેન આર્કિટેક્ચર} & \textbf{હાર્વર્ડ આર્કિટેક્ચર} \\ \hline
મેમરી બસ & ઇન્સ્ટ્રક્શન અને ડેટા માટે એક જ મેમરી બસ & પ્રોગ્રામ અને ડેટા મેમરી માટે અલગ બસ \\ \hline
એક્ઝિક્યુશન & સિક્વેન્શિયલ એક્ઝિક્યુશન & પેરેલલ ફેચ અને એક્ઝિક્યુટ શક્ય \\ \hline
સ્પીડ & બસ બોટલનેક ને કારણે ધીમું & સમાંતર એક્સેસને કારણે ઝડપી \\ \hline
જટિલતા & સરળ ડિઝાઇન & વધુ જટિલ ડિઝાઇન \\ \hline
ઉપયોગો & સામાન્ય કમ્પ્યુટિંગ & DSP, માઇક્રોકન્ટ્રોલર, એમ્બેડેડ સિસ્ટમ \\ \hline
સિક્યોરિટી & ઓછી સુરક્ષિત (કોડ ડેટા તરીકે બદલી શકાય) & વધુ સુરક્ષિત (કોડ ડેટાથી અલગ) \\ \hline
ઉદાહરણ & મોટાભાગના PC, 8085, 8086 & 8051, PIC, ARM Cortex-M \\ \hline
\end{tabular}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=2cm]
    % Von Neumann
    \node (v_cpu) [gtu block] {CPU};
    \node (v_mem) [gtu block, right of=v_cpu, node distance=3cm] {મેમરી\\(કોડ + ડેટા)};
    \draw [gtu arrow, <->] (v_cpu) -- node[above] {બસ} (v_mem);
    \node [below of=v_cpu, node distance=1.5cm] {વોન-ન્યુમેન};

    % Harvard
    \node (h_cpu) [gtu block, right of=v_mem, node distance=4cm] {CPU};
    \node (h_prog) [gtu block, right of=h_cpu, node distance=3cm, yshift=1cm] {પ્રોગ્રામ\\મેમરી};
    \node (h_data) [gtu block, right of=h_cpu, node distance=3cm, yshift=-1cm] {ડેટા\\મેમરી};
    \draw [gtu arrow, <->] (h_cpu) -- (h_prog);
    \draw [gtu arrow, <->] (h_cpu) -- (h_data);
    \node [below of=h_cpu, node distance=1.5cm] {હાર્વર્ડ};
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``હાર્વર્ડ હંમેશા અલગ રસ્તા રાખે'' (હાર્વર્ડમાં મેમરી પાથ અલગ હોય છે)
\end{mnemonicbox}

\questionmarks{2}{a}{3}
\textbf{8085 માઇક્રોપ્રોસેસરનું ફ્લેગ રજીસ્ટર દોરો અને તેને સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}
    % Flag Register
    \matrix (flags) [matrix of nodes, nodes={draw, minimum size=1cm, anchor=center}, column sep=-\pgflinewidth] {
        S & Z & - & AC & - & P & - & CY \\
    };
    
    % Bit numbers
    \foreach \i [count=\xi from 1] in {7,6,5,4,3,2,1,0} {
        \node [above=0.1cm of flags-1-\xi, font=\scriptsize] {\i};
    }
    
    \node [below=0.2cm of flags] {FLAG REGISTER (F)};
\end{tikzpicture}
\end{center}

\begin{center}
\captionof{table}{ફ્લેગ રજિસ્ટર બિટ્સ}
\begin{tabular}{|l|l|l|}
\hline
\textbf{ફ્લેગ} & \textbf{નામ} & \textbf{કાર્ય} \\ \hline
S & સાઈન & જો પરિણામ નેગેટિવ હોય તો સેટ થાય (બિટ 7=1) \\ \hline
Z & ઝીરો & જો પરિણામ ઝીરો હોય તો સેટ થાય \\ \hline
AC & ઓક્ઝિલિયરી કૅરી & જો બિટ 3 થી બિટ 4 માં કૅરી થાય તો સેટ થાય \\ \hline
P & પેરિટી & જો પરિણામમાં ઇવન પેરિટી હોય તો સેટ થાય \\ \hline
CY & કૅરી & જો બિટ 7 થી કૅરી કે બોરો થાય તો સેટ થાય \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``સરસ ઝોમ્બી આજે પણ ચાલે'' (સાઈન, ઝીરો, ઓક્ઝિલિયરી, પેરિટી, કૅરી)
\end{mnemonicbox}

\questionmarks{2}{b}{4}
\textbf{8085 માઇક્રોપ્રોસેસર માટે એડ્રેસ અને ડેટાબસોનું ડી-મલ્ટીપ્લેક્સીંગ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[auto, node distance=2.5cm]
    \node [gtu block, minimum width=3cm, minimum height=4cm] (cpu) {8085 CPU};
    \node [gtu block, right of=cpu, node distance=5cm, yshift=-1.5cm] (latch) {74LS373\\Latch};
    
    % Higher Order Address
    \draw [->, thick] (cpu.north east) ++(0,-0.5) -- ++(2,0) node[right] {A15-A8 (Higher Address)};
    
    % Address/Data Bus
    \draw [thick] (cpu.east) ++(0,-1.5) -- ++(1.5,0) coordinate (split);
    \draw [thick] (split) -- (latch.west) node[midway, above] {AD7-AD0};
    \draw [<->, thick] (split) -- ++(0, -1.5) node[below] {ડેટા બસ D7-D0};
    
    % ALE
    \draw [->] (cpu.east) ++(0,-2.5) -- ++(1.5,0) -- (latch.south) node[midway, right] {ALE};
    
    % Latch output
    \draw [->, thick] (latch.east) -- ++(1.5,0) node[right] {A7-A0 (Lower Address)};
    
    % Labels
    \node at (cpu.east) [yshift=-1.5cm, xshift=-1cm] {AD7-AD0};
    \node at (cpu.east) [yshift=-2.5cm, xshift=-1cm] {ALE};
    \node at (cpu.east) [yshift=-0.5cm, xshift=-1cm] {A15-A8};

\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \textbf{જરૂરિયાત}: 8085 માં પિન બચાવવા માટે મલ્ટીપ્લેક્સ્ડ પિન (AD0-AD7) હોય છે
    \item \textbf{પ્રક્રિયા}:
    \begin{enumerate}
        \item CPU એડ્રેસ AD0-AD7 પિન પર મૂકે છે
        \item ALE (એડ્રેસ લેચ એનેબલ) સિગ્નલ HIGH થાય છે
        \item એડ્રેસ લેચ (74LS373) લોઅર એડ્રેસ બિટ્સ પકડે છે
        \item ALE LOW થાય છે, એડ્રેસ લેચ થઈ જાય છે
        \item AD0-AD7 પિન હવે ડેટા ટ્રાન્સફર માટે ફ્રી થઈ જાય છે
    \end{enumerate}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``ALE પહેલા, ડેટા પછી'' (એડ્રેસ લેચ એનેબલ પહેલા એડ્રેસ પકડે, પછી ડેટા આવે)
\end{mnemonicbox}

\questionmarks{2}{c}{7}
\textbf{આકૃતિની મદદથી 8085 માઇક્રોપ્રોસેસરના આર્કિટેક્ચરનું વર્ણન કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[node distance=2cm]
    % Outer block as CPU
    \node [draw, rectangle, minimum width=8cm, minimum height=6cm, fill=black!5, rounded corners] (cpu) {};
    \node [below right] at (cpu.north west) {\textbf{8085 CPU}};

    % Internal components
    \node [gtu block, fill=white] (regs) at ([xshift=-2cm, yshift=1.5cm]cpu.center) {રજિસ્ટર્સ\\A, B, C, D\\E, H, L\\SP, PC};
    \node [gtu block, fill=white, right of=regs, node distance=4cm] (control) {કંટ્રોલ યુનિટ\\ટાઈમિંગ અને\\કંટ્રોલ};
    \node [gtu block, fill=white, below of=regs, node distance=3cm] (alu) {ALU};
    
    % Connections
    \draw [gtu arrow, <->] (regs) -- (alu);
    \draw [gtu arrow] (control) -- (regs);
    \draw [gtu arrow] (control) -- (alu);
    
    % Buses
    \node [gtu block, fill=white] (bus) at ([yshift=-2.5cm]cpu.center) {એડ્રેસ/ડેટા બફર};
    \draw [gtu arrow, <->] (alu) -- (bus);
    \draw [gtu arrow, <->] (regs) -- (bus);
    
    % External connections
    \draw [gtu arrow] (bus.south) -- ++(0,-1) node[below] {એડ્રેસ અને ડેટા બસ};
    \draw [gtu arrow] (control.east) -- ++(1,0) node[right] {કંટ્રોલ સિગ્નલ્સ};

\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \textbf{મુખ્ય ઘટકો}:
    \begin{itemize}
        \item \textbf{રજિસ્ટર્સ}: સ્ટોરેજ લોકેશન (A, B-L, SP, PC, Flags)
        \item \textbf{ALU}: ગાણિતિક અને લોજિકલ ઓપરેશન કરે છે
        \item \textbf{કંટ્રોલ યુનિટ}: ટાઈમિંગ અને કંટ્રોલ સિગ્નલ જનરેટ કરે છે
        \item \textbf{બસ}: એડ્રેસ બસ (16-bit), ડેટા બસ (8-bit), કંટ્રોલ બસ
    \end{itemize}
    \item \textbf{મુખ્ય ફીચર્સ}:
    \begin{itemize}
        \item 8-બિટ ડેટા બસ, 16-બિટ એડ્રેસ બસ (64KB એડ્રેસેબલ મેમરી)
        \item 6 જનરલ-પર્પઝ રજિસ્ટર (B,C,D,E,H,L) અને એક્યુમુલેટર
        \item 5 ફ્લેગ્સ સ્ટેટસ માહિતી માટે
    \end{itemize}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``RABC'' - ``રજિસ્ટર, ALU, બસ, કંટ્રોલ'' (મુખ્ય ઘટકો)
\end{mnemonicbox}

\orquestionmarks{2}{a}{3}
\textbf{8085 માઇક્રોપ્રોસેસરનું બસ ઓર્ગેનાઈઝેશન સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{8085 બસ ઓર્ગેનાઈઝેશન}
\begin{tabular}{|l|l|l|}
\hline
\textbf{બસ પ્રકાર} & \textbf{વિડ્થ} & \textbf{કાર્ય} \\ \hline
\textbf{એડ્રેસ બસ} & 16-બિટ (A0-A15) & મેમરી/I/O ડિવાઈસ એડ્રેસ લઈ જાય છે \\ \hline
\textbf{ડેટા બસ} & 8-બિટ (D0-D7) & CPU અને મેમરી/I/O વચ્ચે ડેટા ટ્રાન્સફર કરે છે \\ \hline
\textbf{કંટ્રોલ બસ} & વિવિધ સિગ્નલ્સ & સિસ્ટમ ઓપરેશન કોઓર્ડિનેટ કરે છે \\ \hline
\end{tabular}
\end{center}

\textbf{મુખ્ય કંટ્રોલ સિગ્નલ્સ}:
\begin{itemize}
    \item \textbf{$\overline{RD}$}: રીડ સિગ્નલ (એક્ટિવ લો)
    \item \textbf{$\overline{WR}$}: રાઈટ સિગ્નલ (એક્ટિવ લો)
    \item \textbf{ALE}: એડ્રેસ લેચ એનેબલ
    \item \textbf{$IO/\overline{M}$}: I/O (હાઈ) અને મેમરી (લો) ઓપરેશન વચ્ચે ભેદ પાડે છે
\end{itemize}

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto]
    \node [gtu block] (cpu) {8085 CPU};
    
    \draw [->, thick] (cpu.south) ++(-1.5,0) -- ++(0,-1.5) node[below, align=center] {એડ્રેસ બસ\\(16-બિટ)};
    \draw [<->, thick] (cpu.south) -- ++(0,-1.5) node[below, align=center] {ડેટા બસ\\(8-બિટ)};
    \draw [->, thick] (cpu.south) ++(1.5,0) -- ++(0,-1.5) node[below, align=center] {કંટ્રોલ બસ\\(RD, WR, etc.)};
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``ADC'' - ``એડ્રેસ શોધે, ડેટા ફરે, કંટ્રોલ ચલાવે''
\end{mnemonicbox}

\orquestionmarks{2}{b}{4}
\textbf{સમજાવો: પ્રોગ્રામ કાઉન્ટર અને સ્ટેક પોઈન્ટર}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{PC વિરુદ્ધ SP}
\begin{tabular}{|l|l|p{6cm}|}
\hline
\textbf{રજિસ્ટર} & \textbf{સાઈઝ} & \textbf{કાર્ય} \\ \hline
\textbf{પ્રોગ્રામ કાઉન્ટર (PC)} & 16-બિટ & આગલા એક્ઝિક્યુટ થનાર ઇન્સ્ટ્રક્શનનું એડ્રેસ રાખે છે \\ \hline
\textbf{સ્ટેક પોઈન્ટર (SP)} & 16-બિટ & મેમરીમાં સ્ટેકના ટોપને પોઇન્ટ કરે છે \\ \hline
\end{tabular}
\end{center}

\textbf{પ્રોગ્રામ કાઉન્ટર (PC)}:
\begin{itemize}
    \item ઇન્સ્ટ્રક્શન ફેચ પછી ઓટોમેટિક વધે છે
    \item જમ્પ/કોલ ઇન્સ્ટ્રક્શન દ્વારા બદલાય છે
    \item પ્રોગ્રામ એક્ઝિક્યુશન સિક્વેન્સ કંટ્રોલ કરે છે
    \item રીસેટ પર 0000H પર સેટ થાય છે
\end{itemize}

\textbf{સ્ટેક પોઈન્ટર (SP)}:
\begin{itemize}
    \item સ્ટેક પર છેલ્લે પુશ કરેલ ડેટા આઈટમને પોઇન્ટ કરે છે
    \item સ્ટેક LIFO (લાસ્ટ ઇન ફર્સ્ટ આઉટ) પ્રમાણે કામ કરે છે
    \item સબરૂટિન કોલ અને ઇન્ટરપ્ટ દરમિયાન વપરાય છે
    \item સ્ટેક મેમરીમાં નીચે તરફ વધે છે (ઘટાડાય છે)
\end{itemize}

\begin{center}
\begin{tikzpicture}
    % PC
    \node [draw, rectangle, minimum width=2cm, label=above:PC] (pc) at (0,3) {2001H};
    
    % SP
    \node [draw, rectangle, minimum width=2cm, label=above:SP] (sp) at (4,3) {3FFEH};
    
    % Code Memory
    \node [draw, rectangle, minimum width=2.5cm, minimum height=1cm, align=center] (code2) at (0,0) {Instr 2\\(2001H)};
    \node [draw, rectangle, minimum width=2.5cm, minimum height=1cm, align=center, above=0cm of code2] (code1) {Instr 1\\(2000H)};
    \draw [->] (pc) -- (code2);
    
    % Stack Mem
    \node [draw, rectangle, minimum width=2.5cm, minimum height=1cm, align=center] (stack1) at (4,0) {Data A\\(3FFEH)};
    \node [draw, rectangle, minimum width=2.5cm, minimum height=1cm, align=center, above=0cm of stack1] (stack0) {Empty\\(3FFFH)};
    \draw [->] (sp) -- (stack1);
    
    \node [below=0.2cm of code2] {કોડ મેમરી};
    \node [below=0.2cm of stack1] {સ્ટેક મેમરી};

\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``PC આગળ જુએ, SP સ્ટેક સંભાળે'' (PC આગલું ઇન્સ્ટ્રક્શન જુએ છે, SP સ્ટેક મેનેજ કરે છે)
\end{mnemonicbox}

\orquestionmarks{2}{c}{7}
\textbf{આકૃતિની મદદથી 8085 માઇક્રોપ્રોસેસરના પિન ડાયાગ્રામનું વર્ણન કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[scale=0.8, transform shape]
    % Chip Body
    \draw[thick, fill=gray!10] (0,0) rectangle (6,10);
    \node at (3,5) {\textbf{8085}};
    \draw (2.5,10) arc (180:360:0.5); % Notch

    % Pins Left
    \foreach \name/\y in {X1/9, X2/8.5, RESET OUT/8, SOD/7.5, SID/7, TRAP/6.5, RST 7.5/6, RST 6.5/5.5, RST 5.5/5, INTR/4.5, INTA/4, AD0/3.5, AD1/3, AD2/2.5, AD3/2, AD4/1.5, AD5/1, AD6/0.5} {
        \draw (-0.5,\y) rectangle (0,\y+0.3);
        \node[left, font=\tiny] at (-0.5,\y+0.15) {\name};
        \node[font=\tiny] at (-0.25,\y+0.15) {\tiny $\bullet$};
    }
    
    % Pins Right
    \foreach \name/\y in {VCC/9, HOLD/8.5, HLDA/8, CLK OUT/7.5, RESET IN/7, READY/6.5, {IO/M}/6, S1/5.5, RD/5, WR/4.5, ALE/4, S0/3.5, A15/3, A14/2.5, A13/2, A12/1.5, A11/1, A10/0.5} {
        \draw (6,\y) rectangle (6.5,\y+0.3);
        \node[right, font=\tiny] at (6.5,\y+0.15) {\name};
        \node[font=\tiny] at (6.25,\y+0.15) {\tiny $\bullet$};
    }
    
\end{tikzpicture}
\end{center}

\textbf{પિન ગ્રુપ્સ}:
\begin{enumerate}
    \item \textbf{પાવર \& ક્લોક}: Vcc, GND, X1, X2, CLK
    \item \textbf{એડ્રેસ/ડેટા}: A8-A15, AD0-AD7 (મલ્ટીપ્લેક્સ્ડ)
    \item \textbf{કંટ્રોલ}: ALE, $\overline{RD}$, $\overline{WR}$, $IO/\overline{M}$
    \item \textbf{ઇન્ટરપ્ટ}: INTR, $\overline{INTA}$, RST 5.5/6.5/7.5, TRAP
    \item \textbf{DMA}: HOLD, HLDA
    \item \textbf{સિરિયલ I/O}: SID, SOD
    \item \textbf{સ્ટેટસ}: S0, S1
\end{enumerate}
\end{solutionbox}
\begin{mnemonicbox}
``PACI-DHS'' (પાવર, એડ્રેસ, કંટ્રોલ, ઇન્ટરપ્ટ, DMA, હાર્ડવેર સ્ટેટસ, સિરિયલ)
\end{mnemonicbox}

\questionmarks{3}{a}{3}
\textbf{સ્ટેક, સ્ટેક પોઈન્ટર અને સ્ટેક ઓપરેશન સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{સ્ટેક કન્સેપ્ટ}
\begin{tabular}{|l|p{10cm}|}
\hline
\textbf{શબ્દ} & \textbf{વ્યાખ્યા} \\ \hline
\textbf{સ્ટેક} & LIFO ક્રમમાં કામચલાઉ સ્ટોરેજ માટે વપરાતી મેમરી એરિયા \\ \hline
\textbf{સ્ટેક પોઈન્ટર} & 16-બિટ રજિસ્ટર જે સ્ટેકમાં ટોપ આઈટમને પોઇન્ટ કરે છે \\ \hline
\textbf{PUSH} & ડેટાને સ્ટેક પર સ્ટોર કરવાનું ઓપરેશન (SP ઘટે છે) \\ \hline
\textbf{POP} & સ્ટેક પરથી ડેટા મેળવવાનું ઓપરેશન (SP વધે છે) \\ \hline
\end{tabular}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=1.5cm]
    % Stack Mem
    \node [draw, rectangle, minimum width=2.5cm, minimum height=3cm, fill=white] (stack) at (0,0) {};
    \draw (-1.25, 0.5) -- (1.25, 0.5);
    \draw (-1.25, -0.5) -- (1.25, -0.5);
    \node at (0, 1) {Empty};
    \node at (0, 0) {Data A};
    \node at (0, -1) {Data B};
    
    \node [right of=stack, node distance=2cm] (sp) {SP};
    \draw [->] (sp) -- (0.8, 0) node [midway, above] {Points Top};
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``LIFO પુશ-પોપ કરે'' (છેલ્લો અંદર-પહેલો બહાર, પુશ અને પોપ ઓપરેશન સાથે)
\end{mnemonicbox}

\questionmarks{3}{b}{4}
\textbf{8051 માઇક્રોકન્ટ્રોલરનો ટાઈમર્સ/કાઉન્ટર્સનો લોજિક ડાયાગ્રામ દોરો અને તેને સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[auto, node distance=2cm]
    \node [gtu block] (control) {કંટ્રોલ લોજિક\\(TMOD, TCON)};
    \node [gtu block, right of=control, node distance=4cm] (timer) {ટાઈમર રજિસ્ટર\\(THx, TLx)};
    \node [right of=timer, node distance=3cm, align=center] (flag) {ઓવરફ્લો ફ્લેગ\\(TFx)};
    
    \draw [->] (control) -- (timer);
    \draw [->] (timer) -- (flag);
    
    \node [left of=control, node distance=3cm] (osc) {ઓસિલેટર / 12};
    \node [below of=osc, node distance=1.5cm] (pin) {એક્સ. પિન (Tx)};
    
    \draw [->] (osc) -- node {ટાઈમર મોડ} (control);
    \draw [->] (pin) -- node [swap] {કાઉન્ટર મોડ} (control);

\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \textbf{8051 માં 2 16-બિટ ટાઈમર/કાઉન્ટર છે}: ટાઈમર 0 અને ટાઈમર 1
    \item \textbf{દરેક ટાઈમરમાં બે 8-બિટ રજિસ્ટર છે}: THx (હાઈ બાઈટ) અને TLx (લો બાઈટ)
    \item \textbf{4 ઓપરેટિંગ મોડ્સ}:
    \begin{itemize}
        \item મોડ 0: 13-બિટ ટાઈમર
        \item મોડ 1: 16-બિટ ટાઈમર
        \item મોડ 2: 8-બિટ ઓટો-રિલોડ
        \item મોડ 3: સ્પ્લિટ ટાઈમર મોડ
    \end{itemize}
    \item \textbf{બે ફંક્શન્સ}:
    \begin{itemize}
        \item ટાઈમર: આંતરિક ક્લોક પલ્સ ગણે છે
        \item કાઉન્ટર: બાહ્ય ઘટનાઓની ગણતરી કરે છે
    \end{itemize}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``TIME-C'' (ટાઈમર ઈનપુટ, મોડ સિલેક્ટ, એક્સટર્નલ કાઉન્ટ)
\end{mnemonicbox}

\questionmarks{3}{c}{7}
\textbf{આકૃતિની મદદથી 8051 માઇક્રોકન્ટ્રોલરનો પિન ડાયાગ્રામ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[scale=0.8, transform shape]
    % Chip Body
    \draw[thick, fill=gray!10] (0,0) rectangle (6,10);
    \node at (3,5) {\textbf{8051}};
    \node at (3,9) {DIP-40};
    \draw (2.5,10) arc (180:360:0.5); % Notch

    % Pins Left
    \foreach \name/\y in {P1.0/9, P1.1/8.5, P1.2/8, P1.3/7.5, P1.4/7, P1.5/6.5, P1.6/6, P1.7/5.5, RST/5, P3.0/4.5, P3.1/4, P3.2/3.5, P3.3/3, P3.4/2.5, P3.5/2, P3.6/1.5, P3.7/1, XTAL2/0.5} {
        \draw (-0.5,\y) rectangle (0,\y+0.3);
        \node[left, font=\tiny] at (-0.5,\y+0.15) {\name};
        \node[font=\tiny] at (-0.25,\y+0.15) {\tiny $\bullet$};
    }
    
    % Pins Right
    \foreach \name/\y in {VCC/9, P0.0/8.5, P0.1/8, P0.2/7.5, P0.3/7, P0.4/6.5, P0.5/6, P0.6/5.5, P0.7/5, EA/4.5, ALE/4, PSEN/3.5, P2.7/3, P2.6/2.5, P2.5/2, P2.4/1.5, P2.3/1, P2.2/0.5} {
        \draw (6,\y) rectangle (6.5,\y+0.3);
        \node[right, font=\tiny] at (6.5,\y+0.15) {\name};
        \node[font=\tiny] at (6.25,\y+0.15) {\tiny $\bullet$};
    }

\end{tikzpicture}
\end{center}

\textbf{પિન ગ્રુપ્સ}:
\begin{enumerate}
    \item \textbf{પોર્ટ પિન્સ}:
    \begin{itemize}
        \item P0 (પોર્ટ 0): 8-બિટ બિડાયરેક્શનલ, મલ્ટીપ્લેક્સ્ડ એડ્રેસ/ડેટા
        \item P1 (પોર્ટ 1): 8-બિટ બિડાયરેક્શનલ I/O
        \item P2 (પોર્ટ 2): 8-બિટ બિડાયરેક્શનલ, હાયર એડ્રેસ બાઈટ
        \item P3 (પોર્ટ 3): 8-બિટ બિડાયરેક્શનલ ઓલ્ટરનેટ ફંક્શન સાથે
    \end{itemize}
    \item \textbf{પાવર \& ક્લોક}: VCC, GND, XTAL1, XTAL2
    \item \textbf{કંટ્રોલ સિગ્નલ્સ}:
    \begin{itemize}
        \item RST: રીસેટ ઈનપુટ
        \item ALE: એડ્રેસ લેચ એનેબલ
        \item $\overline{PSEN}$: પ્રોગ્રામ સ્ટોર એનેબલ
        \item $\overline{EA}$: એક્સટર્નલ એક્સેસ
    \end{itemize}
\end{enumerate}
\end{solutionbox}
\begin{mnemonicbox}
``PORT-CAPS'' (પોર્ટ્સ 0-3, ક્લોક, એડ્રેસ લેચ, પ્રોગ્રામ સ્ટોર, સપ્લાય)
\end{mnemonicbox}

\orquestionmarks{3}{a}{3}
\textbf{8051 માઇક્રોકન્ટ્રોલર માટે સીરિયલ કોમ્યુનિકેશન મોડ્સ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{સીરિયલ મોડ્સ}
\begin{tabular}{|l|l|l|l|}
\hline
\textbf{મોડ} & \textbf{વર્ણન} & \textbf{બોડ રેટ} & \textbf{ડેટા બિટ્સ} \\ \hline
\textbf{મોડ 0} & શિફ્ટ રજિસ્ટર & ફિક્સ્ડ ($F_{OSC}/12$) & 8 બિટ્સ \\ \hline
\textbf{મોડ 1} & 8-બિટ UART & વેરિએબલ & 10 બિટ્સ (8+સ્ટાર્ટ+સ્ટોપ) \\ \hline
\textbf{મોડ 2} & 9-બિટ UART & ફિક્સ્ડ ($F_{OSC}/32$ or $F_{OSC}/64$) & 11 બિટ્સ (9+સ્ટાર્ટ+સ્ટોપ) \\ \hline
\textbf{મોડ 3} & 9-બિટ UART & વેરિએબલ & 11 બિટ્સ (9+સ્ટાર્ટ+સ્ટોપ) \\ \hline
\end{tabular}
\end{center}

\textbf{મુખ્ય ઘટકો}:
\begin{itemize}
    \item \textbf{SBUF}: સીરિયલ બફર રજિસ્ટર
    \item \textbf{SCON}: સીરિયલ કંટ્રોલ રજિસ્ટર
    \item \textbf{P3.0 (RXD)}: રિસીવ પિન
    \item \textbf{P3.1 (TXD)}: ટ્રાન્સમિટ પિન
\end{itemize}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, auto]
    \node [gtu block] (sbuf) {SBUF};
    \node [gtu block, above of=sbuf, node distance=2cm] (control) {સીરિયલ\\કંટ્રોલ લોજિક\\(SCON)};
    \node [gtu block, left of=control, node distance=3.5cm] (baud) {બોડ રેટ\\જનરેટર\\(ટાઈમર 1)};
    \node [right of=control, node distance=3.5cm, align=center] (pins) {TXD (P3.1)\\RXD (P3.0)};
    
    \draw [->] (baud) -- (control);
    \draw [->] (control) -- (sbuf);
    \draw [->] (control) -- (pins);
    \draw [->] (pins) -- (control);
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``SMART'' (સીરિયલ મોડ્સ આર રેટ એન્ડ ટાઈમિંગ પર આધારીત)
\end{mnemonicbox}

\orquestionmarks{3}{b}{4}
\textbf{8051 માઇક્રોકન્ટ્રોલરનું ઈન્ટર્નલ રેમ ઓર્ગેનાઈઝેશન સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[scale=0.8]
    % RAM Block
    \draw (0,0) rectangle (4,8);
    
    % Sections
    \draw (0,2) -- (4,2);
    \draw (0,3) -- (4,3);
    
    % Labels
    \node [align=center] at (2, 5.5) {જનરલ પર્પઝ\\RAM\\(80 Bytes)};
    \node [align=center] at (2, 2.5) {બિટ-એડ્રેસેબલ\\(16 Bytes)};
    \node [align=center] at (2, 1) {રજિસ્ટર બેન્ક્સ\\(32 Bytes)};
    
    % Addresses
    \node [left] at (0,8) {7FH};
    \node [left] at (0,3) {30H};
    \node [left] at (0,2) {20H};
    \node [left] at (0,0) {00H};
    
    % Banks detailed
    \node [font=\tiny] at (2, 1.5) {બેન્ક 3 (18H-1FH)};
    \node [font=\tiny] at (2, 1.2) {બેન્ક 2 (10H-17H)};
    \node [font=\tiny] at (2, 0.9) {બેન્ક 1 (08H-0FH)};
    \node [font=\tiny] at (2, 0.6) {બેન્ક 0 (00H-07H)};

\end{tikzpicture}
\end{center}

\begin{center}
\captionof{table}{ઈન્ટર્નલ રેમ મેપ}
\begin{tabular}{|l|l|l|}
\hline
\textbf{મેમરી રીજન} & \textbf{એડ્રેસ રેન્જ} & \textbf{વર્ણન} \\ \hline
\textbf{રજિસ્ટર બેન્ક્સ} & 00H-1FH & 8 રજિસ્ટર (R0-R7) ની ચાર બેન્ક (0-3) \\ \hline
\textbf{બિટ-એડ્રેસેબલ} & 20H-2FH & 16 બાઈટ્સ (128 બિટ્સ) વ્યક્તિગત રીતે એડ્રેસ કરી શકાય \\ \hline
\textbf{જનરલ પર્પઝ} & 30H-7FH & વેરિએબલ્સ માટે સ્ક્રેચ પેડ RAM \\ \hline
\textbf{SFR} & 80H-FFH & સ્પેશિયલ ફંક્શન રજિસ્ટર્સ (RAM માં નથી) \\ \hline
\end{tabular}
\end{center}

\textbf{મુખ્ય લક્ષણો}:
\begin{itemize}
    \item એક સમયે ફક્ત એક રજિસ્ટર બેન્ક એક્ટિવ હોય (PSW બિટ્સ દ્વારા પસંદ કરાય)
    \item બિટ-એડ્રેસેબલ એરિયામાં દરેક બિટ પોતાનું એડ્રેસ ધરાવે છે (20H.0-2FH.7)
    \item સ્ટેક આંતરિક RAM માં ક્યાંય પણ હોઈ શકે છે
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``RGB-S'' (રજિસ્ટર્સ, જનરલ પર્પઝ, બિટ-એડ્રેસેબલ, SFRs)
\end{mnemonicbox}

\orquestionmarks{3}{c}{7}
\textbf{આકૃતિની મદદથી 8051 માઇક્રોકન્ટ્રોલરનું આર્કિટેક્ચર સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[node distance=2cm]
    % Outer block
    \node [draw, rectangle, minimum width=9cm, minimum height=7cm, fill=black!5, rounded corners] (chip) {};
    \node [below right] at (chip.north west) {\textbf{8051}};

    % CPU
    \node [gtu block, fill=white] (cpu) at ([xshift=-2.5cm, yshift=1.5cm]chip.center) {CPU\\(8-bit)};
    
    % Memories
    \node [gtu block, fill=white, below of=cpu, node distance=2.5cm] (rom) {ROM\\4KB};
    \node [gtu block, fill=white, right of=rom, node distance=2.5cm] (ram) {RAM\\128B};
    
    % Peripherals
    \node [gtu block, fill=white, right of=cpu, node distance=2.5cm] (timers) {ટાઈમર્સ\\T0, T1};
    \node [gtu block, fill=white, right of=timers, node distance=2.5cm] (serial) {સીરિયલ\\પોર્ટ};
    \node [gtu block, fill=white, below of=timers, node distance=2.5cm] (interrupts) {ઇન્ટરપ્ટ\\કંટ્રોલ};
    \node [gtu block, fill=white, below of=serial, node distance=2.5cm] (ports) {I/O પોર્ટ્સ\\P0-P3};
    
    % Bus connect
    \draw [gtu arrow, <->] (cpu) -- (rom);
    \draw [gtu arrow, <->] (cpu) -- (ram);
    \draw [gtu arrow, <->] (cpu) -- (timers);
    \draw [gtu arrow, <->] (cpu) -- (serial);
    \draw [gtu arrow, <->] (cpu) -- (interrupts);
    \draw [gtu arrow, <->] (cpu) -- (ports);
    
    \node [below of=chip, node distance=4cm] {એક્સટર્નલ બસ ઈન્ટરફેસ};
\end{tikzpicture}
\end{center}

\textbf{મુખ્ય ઘટકો}:
\begin{itemize}
    \item \textbf{CPU}: ALU, રજિસ્ટર્સ અને કંટ્રોલ લોજિક સાથે 8-બિટ પ્રોસેસર
    \item \textbf{મેમરી}: 
    \begin{itemize}
        \item 4KB આંતરિક ROM (પ્રોગ્રામ મેમરી)
        \item 128 બાઈટ્સ આંતરિક RAM (ડેટા મેમરી)
    \end{itemize}
    \item \textbf{I/O}: ચાર 8-બિટ I/O પોર્ટ્સ (P0-P3)
    \item \textbf{ટાઈમર્સ}: બે 16-બિટ ટાઈમર/કાઉન્ટર
    \item \textbf{સીરિયલ પોર્ટ}: ફુલ-ડુપ્લેક્સ UART
    \item \textbf{ઇન્ટરપ્ટ્સ}: બે પ્રાયોરિટી લેવલ સાથે પાંચ ઇન્ટરપ્ટ સોર્સ
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``BASICS'' (બસ, આર્કિટેક્ચર વિથ CPU, સીરિયલ પોર્ટ, I/O પોર્ટ્સ, કાઉન્ટર/ટાઈમર, સ્પેશિયલ ફંક્શન્સ)
\end{mnemonicbox}

\questionmarks{4}{a}{3}
\textbf{રજિસ્ટર R5 અને R6 ના લોઅર નિબલને બદલવા માટે 8051 એસેમ્બલી લેંગ્વેજ પ્રોગ્રામ લખો: R5 ના લોઅર નિબલને R6 માં અને R6 ના લોઅર નિબલને R5 માં મૂકો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{lstlisting}[language={[x86masm]Assembler}]
      ; Exchange lower nibbles of R5 and R6
      MOV A, R5    ; Copy R5 to accumulator
      ANL A, #0FH  ; Mask upper nibble (keep only lower nibble)
      MOV B, A     ; Save R5's lower nibble in B
      
      MOV A, R6    ; Copy R6 to accumulator
      ANL A, #0FH  ; Mask upper nibble (keep only lower nibble)
      MOV C, A     ; Save temporarily in a free register (R7)
      
      MOV A, R5    ; Get R5 again
      ANL A, #F0H  ; Keep only upper nibble of R5
      ORL A, C     ; Combine with lower nibble from R6
      MOV R5, A    ; Store result back in R5
      
      MOV A, R6    ; Get R6 again
      ANL A, #F0H  ; Keep only upper nibble of R6
      ORL A, B     ; Combine with lower nibble from R5
      MOV R6, A    ; Store result back in R6
\end{lstlisting}

\begin{center}
\begin{tikzpicture}
    % Visual representation
    \node (r5) at (0,2) {R5: 1010 \textbf{1100}};
    \node (r6) at (0,0) {R6: 0011 \textbf{0011}};
    
    \draw [->, thick, red] (0.8, 1.8) -- (0.8, 0.2);
    \draw [->, thick, blue] (1.2, 0.2) -- (1.2, 1.8);
    
    \node at (4,2) {R5: 1010 \textbf{0011}};
    \node at (4,0) {R6: 0011 \textbf{1100}};
    
    \node at (2,1) {એક્સચેન્જ};
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``MAMS'' (માસ્ક, એન્ડ, મુવ, સ્વેપ)
\end{mnemonicbox}

\questionmarks{4}{b}{4}
\textbf{પોર્ટ P1.0 પર ઇન્ટરફેસ કરેલ LED ને 1ms ના સમય અંતરાલ પર બ્લિંક કરવા માટે 8051 એસેમ્બલી લેંગ્વેજ પ્રોગ્રામ લખો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{lstlisting}[language={[x86masm]Assembler}]
      ORG 0000H        ; Start at memory location 0000H
MAIN: CPL P1.0         ; Complement P1.0 (toggle LED)
      ACALL DELAY      ; Call delay subroutine
      SJMP MAIN        ; Loop forever

DELAY: MOV R7, #2      ; Load R7 for outer loop (2)
DELAY1: MOV R6, #250   ; Load R6 for inner loop (250)
DELAY2: NOP            ; No operation (consume time)
        NOP            ; Additional delay
        DJNZ R6, DELAY2 ; Decrement R6 & loop until zero
        DJNZ R7, DELAY1 ; Decrement R7 & loop until zero
        RET            ; Return from subroutine
\end{lstlisting}

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto]
    \node [draw, circle] (start) {Start};
    \node [gtu block, below of=start] (toggle) {ટોગલ P1.0};
    \node [gtu block, below of=toggle] (delay) {ડિલે 1ms};
    
    \draw [gtu arrow] (start) -- (toggle);
    \draw [gtu arrow] (toggle) -- (delay);
    \draw [gtu arrow] (delay) -- ++(2,0) |- (toggle);
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``TCDL'' (સીરિયલ મોડ્સ આર રેટ એન્ડ ટાઈમિંગ પર આધારીત)
\end{mnemonicbox}

\questionmarks{4}{c}{7}
\textbf{8051 માઇક્રોકન્ટ્રોલરના એડ્રેસિંગ મોડ્સની યાદી બનાવો અને ઓછામાં ઓછા એક ઉદાહરણ સાથે તેમને સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{8051 એડ્રેસિંગ મોડ્સ}
\begin{tabular}{|l|l|l|}
\hline
\textbf{એડ્રેસિંગ મોડ} & \textbf{વર્ણન} & \textbf{ઉદાહરણ} \\ \hline
\textbf{રજિસ્ટર} & રજિસ્ટર્સ (R0-R7) વાપરે છે & \code{MOV A, R0} (R0 ને A માં મુવ કરે) \\ \hline
\textbf{ડાયરેક્ટ} & ડાયરેક્ટ મેમરી એડ્રેસ વાપરે & \code{MOV A, 30H} (30H પરથી ડેટા A માં મુવ કરે) \\ \hline
\textbf{રજિસ્ટર ઇન્ડાયરેક્ટ} & રજિસ્ટરને પોઇન્ટર તરીકે વાપરે & \code{MOV A, @R0} (R0 માં રહેલા એડ્રેસ પરથી ડેટા A માં મુવ કરે) \\ \hline
\textbf{ઇમીડિયેટ} & કોન્સ્ટન્ટ ડેટા વાપરે & \code{MOV A, \#25H} (A માં 25H લોડ કરે) \\ \hline
\textbf{ઇન્ડેક્સ્ડ} & બેઝ એડ્રેસ + ઓફસેટ & \code{MOVC A, @A+DPTR} (કોડ મેમરી એક્સેસ) \\ \hline
\textbf{બિટ} & વ્યક્તિગત બિટ્સ પર ઓપરેશન કરે & \code{SETB P1.0} (પોર્ટ 1 ના બિટ 0 ને સેટ કરે) \\ \hline
\textbf{ઇમ્પ્લાઈડ} & ઇમ્પ્લિસિટ ઓપરેન્ડ & \code{RRC A} (A ને રાઈટ થ્રુ કેરી રોટેટ કરે) \\ \hline
\end{tabular}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=3cm]
    % Reg Direct Indir
    \node [gtu block] (reg) {રજિસ્ટર\\MOV A, R5};
    \node [gtu block, right of=reg] (direct) {ડાયરેક્ટ\\MOV A, 40H};
    \node [gtu block, right of=direct] (indir) {ઇન્ડાયરેક્ટ\\MOV A, @R1};
    
    \node [below=0.2cm of reg, font=\tiny] {R5 $\to$ A};
    \node [below=0.2cm of direct, font=\tiny] {Mem[40H] $\to$ A};
    \node [below=0.2cm of indir, font=\tiny] {Mem[R1] $\to$ A};
\end{tikzpicture}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``RIDDIBM'' (રજિસ્ટર, ઇમીડિયેટ, ડાયરેક્ટ, ડેટા, ઇન્ડાયરેક્ટ, બિટ, iમ્પ્લાઈડ)
\end{mnemonicbox}

\orquestionmarks{4}{a}{3}
\textbf{રજિસ્ટર R2 અને R3 નાં બાઈટ નો સરવાળો કરવા માટે 8051 એસેમ્બલી લેંગ્વેજ પ્રોગ્રામ લખો, પરિણામ બાહ્ય RAM માં 2040h (LSB) અને 2041h (MSB) મૂકો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{lstlisting}[language={[x86masm]Assembler}]
      MOV A, R2      ; Move R2 to accumulator
      ADD A, R3      ; Add R3 to accumulator
      MOV DPTR, #2040H ; Set DPTR to external RAM address 2040H
      MOVX @DPTR, A  ; Store the result (LSB) at 2040H
      
      MOV A, #00H    ; Clear accumulator
      ADDC A, #00H   ; Add carry flag to accumulator
      INC DPTR       ; Increment DPTR to 2041H
      MOVX @DPTR, A  ; Store the result (MSB) at 2041H
\end{lstlisting}

\begin{itemize}
    \item બાહ્ય RAM એક્સેસ માટે \code{MOVX} વપરાય છે
    \item કૅરી હેન્ડલ કરવા માટે \code{ADDC} વપરાય છે
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``MASIM'' (મુવ, એડ, સ્ટોર, ઇન્ક્રિમેન્ટ, મુવ એગેન)
\end{mnemonicbox}

\orquestionmarks{4}{b}{4}
\textbf{12 MHz ની ક્રિસ્ટલ ફ્રિક્વન્સી સાથે 8051 માઇક્રોકન્ટ્રોલર માટે, 5ms નો ડિલે જનરેટ કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{lstlisting}[language={[x86masm]Assembler}]
      ; Delay of 5ms with 12MHz Crystal (1 machine cycle = 1 microsec)
DELAY: MOV R7, #5     ; 5 loops of 1ms each
LOOP1: MOV R6, #250   ; 250 x 4 microsec = 1000 microsec = 1ms
LOOP2: NOP            ; 1 microsec
       NOP            ; 1 microsec
       DJNZ R6, LOOP2 ; 2 microsec (if jump taken)
       DJNZ R7, LOOP1 ; Repeat 5 times for 5ms
       RET            ; Return from subroutine
\end{lstlisting}

\textbf{ગણતરી}:
\begin{itemize}
    \item 12MHz ક્રિસ્ટલ = 1$\mu$s મશીન સાયકલ
    \item ઇનર લૂપ: 2 NOPs (2$\mu$s) + DJNZ (2$\mu$s) = 4$\mu$s
    \item 250 પુનરાવર્તન $\times$ 4$\mu$s = 1000$\mu$s = 1ms
    \item આઉટર લૂપ: 5 પુનરાવર્તન $\times$ 1ms = 5ms
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``LOON-5'' (LOOp Nested for 5ms)
\end{mnemonicbox}

\orquestionmarks{4}{c}{7}
\textbf{8051 માઇક્રોકન્ટ્રોલર માટે કોઈ પણ સાત અર્થમેટિક સૂચનાઓ ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{અર્થમેટિક ઇન્સ્ટ્રક્શન્સ}
\begin{tabular}{|l|l|l|l|}
\hline
\textbf{ઇન્સ્ટ્રક્શન} & \textbf{કાર્ય} & \textbf{ઉદાહરણ} & \textbf{ફ્લેગ} \\ \hline
\textbf{ADD A,src} & સોર્સને A માં ઉમેરે છે & \code{ADD A,R0} & C, OV, AC \\ \hline
\textbf{ADDC A,src} & સોર્સ + કૅરીને A માં ઉમેરે છે & \code{ADDC A,\#25H} & C, OV, AC \\ \hline
\textbf{SUBB A,src} & A માંથી સોર્સ + બોરો બાદ કરે છે & \code{SUBB A,@R1} & C, OV, AC \\ \hline
\textbf{INC} & 1 વધારો કરે છે & \code{INC R3} & કોઈ નહીં \\ \hline
\textbf{DEC} & 1 ઘટાડો કરે છે & \code{DEC A} & કોઈ નહીં \\ \hline
\textbf{MUL AB} & A અને B નો ગુણાકાર કરે છે & \code{MUL AB} & C, OV \\ \hline
\textbf{DIV AB} & A ને B વડે ભાગે છે & \code{DIV AB} & C, OV \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``ACID-IBM'' (એડ, કૅરી એડ, ઇન્ક્રિમેન્ટ, ડિક્રીમેન્ટ, મલ્ટીપ્લાય, બોરો સબટ્રેક્ટ, ડિવાઈડ)
\end{mnemonicbox}

\questionmarks{5}{a}{3}
\textbf{વિવિધ ક્ષેત્રોમાં માઇક્રોકન્ટ્રોલરના ઉપયોગોની યાદી બનાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{માઇક્રોકન્ટ્રોલર એપ્લિકેશન્સ}
\begin{tabular}{|l|l|}
\hline
\textbf{ક્ષેત્ર} & \textbf{ઉપયોગો} \\ \hline
\textbf{કન્ઝ્યુમર ઇલેક્ટ્રોનિક્સ} & ટીવી, વોશિંગ મશીન, માઇક્રોવેવ, રિમોટ કંટ્રોલ \\ \hline
\textbf{ઓટોમોટિવ} & એન્જિન કંટ્રોલ, એન્ટિ-લોક બ્રેકિંગ, એરબેગ સિસ્ટમ્સ \\ \hline
\textbf{ઇન્ડસ્ટ્રીયલ} & ઓટોમેશન, રોબોટિક્સ, પ્રોસેસ કંટ્રોલ \\ \hline
\textbf{મેડિકલ} & પેશન્ટ મોનિટરિંગ, મેડિકલ સાધનો, ઈમ્પ્લાન્ટ્સ \\ \hline
\textbf{હોમ ઓટોમેશન} & સ્માર્ટ લાઈટિંગ, સિક્યુરિટી સિસ્ટમ્સ, HVAC કંટ્રોલ \\ \hline
\textbf{કોમ્યુનિકેશન} & મોબાઈલ ફોન, રાઉટર્સ, મોડેમ્સ \\ \hline
\textbf{એરોસ્પેસ} & નેવિગેશન સિસ્ટમ્સ, ફ્લાઇટ કંટ્રોલ, સેટેલાઇટ સિસ્ટમ્સ \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``CHAIM-MA'' (કન્ઝ્યુમર, હોમ, ઓટોમોટિવ, ઇન્ડસ્ટ્રીયલ, મેડિકલ, મોબાઈલ, એરોસ્પેસ)
\end{mnemonicbox}

\questionmarks{5}{b}{4}
\textbf{8051 માઇક્રોકન્ટ્રોલર સાથે રિલે ઇન્ટરફેસ કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{circuitikz}
    \draw (0,0) node[gtu block, minimum height=3cm] (cpu) {8051\\P1.0};
    \draw (3,0) node[gtu block, minimum height=2cm] (driver) {ડ્રાઈવર\\ULN2003};
    \draw (6,0) coordinate (coil);
    
    \draw [->] (cpu.east) -- (driver.west);
    \draw (driver.east) -- (coil) to[L, l=રિલે] ++(0,2) node[vcc] {+12V};
    
    % Diode
    \draw (coil) ++(0.5,0) to[Do, l=1N4007] ++(0,2);
    
    \node [right] at (6.5, 1) {પ્રોટેક્શન ડાયોડ};
\end{circuitikz}
\end{center}

\textbf{કાર્ય}:
\begin{enumerate}
    \item 8051 P1.0 પરથી કંટ્રોલ સિગ્નલ મોકલે છે
    \item ડ્રાઈવર રિલે ચલાવવા માટે કરંટ એમ્પ્લીફાઈ કરે છે
    \item પ્રોટેક્શન ડાયોડ બેક EMF થી થતું નુકસાન અટકાવે છે
    \item રિલે જોડાયેલ ઉપકરણોને સ્વિચ કરે છે
\end{enumerate}
\end{solutionbox}
\begin{mnemonicbox}
``DRIPS'' (ડ્રાઈવર, રિલે, ઇનપુટ, પ્રોટેક્શન, સ્વિચિંગ)
\end{mnemonicbox}

\questionmarks{5}{c}{7}
\textbf{8051 માઇક્રોકન્ટ્રોલર સાથે LCD ઇન્ટરફેસ કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{circuitikz}
    % LCD Block
    \draw (4,0) rectangle (9,6);
    \node at (6.5, 5.5) {16x2 LCD};
    
    % 8051 Block
    \draw (-2,0) rectangle (1,6);
    \node at (-0.5, 5.5) {8051};
    
    % Data Lines
    \foreach \y [count=\i from 0] in {0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4} {
        \draw (1, \y) -- (4, \y); 
        \node [left, font=\tiny] at (1,\y) {P2.\i};
        \node [right, font=\tiny] at (4,\y) {D\i};
    }
    \node at (2.5, 2) {ડેટા બસ (8-બિટ)};
    
    % Control Lines
    \draw (1, 5) -- (4, 5); \node [left, font=\tiny] at (1,5) {P1.0}; \node [right, font=\tiny] at (4,5) {RS};
    \draw (1, 4.7) -- (4, 4.7); \node [left, font=\tiny] at (1,4.7) {P1.1}; \node [right, font=\tiny] at (4,4.7) {RW};
    \draw (1, 4.4) -- (4, 4.4); \node [left, font=\tiny] at (1,4.4) {P1.2}; \node [right, font=\tiny] at (4,4.4) {E};

    % Power Pot
    \draw (6.5, 0) -- ++(0,-1) node[ground]{};
    \node at (7.5, -0.5) {કોન્ટ્રાસ્ટ પોટ};
\end{circuitikz}
\end{center}

\textbf{કનેક્શન્સ}:
\begin{itemize}
    \item \textbf{કંટ્રોલ લાઈન્સ}: RS (P1.0), RW (P1.1), E (P1.2)
    \item \textbf{ડેટા લાઈન્સ}: D0-D7 પોર્ટ 2 સાથે જોડાયેલ છે
\end{itemize}

\textbf{ઇનિશિયલાઇઝેશન કોડ}:
\begin{lstlisting}[language={[x86masm]Assembler}]
MOV A, #38H      ; 2 lines, 5x7 matrix
ACALL COMMAND
MOV A, #0EH      ; Display ON, cursor ON
ACALL COMMAND
MOV A, #01H      ; Clear LCD
ACALL COMMAND
MOV A, #06H      ; Increment cursor
ACALL COMMAND
\end{lstlisting}
\end{solutionbox}
\begin{mnemonicbox}
``CIDER-8'' (કંટ્રોલ લાઈન્સ, ઇનિશિયલાઇઝ, ડેટા બસ, એનેબલ, રજિસ્ટર સિલેક્ટ, 8-બિટ મોડ)
\end{mnemonicbox}

\orquestionmarks{5}{a}{3}
\textbf{8051 માઇક્રોકન્ટ્રોલર સાથે LED નું ઇન્ટરફેસિંગ દોરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{circuitikz}
    \draw (0,0) node[gtu block, minimum height=3cm] (cpu) {8051\\P1.0};
    
    \draw (cpu.east) -- ++(1,0) to[R, l=220$\Omega$] ++(2,0) to[leD, l=LED, invert] ++(0,1.5) node[vcc] {+5V};
\end{circuitikz}
\end{center}

\textbf{કાર્ય સિદ્ધાંત}:
\begin{itemize}
    \item એક્ટિવ-લો કોન્ફિગરેશન: જ્યારે પિન = 0 ત્યારે LED ચાલુ થાય
    \item કરંટ લિમિટિંગ રેસિસ્ટર (220$\Omega$) LED ને સુરક્ષિત કરે છે
    \item મહત્તમ કરંટ આશરે 10-20mA
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``CIRCLE'' (કરંટ રેસિસ્ટર, IO પિન, કેથોડ થી LED, LED થી અર્થ/ગ્રાઉન્ડ)
\end{mnemonicbox}

\orquestionmarks{5}{b}{4}
\textbf{8051 માઇક્રોકન્ટ્રોલર સાથે DC મોટર ઇન્ટરફેસ કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{circuitikz}
    \node [gtu block, minimum height=2.5cm] (cpu) {8051};
    \node [gtu block, right of=cpu, node distance=4cm, minimum height=2.5cm] (driver) {L293D\\ડ્રાઈવર};
    \node [right of=driver, node distance=3cm, circle, draw] (motor) {M};
    
    \draw [->] (cpu.east) ++(0,0.5) -- node[above] {P1.0} (driver.west |- 0,0.5);
    \draw [->] (cpu.east) ++(0,-0.5) -- node[below] {P1.1} (driver.west |- 0,-0.5);
    
    \draw (driver.east) ++(0,0.5) -- (motor.north);
    \draw (driver.east) ++(0,-0.5) -- (motor.south);
    
    \node [above of=driver] {+12V (મોટર સપ્લાય)};
\end{circuitikz}
\end{center}

\begin{center}
\captionof{table}{મોટર કંટ્રોલ લોજિક}
\begin{tabular}{|l|l|l|}
\hline
\textbf{P1.0} & \textbf{P1.1} & \textbf{મોટર કાર્ય} \\ \hline
0 & 0 & સ્ટોપ (બ્રેક) \\ \hline
0 & 1 & ક્લોકવાઈઝ \\ \hline
1 & 0 & કાઉન્ટર-ક્લોકવાઈઝ \\ \hline
1 & 1 & સ્ટોપ (ફ્રી-રનિંગ) \\ \hline
\end{tabular}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``DICER'' (ડ્રાઈવર ચિપ, ઇનપુટ, કંટ્રોલ લોજિક, એનેબલ મોટર, રોટેશન)
\end{mnemonicbox}

\orquestionmarks{5}{c}{7}
\textbf{8051 માઇક્રોકન્ટ્રોલર સાથે DAC0808 ઇન્ટરફેસ કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{circuitikz}
    \node [gtu block, minimum height=2.5cm] (cpu) {8051\\પોર્ટ 1};
    \node [gtu block, right of=cpu, node distance=4cm, minimum height=2.5cm] (dac) {DAC0808};
    \node [gtu block, right of=dac, node distance=3cm] (opamp) {ઓપ-એમ્પ\\I to V};
    
    \draw [->] (cpu) -- node [above] {8-બિટ ડેટા} (dac);
    \draw [->] (dac) -- node [above] {કરંટ} (opamp);
    \draw [->] (opamp.east) -- ++(1,0) node [right] {એનાલોગ $V_{out}$};
    
    \node [below of=dac] {રેફ વોલ્ટેજ, GND, -VEE};
\end{circuitikz}
\end{center}

\textbf{કનેક્શન્સ}:
\begin{itemize}
    \item P1.0-P1.7 $\to$ DAC ના D0-D7 ઇનપુટ્સ
    \item DAC આઉટપુટ કરંટ છે, જે ઓપ-એમ્પ દ્વારા વોલ્ટેજમાં ફેરવાય છે
\end{itemize}

\textbf{ઉપયોગો}: વેવફોર્મ જનરેશન, મોટર સ્પીડ કંટ્રોલ
\end{solutionbox}
\begin{mnemonicbox}
``DACR'' (ડિજિટલ ઇનપુટ, એનાલોગ આઉટપુટ, કન્વર્ઝન, રેફરન્સ વોલ્ટેજ)
\end{mnemonicbox}

\end{document}
