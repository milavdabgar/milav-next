\documentclass[10pt,a4paper]{article}
\input{../../../../../../latex-templates/gtu-solutions/preamble.tex}
\input{../../../../../../latex-templates/gtu-solutions/english-boxes.tex}

\begin{document}

\begin{center}
{\Huge\bfseries\color{headcolor} Subject Name Solutions}\\[5pt]
{\LARGE 4341101 -- Summer 2024}\\[3pt]
{\large Semester 1 Study Material}\\[3pt]
{\normalsize\textit{Detailed Solutions and Explanations}}
\end{center}

\vspace{10pt}

\subsection*{Question 1(a) [3 marks]}\label{q1a}

\textbf{Describe any one Port Configuration of 8051 Microcontroller.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5357}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4643}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Configuration
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Port 0} & Dual-purpose port - 8-bit open drain bidirectional I/O
port and multiplexed low address/data bus. External pull-up resistors
required for I/O functions. \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
                    8051
               +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
               |           |
External       |           |    P0.0{-P0.7}
Pull{-ups       |           |    (AD0{-}AD7)}
  \_\_\_\_         |           |{{-}{-}{-}{-}{-}{-}{-}{-}{-}}
 |    |        |           |
 |    |{-{-}{-}{-}{-}{-}{-}|  PORT 0   |}
 |\_\_\_\_|        |           |
+5V            |           |
               +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``PORT 0-PLAD'' (Port 0 needs Pull-ups, works as
Latch/Address/Data)

\end{mnemonicbox}
\subsection*{Question 1(b) [4 marks]}\label{q1b}

\textbf{Illustrate Microprocessor Architecture.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Component & Function \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{ALU} & Performs arithmetic and logical operations \\
\textbf{Registers} & Temporary storage for data and addresses \\
\textbf{Control Unit} & Directs operation of processor and data flow \\
\textbf{Buses} & Pathways for data transfer (address, data, control) \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
     +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
     |          MICROPROCESSOR                  |
     |                                          |
     |  +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
     |  | REGISTERS   |    | CONTROL UNIT   |   |
     |  |{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}|    |{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}|   |}
     |  | A, B, C, D  |    | Instruction    |   |
     |  | H, L, SP, PC|{{-}{-}| Decoder        |   |}
     |  | Flags       |    | Timing \&       |   |
     |  +{-{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}+    | Control        |   |}
     |         |           +{-{-}{-}{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}{-}+   |}
     |         |                    |           |
     |         v                    |           |
     |  +{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+             |           |}
     |  |     ALU     |{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+           |}
     |  +{-{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}+                         |}
     |         |                                |
     +{-{-}{-}{-}{-}{-}{-}{-}{-}|{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
               |
     +{-{-}{-}{-}{-}{-}{-}{-}{-}v{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
     |  ADDRESS, DATA \& CONTROL BUSES           |
     +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``RABC'' - ``Registers, ALU, Buses, Control''

\end{mnemonicbox}
\subsection*{Question 1(c) [7 marks]}\label{q1c}

\textbf{Compare Von Neumann \& Harvard architecture.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.1579}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4561}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3860}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Feature
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Von Neumann Architecture
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Harvard Architecture
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Memory Buses & Single memory bus for instructions and data & Separate
buses for program and data memory \\
Execution & Sequential execution & Parallel fetch and execute
possible \\
Speed & Slower due to bus bottleneck & Faster due to simultaneous
access \\
Memory Access & Single memory space & Separate memory spaces \\
Complexity & Simpler design & More complex design \\
Applications & General-purpose computing & DSP, microcontrollers,
embedded systems \\
Examples & Most PCs, 8085, 8086 & 8051, PIC, ARM Cortex-M \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
Von Neumann:                    Harvard:
+{-{-}{-}{-}{-}{-}{-}{-}{-}+                     +{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|         |                     |         |
|   CPU   |{{-}{-}{-}{-}| Memory |     |   CPU   |{-}{-}{-}{-}| Program Memory |}
|         |                     |         |
+{-{-}{-}{-}{-}{-}{-}{-}{-}+                     +{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
                                     \^{}
                                     |
                                     v
                                | Data Memory |
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``Harvard Has Separate Streets'' (Harvard Has
Separate memory paths)

\end{mnemonicbox}
\subsection*{Question 1(c OR) [7
marks]}\label{question-1c-or-7-marks}

\textbf{Define RISC, CISC, Opcode, Operand, Instruction Cycle, Machine
Cycle, and T State.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6667}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Term
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Definition
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{RISC} & Reduced Instruction Set Computer - architecture with
simple instructions optimized for speed \\
\textbf{CISC} & Complex Instruction Set Computer - architecture with
complex, powerful instructions \\
\textbf{Opcode} & Operation Code - part of instruction that specifies
operation to be performed \\
\textbf{Operand} & Data value or address used in operation \\
\textbf{Instruction Cycle} & Complete process to fetch, decode and
execute an instruction \\
\textbf{Machine Cycle} & Basic operation like memory read/write (subset
of instruction cycle) \\
\textbf{T-State} & Time state - smallest unit of time in processor
operation (clock period) \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
Instruction Cycle:
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|  FETCH   |{-{-}{-}{-}{-}|  DECODE  |{-}{-}{-}{-}{-}| EXECUTE  |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
      \^{                                  |}
      |                                  |
      +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}

T{-States within Machine Cycle:}
+{-{-}{-}{-}{-}+{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}+}
| T1  | T2  | T3  | T4  | ...
+{-{-}{-}{-}{-}+{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}+}
 {{-}{-}{-} Machine Cycle {-}{-}{-}}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``RICO ITEM'' (RISC, CISC, Opcode, Instruction cycle,
T-state, Execute, Machine cycle)

\end{mnemonicbox}
\subsection*{Question 2(a) [3 marks]}\label{q2a}

\textbf{Define Data bus, Address bus and Control bus.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4545}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5455}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Bus Type
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Definition
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Data Bus} & Bidirectional pathway that transfers actual data
between microprocessor and peripheral devices \\
\textbf{Address Bus} & Unidirectional pathway that carries memory/IO
device locations to be accessed \\
\textbf{Control Bus} & Group of signal lines that coordinate and
synchronize all system operations \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|          |{-{-}{-}{-}| Address Bus     |}
|          |     | (Memory/IO loc) |
|  CPU     |     +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|          |{{-}{-}{-}+{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|          |     | Data Bus        |
|          |     | (Information)   |
|          |     +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|          |{{-}{-}{-}+{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|          |     | Control Bus     |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     | (RD,WR,IO/M...) |}
                 +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``ADC'' - ``Address finds location, Data carries
information, Control coordinates operations''

\end{mnemonicbox}
\subsection*{Question 2(b) [4 marks]}\label{q2b}

\textbf{Compare Microprocessor and Microcontroller.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2195}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3659}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4146}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Feature
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Microprocessor
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Microcontroller
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Definition & CPU on a single chip & Complete computer system on a
chip \\
Memory & External RAM/ROM needed & Built-in RAM/ROM \\
I/O Ports & Limited or none on-chip & Multiple I/O ports on-chip \\
Peripherals & External peripherals needed & Built-in peripherals
(timers, ADC, etc.) \\
Applications & General computing, PCs & Embedded systems, IoT devices \\
Cost & Higher for complete system & Lower (all-in-one solution) \\
Power Consumption & Higher & Lower \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``MEMI-CAP'' (Memory external/internal, Cost,
Applications, Peripherals)

\end{mnemonicbox}
\subsection*{Question 2(c) [7 marks]}\label{q2c}

\textbf{Sketch and explain 8085 block diagram.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
    |               8085 CPU                    |
    |                                           |
    |  +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
    |  | REGISTER    |       | TIMING \&     |   |
    |  | ARRAY       |       | CONTROL      |   |
    |  |{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}|       |{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}|   |}
    |  | A,Flags     |       | Instruction  |   |
    |  | B,C,D,E,H,L |{{-}{-}{-}{-}{-}| Decoder      |   |}
    |  | SP, PC      |       | Interrupt    |   |
    |  | W,Z(Temp)   |       | Control      |   |
    |  +{-{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}{-}+   |}
    |         |                     |           |
    |         v                     |           |
    |  +{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+              |           |}
    |  |     ALU     |{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+           |}
    |  +{-{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}+                          |}
    |         |                                 |
    |  +{-{-}{-}{-}{-}{-}+{-}{-}{-}{-}{-}{-}+                          |}
    |  |  INTERNAL   |                          |
    |  |  DATA BUS   |                          |
    |  +{-{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}+                          |}
    +{-{-}{-}{-}{-}{-}{-}{-}{-}|{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
              |
    +{-{-}{-}{-}{-}{-}{-}{-}{-}v{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
    |  ADDRESS, DATA \& CONTROL BUS INTERFACE    |
    +{-{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}\^{}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
           |         |           |
           v         v           v
        ADDRESS     DATA      CONTROL
          BUS       BUS         BUS
\end{verbatim}

\textbf{Main Components:}

\begin{itemize}
\tightlist
\item
  \textbf{Register Array}: A (Accumulator), Flags, B-L, SP, PC, temp
  registers
\item
  \textbf{ALU}: Performs arithmetic and logical operations
\item
  \textbf{Timing \& Control}: Generates control signals, handles
  interrupts
\item
  \textbf{Bus Interface}: Connects CPU to external devices
\item
  \textbf{Internal Data Bus}: Links internal components
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``RATBI'' - ``Registers, ALU, Timing, Buses,
Interface''

\end{mnemonicbox}
\subsection*{Question 2(a OR) [3
marks]}\label{question-2a-or-3-marks}

\textbf{Explain Accumulator, Program Counter and Stack Pointer.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5000}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5000}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Register
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Accumulator (A)} & 8-bit register that stores results of
arithmetic and logical operations \\
\textbf{Program Counter (PC)} & 16-bit register that holds address of
next instruction to be executed \\
\textbf{Stack Pointer (SP)} & 16-bit register that points to current top
of stack in memory \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
Accumulator:      Program Counter:      Stack Pointer:
+{-{-}{-}{-}{-}{-}{-}{-}+        +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|   A    | {{-}{-}{-}  |      PC      |{-}{-}{-}{-} |      SP      |{-}{-}{-}+}
+{-{-}{-}{-}{-}{-}{-}{-}+        +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+      +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
Data operations   Points to next        Points to          |
                  instruction           stack top          v
                                                      +{-{-}{-}{-}{-}{-}{-}{-}+}
                                                      | Stack  |
                                                      | Memory |
                                                      +{-{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``APS'' - ``Accumulator Processes, PC Predicts, SP
Stacks''

\end{mnemonicbox}
\subsection*{Question 2(b OR) [4
marks]}\label{question-2b-or-4-marks}

\textbf{Sketch and explain Demultiplexing of Address bus and data bus.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
                   +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
A15{-A8 {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}|          |}
                   |          |{-{-}{-}{-}{-}{-}{-}{-}{-} A15{-}A8 (Higher Address)}
                   |          |
AD7{-AD0 {-}{-}{-}{-}{-}{-}{-}{-}{-}| 8085 CPU |{-}{-}{-}{-}+}
                   |          |     |
                   |          |     |    +{-{-}{-}{-}{-}{-}{-}{-}+}
                   +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}| 74LS373|{-}{-}{-}{-} A7{-}A0 (Lower Address)}
                        |                | Latch  |
                        |                +{-{-}{-}{-}{-}{-}{-}{-}+}
                        |                    \^{}
                        |                    |
                     ALE {-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\end{verbatim}

\textbf{Process}:

\begin{enumerate}
\tightlist
\item
  \textbf{Multiplexing}: AD0-AD7 pins share address and data signals to
  reduce pin count
\item
  \textbf{Demultiplexing Steps}:

  \begin{itemize}
  \tightlist
  \item
    CPU places address on AD0-AD7 pins
  \item
    ALE (Address Latch Enable) signal goes HIGH
  \item
    External latch (74LS373) captures lower address bits
  \item
    ALE goes LOW, latching the address
  \item
    AD0-AD7 pins now carry data
  \end{itemize}
\end{enumerate}

\end{solutionbox}
\begin{mnemonicbox}
``ALAD'' - ``ALE Active, Latch Address, After Data''

\end{mnemonicbox}
\subsection*{Question 2(c OR) [7
marks]}\label{question-2c-or-7-marks}

\textbf{List any seven features of 8085.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4091}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5909}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Feature
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{8-bit Data Bus} & Transfers 8 bits of data in parallel \\
\textbf{16-bit Address Bus} & Can address up to 64KB of memory
(2\^{}16) \\
\textbf{Hardware Interrupts} & 5 hardware interrupts (TRAP, RST 7.5,
6.5, 5.5, INTR) \\
\textbf{Serial I/O} & SID and SOD pins for serial communication \\
\textbf{Clock Generation} & On-chip clock generator with crystal \\
\textbf{Instruction Set} & 74 operation codes generating 246
instructions \\
\textbf{Register Set} & Six 8-bit registers (B,C,D,E,H,L), accumulator,
flags, SP, PC \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
           8085 Features
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
| +{-{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
| |  8{-bit |       | 5 HW     |   |}
| |  Data  |       | Interrupt|   |
| |  Bus   |       | Lines    |   |
| +{-{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
|                                 |
| +{-{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}+    |}
| | 16{-bit |       | 74      |    |}
| | Address|       | Opcodes |    |
| |  Bus   |       |         |    |
| +{-{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}+    |}
|                                 |
| +{-{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}+    |}
| | Serial |       | On{-chip |    |}
| |  I/O   |       | Clock   |    |
| |        |       |         |    |
| +{-{-}{-}{-}{-}{-}{-}{-}+       +{-}{-}{-}{-}{-}{-}{-}{-}{-}+    |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``CHAIRS'' - ``Clock, Hardware interrupts, Address
bus, Instruction set, Registers, Serial I/O''

\end{mnemonicbox}
\subsection*{Question 3(a) [3 marks]}\label{q3a}

\textbf{Illustrate any one Timer Mode of 8051.}

\begin{solutionbox}

\textbf{Mode 1: 16-bit Timer/Counter}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Feature & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Timer Structure} & 16-bit timer using THx and TLx registers \\
\textbf{Operation} & Counts from 0000H to FFFFH, then sets TF flag \\
\textbf{Counter Size} & Full 16-bit counter (2\^{}16 = 65,536 counts) \\
\textbf{Registers} & THx (high byte) and TLx (low byte) \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
                        TF (Timer Flag)
                              \^{}
                              |
+{-{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}+   +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
| Control|{-{-}{-}| Gate   |{-}{-}| Overflow |}
| Bits   |    | Control|   | Detect   |
+{-{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}+   +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
                 |
                 v
Clock Source {-{-} THx:TLx Counter {-}{-} TFx}
                (16{-bit counter)}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``MOGC'' - ``Mode 1 uses Overflow detection, Gate
control, Complete 16-bits''

\end{mnemonicbox}
\subsection*{Question 3(b) [4 marks]}\label{q3b}

\textbf{State function of ALE, PSEN, RESET and TXD pin for 8051.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6667}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Pin
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{ALE} & Address Latch Enable - Provides control signal to latch
low byte of address from port 0 \\
\textbf{PSEN} & Program Store Enable - Read strobe for external program
memory access \\
\textbf{RESET} & Reset input - Forces CPU to initial state when held
HIGH for 2 machine cycles \\
\textbf{TXD} & Transmit Data - Serial port output pin for serial data
transmission \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
   8051 Pin Functions
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|                    |
|      +{-{-}{-}{-}{-}{-}+      |}
| ALE {-|      |{-} TXD |}
|      |      |      |
| PSEN{-| 8051 |      |}
|      |      |      |
|RESET{-|      |      |}
|      +{-{-}{-}{-}{-}{-}+      |}
|                    |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``APTR'' - ``Address latch, Program store, Total
reset, tRansmit data''

\end{mnemonicbox}
\subsection*{Question 3(c) [7 marks]}\label{q3c}

\textbf{Explain functions of each block of 8051 Microcontroller.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4118}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5882}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Block
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{CPU} & 8-bit processor that fetches and executes instructions \\
\textbf{Memory} & 4KB internal ROM and 128 bytes of internal RAM \\
\textbf{I/O Ports} & Four 8-bit bidirectional I/O ports (P0-P3) \\
\textbf{Timers/Counters} & Two 16-bit timers/counters for timing and
counting \\
\textbf{Serial Port} & Full-duplex UART for serial communication \\
\textbf{Interrupts} & Five interrupt sources with two priority levels \\
\textbf{Clock Circuit} & Provides timing for all operations \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|                    8051 ARCHITECTURE                  |
|                                                       |
|  +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     |}
|  |          |     |          |     |            |     |
|  |   CPU    |{{-}{-}{-}|  Timers/ |     |  Interrupts|     |}
|  |          |     | Counters |     |            |     |
|  +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     |}
|       \^{                                  \^{}            |}
|       |                                  |            |
|       v                                  v            |
|  +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     |}
|  |          |     |          |     |            |     |
|  | Memory   |{{-}{-}{-}|  Serial  |{-}{-}{-}| I/O Ports  |     |}
|  | RAM/ROM  |     |   Port   |     |P0,P1,P2,P3 |     |
|  +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     |}
|                                                       |
|                  Clock Circuit                        |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``CRIMSON'' - ``CPU, RAM/ROM, I/O, Memory, Serial
port, Oscillator, iNterrupts''

\end{mnemonicbox}
\subsection*{Question 3(a OR) [3
marks]}\label{question-3a-or-3-marks}

\textbf{Illustrate any one Serial Communication Mode of 8051.}

\begin{solutionbox}

\textbf{Mode 1: 8-bit UART}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Feature & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Format} & 10 bits (start bit, 8 data bits, stop bit) \\
\textbf{Baud Rate} & Variable, determined by Timer 1 \\
\textbf{Data Direction} & Full-duplex (simultaneous transmit and
receive) \\
\textbf{Pins Used} & TXD (P3.1) for transmit, RXD (P3.0) for receive \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
                   SBUF            P3.1 (TXD)
                    |                  \^{}
                    v                  |
+{-{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
| Timer 1|{-{-}{-}| Baud Rate  |{-}{-}{-}| Transmit  |{-}{-}{-} Serial Out}
+{-{-}{-}{-}{-}{-}{-}{-}+    | Generator  |    | Shift Reg |}
              +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
                    |
                    v
              +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
              | Receive    |{{-}{-}{-} Serial In}
              | Shift Reg  |     P3.0 (RXD)
              +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
                    |
                    v
                   SBUF
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``FADS'' - ``Format 10-bit, Auto baud from Timer 1,
Duplex mode, Standard UART''

\end{mnemonicbox}
\subsection*{Question 3(b OR) [4
marks]}\label{question-3b-or-4-marks}

\textbf{State function of RXD, INT0, T0 and PROG pin for 8051.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6667}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Pin
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{RXD (P3.0)} & Receive Data - Serial port input pin for serial
data reception \\
\textbf{INT0 (P3.2)} & External Interrupt 0 - Input that can trigger
external interrupt \\
\textbf{T0 (P3.4)} & Timer 0 - External count input for Timer/Counter
0 \\
\textbf{PROG (EA)} & Program Enable - When LOW, forces CPU to fetch code
from external memory \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
   8051 Pin Functions
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|                    |
|      +{-{-}{-}{-}{-}{-}+      |}
| RXD {-|      |{-} PROG|}
|      |      |      |
| INT0{-| 8051 |      |}
|      |      |      |
| T0  {-|      |      |}
|      +{-{-}{-}{-}{-}{-}+      |}
|                    |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``RIPE'' - ``Receive data, Interrupt trigger, Pulse
counting, External memory''

\end{mnemonicbox}
\subsection*{Question 3(c OR) [7
marks]}\label{question-3c-or-7-marks}

\textbf{Describe ALU, PC, DPTR, RS0, RS1, Internal RAM and Internal ROM
of 8051.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4583}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5417}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Component
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{ALU} & Arithmetic Logic Unit - Performs math and logical
operations \\
\textbf{PC} & Program Counter - 16-bit register that points to next
instruction \\
\textbf{DPTR} & Data Pointer - 16-bit register (DPH+DPL) for external
memory addressing \\
\textbf{RS0, RS1} & Register Bank Select bits in PSW - Select one of
four register banks \\
\textbf{Internal RAM} & 128 bytes on-chip RAM (00H-7FH) for variables
and stack \\
\textbf{Internal ROM} & 4KB on-chip ROM (0000H-0FFFH) for program
storage \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
8051 Memory Organization:
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+ 0FFFH}
|                   |
|  Internal ROM     |
|  (4KB)            |
|                   |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+ 0000H}

Internal RAM:
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+ 7FH}
|  Scratch Pad      |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+ 30H}
|  Bit{-addressable  |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+ 20H}
|  Register Banks   |
|  (RS0,RS1 select) |
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+ 00H}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``APRID'' - ``ALU Processes, PC Remembers, Register
bank select, Internal memory, DPTR points''

\end{mnemonicbox}
\subsection*{Question 4(a) [3 marks]}\label{q4a}

\textbf{Develop an Assembly language program to divide 08H by 02H.}

\begin{solutionbox}

\begin{verbatim}
      MOV A, \#08H    ; Load dividend 08H into accumulator
      MOV B, \#02H    ; Load divisor 02H into B register
DIV AB         ; Divide A by B (A=quotient,

B=remainder)

      MOV R0, A      ; Store quotient in R0 (04H)
      MOV R1, B      ; Store remainder in R1 (00H)
\end{verbatim}

\textbf{Diagram:}

\begin{verbatim}
Before DIV AB:       After DIV AB:
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
| A: 08H |           | A: 04H | (Quotient)
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
| B: 02H |           | B: 00H | (Remainder)
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``LDDS'' - ``Load dividend, Divisor in B, Divide,
Store results''

\end{mnemonicbox}
\subsection*{Question 4(b) [4 marks]}\label{q4b}

\textbf{Develop an Assembly language program to add 76H and 32H.}

\begin{solutionbox}

\begin{verbatim}
      MOV A, \#76H    ; Load first number 76H into accumulator
      MOV R0, \#32H   ; Load second number 32H into R0
      ADD A, R0      ; Add R0 to A (76H + 32H = A8H)
      MOV R1, A      ; Store result in R1 (A8H)
      JNC DONE       ; Jump if no carry
      MOV R2, \#01H   ; If carry occurred, store 1 in R2
DONE: NOP            ; End program
\end{verbatim}

\textbf{Diagram:}

\begin{verbatim}
+{-{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}+}
| 76H  | + ? | 32H  | = ? | A8H    | + Carry Flag
+{-{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}+}

Calculation:
   76H = 0111 0110
 + 32H = 0011 0010
{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
   A8H = 1010 1000
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``LASER'' - ``Load A, Store second number, Execute
addition, Result stored''

\end{mnemonicbox}
\subsection*{Question 4(c) [7 marks]}\label{q4c}

\textbf{What is Addressing mode? Classify it for 8051.}

\begin{solutionbox}

\textbf{Addressing Mode}: Method to specify the location of operand/data
for an instruction.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4359}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2308}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Addressing Mode
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Example
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Register} & Operand in register & \texttt{MOV\ A,\ R0} (Move R0
to A) \\
\textbf{Direct} & Operand at specific memory location &
\texttt{MOV\ A,\ 30H} (Move data from 30H to A) \\
\textbf{Register Indirect} & Register contains address of operand &
\texttt{MOV\ A,\ @R0} (Move data from address in R0 to A) \\
\textbf{Immediate} & Operand is part of instruction &
\texttt{MOV\ A,\ \#55H} (Load A with 55H) \\
\textbf{Indexed} & Base address + offset & \texttt{MOVC\ A,\ @A+DPTR}
(Get code byte at A+DPTR) \\
\textbf{Bit} & Individual bit addressable & \texttt{SETB\ P1.0} (Set bit
0 of Port 1) \\
\textbf{Implied/Inherent} & Operand implied by instruction &
\texttt{RRC\ A} (Rotate A right with carry) \\
\end{longtable}
}

\textbf{Diagram:}

\begin{verbatim}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
| Register         |    | Direct           |    | Indirect         |
| MOV A, R5        |    | MOV A, 40H       |    | MOV A, @R1       |
| +{-{-}{-}+     +{-}{-}{-}+  |    | +{-}{-}{-}+     +{-}{-}{-}+  |    | +{-}{-}{-}+    +{-}{-}{-}+   |}
| | A |{{-}{-}{-}{-}| R5|  |    | | A |{-}{-}{-}{-}|40H|  |    | | A |{-}{-}{-}| X |   |}
| +{-{-}{-}+     +{-}{-}{-}+  |    | +{-}{-}{-}+     +{-}{-}{-}+  |    | +{-}{-}{-}+    +{-}{-}{-}+   |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+    |            \^{}     |}
                                                |         +{-{-}+{-}{-}+  |}
                                                |         | R1=X|  |
                                                |         +{-{-}{-}{-}{-}+  |}
                                                +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``RIDDIB'' - ``Register, Immediate, Direct, Data
indirect, Indexed, Bit''

\end{mnemonicbox}
\subsection*{Question 4(a OR) [3
marks]}\label{question-4a-or-3-marks}

\textbf{Develop an Assembly language program to multiply 08H and 02H.}

\begin{solutionbox}

\begin{verbatim}
      MOV A, \#08H    ; Load first number 08H into accumulator
      MOV B, \#02H    ; Load second number 02H into B register
      MUL AB         ; Multiply A and B (B:A = result)
      MOV R0, A      ; Store low{-byte result in R0 (10H)}
      MOV R1, B      ; Store high{-byte result in R1 (00H)}
\end{verbatim}

\textbf{Diagram:}

\begin{verbatim}
Before MUL AB:       After MUL AB:
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
| A: 08H |           | A: 10H | (08H  02H = 10H)
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
| B: 02H |           | B: 00H | (High byte = 00H)
+{-{-}{-}{-}{-}{-}{-}{-}+           +{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``LMSR'' - ``Load numbers, Multiply, Store Result''

\end{mnemonicbox}
\subsection*{Question 4(b) [4 marks]}\label{q4b}

\textbf{Develop an Assembly language program to subtract 76H from 32H.}

\begin{solutionbox}

\begin{verbatim}
      MOV A, \#32H    ; Load 32H into accumulator
      MOV R0, \#76H   ; Load 76H into R0
      CLR C          ; Clear carry flag (borrow flag)
      SUBB A, R0     ; Subtract R0 from A with borrow (32H {- 76H = BCH)}
      MOV R1, A      ; Store result in R1 (BCH, which represents {-44H)}
\end{verbatim}

\textbf{Diagram:}

\begin{verbatim}
+{-{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}+}
| 32H  | {- ? | 76H  | = ? | BCH    | (represents {-}44H)}
+{-{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}+}

Calculation:
   32H = 0011 0010
 {- 76H = 0111 0110}
{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
   BCH = 1011 1100 (two{s complement of 44H)}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``LESS'' - ``Load first number, Enable borrow (CLR
C), Subtract, Store''

\end{mnemonicbox}
\subsection*{Question 4(c) [7 marks]}\label{q4c}

\textbf{List types of instruction set. Explain any three with one
example.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4634}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3171}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2195}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Instruction Group
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Example
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Arithmetic} & Mathematical operations & \texttt{ADD\ A,\ R0}
(Add R0 to A) \\
\textbf{Logical} & Logical operations & \texttt{ANL\ A,\ \#0FH} (AND A
with 0FH) \\
\textbf{Data Transfer} & Move data between locations &
\texttt{MOV\ A,\ R7} (Move R7 to A) \\
\textbf{Branch} & Change program flow & \texttt{JNZ\ LOOP} (Jump if A
not zero) \\
\textbf{Bit Manipulation} & Operate on individual bits &
\texttt{SETB\ P1.0} (Set bit 0 of Port 1) \\
\textbf{Machine Control} & Control processor operation & \texttt{NOP}
(No operation) \\
\end{longtable}
}

\textbf{Explained Instructions}:

\begin{enumerate}
\tightlist
\item
  \textbf{Data Transfer Instructions}:

  \begin{itemize}
  \tightlist
  \item
    Move data between registers, memory, or I/O ports
  \item
    Example: \texttt{MOV\ A,\ 30H} - Moves data from memory location 30H
    to accumulator
  \item
    Operation: \texttt{A\ \leftarrow\ [30H]}
  \end{itemize}
\item
  \textbf{Arithmetic Instructions}:

  \begin{itemize}
  \tightlist
  \item
    Perform mathematical operations like addition, subtraction, etc.
  \item
    Example: \texttt{ADD\ A,\ R0} - Adds content of R0 to accumulator
  \item
    Operation: \texttt{A\ \leftarrow\ A\ +\ R0}
  \end{itemize}
\item
  \textbf{Logical Instructions}:

  \begin{itemize}
  \tightlist
  \item
    Perform logical operations like AND, OR, XOR, NOT
  \item
    Example: \texttt{ANL\ A,\ \#0FH} - Masks upper nibble (keeps only
    lower nibble)
  \item
    Operation: \texttt{A\ \leftarrow\ A\ AND\ 0FH}
  \end{itemize}
\end{enumerate}

\textbf{Diagram:}

\begin{verbatim}
             8051 Instruction Types
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|                                       |
| +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
| | Data        |     | Branch      |   |
| | Transfer    |     | Instructions|   |
| +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
|                                       |
| +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
| | Arithmetic  |     | Bit         |   |
| | Instructions|     | Manipulation|   |
| +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
|                                       |
| +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
| | Logical     |     | Machine     |   |
| | Instructions|     | Control     |   |
| +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+     +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+   |}
+{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``BALDM'' - ``Branch, Arithmetic, Logical, Data
transfer, Machine control''

\end{mnemonicbox}
\subsection*{Question 5(a) [3 marks]}\label{q5a}

\textbf{Sketch interfacing of four LEDs with 8051 Microcontroller.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
                      +5V
                       |
                       |
          +{-{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+}
          |   |      |   |      |   |      |   |
          R1  |      R2  |      R3  |      R4  |  (220立 resistors)
          |   |      |   |      |   |      |   |
          +{-{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+}
            |          |          |          |
          +{-{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+}
          |   |      |   |      |   |      |   |
          LED1       LED2       LED3       LED4
          |   |      |   |      |   |      |   |
          +{-{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+      +{-}{-}{-}+}
            |          |          |          |
            |          |          |          |
            v          v          v          v
         +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
         |    P1.0   P1.1       P1.2       P1.3    |
         |                                         |
         |                8051                     |
         |                                         |
         +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Components}:

\begin{itemize}
\tightlist
\item
  8051 microcontroller
\item
  Four LEDs
\item
  Four current limiting resistors (220立)
\item
  Power supply
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``PALS'' - ``Port pins, Active-low control, LEDs,
Simple circuit''

\end{mnemonicbox}
\subsection*{Question 5(b) [4 marks]}\label{q5b}

\textbf{Sketch interfacing of 7 segment LED with 8051 Microcontroller.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
                    +5V
                     |
                     v
               +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
    P1.0 {-{-}{-}{-}{-}|a         |}
               |         /|
    P1.1 {-{-}{-}{-}{-}|b      /  |}
               |     7    |
    P1.2 {-{-}{-}{-}{-}|c  segment|}
               |   display|
    P1.3 {-{-}{-}{-}{-}|d        |}
               |         {|}
    P1.4 {-{-}{-}{-}{-}|e         |}
               |          |
    P1.5 {-{-}{-}{-}{-}|f         |}
               |          |
    P1.6 {-{-}{-}{-}{-}|g         |}
               |          |
               +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
                    |
                    |
                   GND
        +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
        |                |
        |      8051      |
        |                |
        +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Components}:

\begin{itemize}
\tightlist
\item
  8051 microcontroller
\item
  7-segment LED display (common cathode)
\item
  Seven current limiting resistors (not shown)
\item
  Power supply
\end{itemize}

\textbf{Code Example}:

\begin{verbatim}
; Define segment patterns for digits 0{-9}
DIGITS: DB 3FH, 06H, 5BH, 4FH, 66H, 6DH, 7DH, 07H, 7FH, 6FH
  
; Display digit 5
MOV A, \#6DH      ; Segment pattern for 5
MOV P1, A        ; Send to port P1
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``SPACE-7'' - ``Seven Pins, Active segments, Common
ground, Easy display''

\end{mnemonicbox}
\subsection*{Question 5(c) [7 marks]}\label{q5c}

\textbf{Explain interfacing of DAC with 8051 Microcontroller and write
necessary program.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
+{-{-}{-}{-}{-}{-}{-}{-}+              +{-}{-}{-}{-}{-}{-}{-}{-}+          +{-}{-}{-}{-}{-}{-}{-}{-}+}
|        |              |        |          |        |
|        |{-P1.0{-}P1.7{-}{-}{-}|D0{-}D7   |          |        |}
|  8051  |              |        |{-Output{-}{-}| Filter |{-}{-}{-} Analog}
|        |              | DAC0808|          |        |     Output
|        |{-P3.0{-}{-}{-}{-}{-}{-}{-}{-}|CS      |          |        |}
|        |              |        |          |        |
+{-{-}{-}{-}{-}{-}{-}{-}+              +{-}{-}{-}{-}{-}{-}{-}{-}+          +{-}{-}{-}{-}{-}{-}{-}{-}+}
                            |
                        +{-{-}{-}+{-}{-}{-}+}
                        | {-5V   |}
                        | +5V   |
                        | GND   |
                        +{-{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Components}:

\begin{itemize}
\tightlist
\item
  8051 microcontroller
\item
  DAC0808 (8-bit digital-to-analog converter)
\item
  Operational amplifier for output buffering
\item
  RC filter for smoothing
\item
  Power supply
\end{itemize}

\textbf{Connections}:

\begin{itemize}
\tightlist
\item
  P1.0-P1.7 \rightarrow D0-D7 (8-bit digital input)
\item
  P3.0 \rightarrow CS (Chip Select)
\end{itemize}

\textbf{Program for generating a sawtooth wave}:

\begin{verbatim}
START:  MOV R0, \#00H     ; Initialize R0 to 0
LOOP:   MOV P1, R0       ; Output value to DAC
        CALL DELAY       ; Wait for some time
        INC R0           ; Increment value
        SJMP LOOP        ; Repeat to create sawtooth wave

DELAY:  MOV R7, \#50      ; Load delay counter
DELAY1: MOV R6, \#255     ; Inner loop counter
DELAY2: DJNZ R6, DELAY2  ; Decrement R6 until zero
        DJNZ R7, DELAY1  ; Decrement R7 until zero
        RET              ; Return from subroutine
\end{verbatim}

\textbf{Working Principle}:

\begin{enumerate}
\tightlist
\item
  Digital value is output on Port 1
\item
  DAC converts 8-bit digital value to proportional analog voltage
\item
  Filter smooths the output signal
\item
  Program creates a sawtooth wave by incrementing output value
\end{enumerate}

\end{solutionbox}
\begin{mnemonicbox}
``DICAF'' - ``Digital input, Increment, Convert to
analog, Amplify, Filter''

\end{mnemonicbox}
\subsection*{Question 5(a OR) [3
marks]}\label{question-5a-or-3-marks}

\textbf{Sketch interfacing of four Switches with 8051 Microcontroller.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
      +5V
       |
       |
      +{-+}
      | |
      | | 10K立 Pull{-up}
      | | Resistors
      +{-+}
       |              S1        S2        S3        S4
       +{-{-}{-}{-}{-}+        |         |         |         |}
       |     |        |         |         |         |
       +{-{-}{-}{-}{-}+        |         |         |         |}
       |     |        |         |         |         |
       +{-{-}{-}{-}{-}+        |         |         |         |}
       |     |        |         |         |         |
       +{-{-}{-}{-}{-}+        |         |         |         |}
       |              v         v         v         v
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
    |                P1.0      P1.1      P1.2    P1.3   |
    |                                                   |
    |                        8051                       |
    |                                                   |
    +{-{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Components}:

\begin{itemize}
\tightlist
\item
  8051 microcontroller
\item
  Four push buttons (normally open)
\item
  Pull-up resistors (10K立)
\item
  Power supply
\end{itemize}

\textbf{Working Principle}:

\begin{itemize}
\tightlist
\item
  Switches connect to ground when pressed
\item
  Port pins read HIGH (1) when switch open
\item
  Port pins read LOW (0) when switch pressed
\end{itemize}

\end{solutionbox}
\begin{mnemonicbox}
``PIPS'' - ``Pull-ups, Input pins, Press for zero,
Switches''

\end{mnemonicbox}
\subsection*{Question 5(b) [4 marks]}\label{q5b}

\textbf{Sketch interfacing of Stepper motor with 8051 Microcontroller.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
                       +12V
                        |
                        v
+{-{-}{-}{-}{-}{-}{-}{-}+         +{-}{-}{-}{-}{-}{-}{-}{-}+        +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
|        |         |        |        |          |
|  8051  |{-{-}P1.0{-}{-}| ULN2003|{-}{-}Out1{-}{-}+ A        |}
|        |         | Driver |        |          |
|        |{-{-}P1.1{-}{-}|        |{-}{-}Out2{-}{-}+ B        |}
|        |         |        |        |          |
|        |{-{-}P1.2{-}{-}|        |{-}{-}Out3{-}{-}+ C Stepper|}
|        |         |        |        |    Motor |
|        |{-{-}P1.3{-}{-}|        |{-}{-}Out4{-}{-}+ D        |}
|        |         |        |        |          |
+{-{-}{-}{-}{-}{-}{-}{-}+         +{-}{-}{-}{-}{-}{-}{-}{-}+        +{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Components}:

\begin{itemize}
\tightlist
\item
  8051 microcontroller
\item
  ULN2003 driver IC
\item
  Stepper motor (4-phase)
\item
  Power supply
\end{itemize}

\textbf{Excitation Sequence}:

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
Step & P1.3 (D) & P1.2 (C) & P1.1 (B) & P1.0 (A) & Hex Value \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 0 & 0 & 0 & 1 & 01H \\
2 & 0 & 0 & 1 & 0 & 02H \\
3 & 0 & 1 & 0 & 0 & 04H \\
4 & 1 & 0 & 0 & 0 & 08H \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``CUPS'' - ``Controller outputs sequence, ULN2003
amplifies, Phases energized, Stepping motion''

\end{mnemonicbox}
\subsection*{Question 5(c) [7 marks]}\label{q5c}

\textbf{Explain interfacing of ADC with 8051 Microcontroller and write
necessary program.}

\begin{solutionbox}

\textbf{Diagram:}

\begin{verbatim}
           +5V
            |
            v
Analog    +{-{-}{-}{-}{-}{-}{-}{-}+              +{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
Input{-{-}{-}{-}|        |              |         |}
          | ADC0804|{-D0{-}D7{-}{-}{-}{-}{-}{-}{-}|P1.0{-}P1.7|}
          |        |              |         |
VREF/2{-{-}{-}|        |              |         |}
          |        |              |   8051  |
+5V{-{-}{-}{-}{-}{-}|Vcc     |              |         |}
          |        |{{-}{-}{-}{-}{-}{-}CS{-}{-}{-}{-}{-}| P3.0    |}
GND{-{-}{-}{-}{-}{-}|GND     |              |         |}
          |        |{{-}{-}{-}{-}{-}{-}RD{-}{-}{-}{-}{-}| P3.1    |}
+5V{-{-}{-}{-}{-}{-}|INTR    |              |         |}
          |        |{{-}{-}{-}{-}{-}{-}WR{-}{-}{-}{-}{-}| P3.2    |}
          +{-{-}{-}{-}{-}{-}{-}{-}+              +{-}{-}{-}{-}{-}{-}{-}{-}{-}+}
\end{verbatim}

\textbf{Components}:

\begin{itemize}
\tightlist
\item
  8051 microcontroller
\item
  ADC0804 (8-bit analog-to-digital converter)
\item
  Reference voltage source
\item
  Input conditioning circuit (not shown)
\end{itemize}

\textbf{Connections}:

\begin{itemize}
\tightlist
\item
  P1.0-P1.7 \leftarrow D0-D7 (8-bit digital output from ADC)
\item
  P3.0 \rightarrow CS (Chip Select)
\item
  P3.1 \rightarrow RD (Read)
\item
  P3.2 \rightarrow WR (Write)
\end{itemize}

\textbf{Program for reading analog input}:

\begin{verbatim}
START:  MOV P1, \#0FFH    ; Configure P1 as input port
        
READ:   CLR P3.0         ; Enable ADC (CS = 0)
        CLR P3.2         ; Start conversion (WR = 0)
        NOP              ; Small delay
        NOP
        SETB P3.2        ; WR = 1
        
WAIT:   JB P3.3, WAIT    ; Wait for conversion (INTR = 0)
        
        CLR P3.1         ; RD = 0 to read data
        MOV A, P1        ; Read converted value
        SETB P3.1        ; RD = 1
        SETB P3.0        ; Disable ADC (CS = 1)
        
PROCESS:                 ; Process the data as needed
        ; Example: Store in R0
        MOV R0, A
        
        SJMP READ        ; Repeat for continuous conversion
\end{verbatim}

\textbf{Working Principle}:

\begin{enumerate}
\tightlist
\item
  Controller sends start conversion signal
\item
  ADC converts analog input to 8-bit digital value
\item
  Controller reads digital value after conversion complete
\item
  Program processes the digital value as required
\end{enumerate}

\end{solutionbox}
\begin{mnemonicbox}
``CARSW'' - ``Convert Analog, Read Digital, Start
conversion, Wait for completion''

\end{mnemonicbox}

\end{document}
