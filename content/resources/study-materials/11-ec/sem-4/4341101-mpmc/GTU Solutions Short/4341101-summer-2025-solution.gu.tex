\documentclass{article}
\input{../../../../../../../latex-templates/gtu-solutions-short/preamble.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/gujarati-boxes.tex}
\input{../../../../../../../latex-templates/gtu-solutions-short/commands.tex}
\usetikzlibrary{mindmap,trees}

\title{માઇક્રોપ્રોસેસર અને માઇક્રોકંટ્રોલર (4341101) - ઉનાળો 2025 ઉકેલ}
\date{May 13, 2025}

\begin{document}
\maketitle

\questionmarks{1}{a}{3}
\textbf{માઇક્રોપ્રોસેસરને વ્યાખ્યાયિત કરો અને તેનો બ્લોક ડાયાગ્રામ દોરો.}

\begin{solutionbox}
\textbf{જવાબ}:
\textbf{માઇક્રોપ્રોસેસર} એક પ્રોગ્રામેબલ ડિજિટલ ઉપકરણ છે જે સંગ્રહિત સૂચનાઓ અનુસાર ડેટા પર અંકગણિત અને તાર્કિક કામગીરી કરે છે.

\textbf{બ્લોક ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, auto]
    \node [gtu block] (cpu) {CPU\\(Microprocessor)};
    \node [gtu block, left of=cpu, node distance=3.5cm] (input) {Input Device};
    \node [gtu block, right of=cpu, node distance=3.5cm] (output) {Output Device};
    \node [gtu block, below of=cpu, node distance=2.5cm] (memory) {Memory Unit};
    
    \draw [gtu arrow] (input) -- (cpu);
    \draw [gtu arrow] (cpu) -- (output);
    \draw [gtu arrow, <->] (cpu) -- (memory);
    
    % Internal CPU blocks visualization
    \node [draw, dashed, fit=(cpu), label=above:System Bus] {};
\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \textbf{CPU}: \textbf{સેન્ટ્રલ પ્રોસેસિંગ યુનિટ} બધી કામગીરી કરે છે
    \item \textbf{મેમરી}: \textbf{પ્રોગ્રામ અને ડેટા} સંગ્રહ કરે છે
    \item \textbf{કંટ્રોલ યુનિટ}: \textbf{સૂચના અમલીકરણ} ક્રમને નિયંત્રિત કરે છે
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``મારું કમ્પ્યુટર પ્રોગ્રામ સમજે'' (મેમરી-CPU-પ્રોગ્રામ-સૂચનાઓ)
\end{mnemonicbox}

\questionmarks{1}{b}{4}
\textbf{યોગ્ય instruction ના ઉદાહરણ સાથે ઓપરેન્ડ અને ઓપકોડ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:
\textbf{ઓપકોડ} કરવાની કામગીરી સ્પષ્ટ કરે છે. \textbf{ઓપરેન્ડ} કામગીરી થવાનો ડેટા સ્પષ્ટ કરે છે.

\textbf{ઉદાહરણ કોષ્ટક:}

\begin{center}
\captionof{table}{સૂચના ભાગો}
\begin{tabulary}{\linewidth}{|l|l|l|J|}
\hline
\textbf{સૂચના} & \textbf{ઓપકોડ} & \textbf{ઓપરેન્ડ} & \textbf{કાર્ય} \\ \hline
\code{MOV A,B} & MOV & A,B & B ને A માં ખસેડો \\ \hline
\code{ADD A,\#05H} & ADD & A,\#05H & A માં 05H ઉમેરો \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \textbf{ઓપકોડ}: \textbf{ઓપરેશન કોડ} (MOV, ADD, SUB)
    \item \textbf{ઓપરેન્ડ}: \textbf{ડેટા કે એડ્રેસ} (A, B, \#05H)
    \item \textbf{ફોર્મેટ}: \textbf{ઓપકોડ + ઓપરેન્ડ = સંપૂર્ણ સૂચના}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``ઓપરેશન ઓન ડેટા'' (ઓપકોડ-ઓપરેન્ડ-ડેટા)
\end{mnemonicbox}

\questionmarks{1}{c}{7}
\textbf{માઇક્રોપ્રોસેસર અને માઇક્રોકંટ્રોલરની સરખામણી કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{સરખામણી}
\begin{tabulary}{\linewidth}{|l|J|J|}
\hline
\textbf{પેરામીટર} & \textbf{માઇક્રોપ્રોસેસર} & \textbf{માઇક્રોકંટ્રોલર} \\ \hline
\textbf{વ્યાખ્યા} & માત્ર CPU & CPU + મેમરી + I/O \\ \hline
\textbf{મેમરી} & બાહ્ય RAM/ROM & આંતરિક RAM/ROM \\ \hline
\textbf{I/O પોર્ટ્સ} & બાહ્ય ઇન્ટરફેસ & બિલ્ટ-ઇન પોર્ટ્સ \\ \hline
\textbf{કિંમત} & વધુ સિસ્ટમ કિંમત & ઓછી સિસ્ટમ કિંમત \\ \hline
\textbf{પાવર} & વધુ વપરાશ & ઓછો વપરાશ \\ \hline
\textbf{ઝડપ} & ઝડપી પ્રક્રિયા & મધ્યમ ઝડપ \\ \hline
\textbf{ઉપયોગ} & કમ્પ્યુટર, લેપટોપ & વોશિંગ મશીન, માઇક્રોવેવ \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \textbf{માઇક્રોપ્રોસેસર}: \textbf{સામાન્ય હેતુ} કમ્પ્યુટિંગ
    \item \textbf{માઇક્રોકંટ્રોલર}: \textbf{વિશિષ્ટ એમ્બેડેડ} એપ્લિકેશન્સ
    \item \textbf{ઇન્ટિગ્રેશન}: \textbf{માઇક્રોકંટ્રોલર} માં બધું એક ચિપ પર
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``માઇક્રો મીન્સ મોર ઇન્ટિગ્રેશન'' (માઇક્રોકંટ્રોલર-મેમરી-મોર-ઇન્ટેગ્રેશન)
\end{mnemonicbox}

\orquestionmarks{1}{c}{7}
\textbf{RISC અને CISC ની સરખામણી કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{RISC vs CISC}
\begin{tabulary}{\linewidth}{|l|J|J|}
\hline
\textbf{પેરામીટર} & \textbf{RISC} & \textbf{CISC} \\ \hline
\textbf{સૂચનાઓ} & સરળ, ઓછી & જટિલ, વધુ \\ \hline
\textbf{સૂચના સાઇઝ} & નિશ્ચિત લંબાઇ & વેરિયેબલ લંબાઇ \\ \hline
\textbf{એક્ઝિક્યુશન ટાઇમ} & સિંગલ સાઇકલ & બહુવિધ સાઇકલ \\ \hline
\textbf{મેમરી એક્સેસ} & ફક્ત લોડ/સ્ટોર & કોઇપણ સૂચના \\ \hline
\textbf{રજિસ્ટર્સ} & વધુ રજિસ્ટર્સ & ઓછા રજિસ્ટર્સ \\ \hline
\textbf{પાઇપલાઇન} & કાર્યક્ષમ પાઇપલાઇનિંગ & જટિલ પાઇપલાઇનિંગ \\ \hline
\textbf{ઉદાહરણો} & ARM, MIPS & x86, 8085 \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \textbf{RISC}: \textbf{રિડ્યુસ્ડ ઇન્સ્ટ્રક્શન સેટ કમ્પ્યુટર}
    \item \textbf{CISC}: \textbf{કોમ્પ્લેક્સ ઇન્સ્ટ્રક્શન સેટ કમ્પ્યુટર}
    \item \textbf{પર્ફોર્મન્સ}: \textbf{RISC ઝડપી, CISC વધુ લવચીક}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``રિડ્યુસ્ડ ઇન્સ્ટ્રક્શન્સ સ્પીડ કમ્પ્યુટિંગ'' (RISC-ઇન્સ્ટ્રક્શન્સ-સ્પીડ-કમ્પ્યુટિંગ)
\end{mnemonicbox}

\questionmarks{2}{a}{3}
\textbf{8085 માઇક્રોપ્રોસેસરનું બસ ઓર્ગેનાઇઝેશન સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:
8085 માં બાહ્ય ઉપકરણો સાથે સંચાર માટે \textbf{ત્રણ પ્રકારની} બસ છે.

\begin{center}
\captionof{table}{બસ ઓર્ગેનાઇઝેશન}
\begin{tabulary}{\linewidth}{|l|l|J|}
\hline
\textbf{બસ પ્રકાર} & \textbf{લાઇન્સ} & \textbf{કાર્ય} \\ \hline
\textbf{એડ્રેસ બસ} & 16 લાઇન્સ (A0-A15) & મેમરી એડ્રેસિંગ \\ \hline
\textbf{ડેટા બસ} & 8 લાઇન્સ (D0-D7) & ડેટા ટ્રાન્સફર \\ \hline
\textbf{કંટ્રોલ બસ} & બહુવિધ લાઇન્સ & કંટ્રોલ સિગ્નલ્સ \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \textbf{એડ્રેસ બસ}: \textbf{યુનિડાયરેક્શનલ}, 64KB મેમરી એડ્રેસિંગ
    \item \textbf{ડેટા બસ}: \textbf{બાઇડાયરેક્શનલ}, 8-બિટ ડેટા ટ્રાન્સફર
    \item \textbf{કંટ્રોલ બસ}: \textbf{રીડ, રાઇટ, IO/M સિગ્નલ્સ}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``એડ્રેસ ડેટા કંટ્રોલ'' (ADC)
\end{mnemonicbox}

\questionmarks{2}{b}{4}
\textbf{ડાયાગ્રામ સાથે ALE સિગ્નલનું કાર્ય સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:
\textbf{ALE (એડ્રેસ લેચ એનેબલ)} મલ્ટિપ્લેક્સ્ડ બસ પર એડ્રેસ અને ડેટાને અલગ કરે છે.

\textbf{ALE ટાઇમિંગ ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[scale=1, transform shape]
    % ALE Waveform
    \draw [thick] (0, 0) -- (1, 0) -- (1, 1) -- (2, 1) -- (2, 0) -- (5, 0);
    \node [left] at (0, 0.5) {ALE};
    
    % AD Bus
    \draw [thick] (0, -1.5) -- (0.5, -1.5) -- (1, -1) -- (2.5, -1) -- (3, -1.5) -- (3.5, -1) -- (5, -1) -- (5.5, -1.5);
    \draw [thick] (0.5, -1.5) -- (1, -2) -- (2.5, -2) -- (3, -1.5) -- (3.5, -2) -- (5, -2);
    
    \node [left] at (0, -1.5) {AD7-AD0};
    \node at (1.75, -1.5) {ADDR (A0-A7)};
    \node at (4.25, -1.5) {DATA (D0-D7)};
    
    % Dashed lines
    \draw [dashed] (1, 1) -- (1, -2.5);
    \draw [dashed] (2, 1) -- (2, -2.5);
    \node at (1.5, -2.5) {T1 State};
\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \textbf{હાઇ ALE}: \textbf{એડ્રેસ} AD0-AD7 પર ઉપલબ્ધ
    \item \textbf{લો ALE}: \textbf{ડેટા} AD0-AD7 પર ઉપલબ્ધ
    \item \textbf{કાર્ય}: \textbf{લોઅર એડ્રેસ બાઇટ} લેચ કરે છે
    \item \textbf{ફ્રીક્વન્સી}: ALE = Clock frequency $\div$ 2
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``એડ્રેસ લેચ એનેબલ'' (ALE)
\end{mnemonicbox}

\questionmarks{2}{c}{7}
\textbf{આકૃતિની મદદથી 8085 માઇક્રોપ્રોસેસરના આર્કિટેક્ચરનું વર્ણન કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, auto, scale=0.8, transform shape]
    % Registers
    \node [gtu block, minimum width=2cm] (acc) {Accumulator\\(8)};
    \node [gtu block, right of=acc, node distance=3cm, minimum width=2cm] (tr) {Temp Reg\\(8)};
    \node [gtu block, below of=acc, node distance=2cm, minimum width=2cm] (fr) {Flag Reg\\(5)};
    \node [gtu block, right of=fr, node distance=3cm] (alu) {ALU\\(8)};
    
    \node [gtu block, right of=tr, node distance=4cm, minimum width=3cm] (regs) {B(8) | C(8)\\D(8) | E(8)\\H(8) | L(8)};
    \node [gtu block, below of=regs, node distance=2.5cm, minimum width=3cm] (sp) {Stack Pointer (16)};
    \node [gtu block, below of=sp, node distance=1.5cm, minimum width=3cm] (pc) {Prog Counter (16)};
    
    % Buses
    \node [gtu block, below of=fr, node distance=4cm, minimum width=8cm] (bus) {Internal Data Bus (8)};
    
    % Control
    \node [gtu block, left of=bus, node distance=6cm] (control) {Timing \&\\Control Unit};
    \node [gtu block, above of=control] (ir) {Instruction\\Register};
    \node [gtu block, right of=ir] (id) {Decoder};
    
    % Connections
    \draw [gtu arrow, <->] (acc) -- (bus.160);
    \draw [gtu arrow, <->] (regs) -- (bus.20);
    \draw [gtu arrow] (tr) -- (alu);
    \draw [gtu arrow] (acc) -- (alu);
    \draw [gtu arrow] (alu) -- (fr);
    \draw [gtu arrow] (alu) -- (bus);
    
    \draw [gtu arrow] (bus) -| (ir);
    \draw [gtu arrow] (ir) -- (id);
    \draw [gtu arrow] (id) -- (control);
    
    % External
    \node [below of=bus, node distance=1.5cm] (buffers) {Address/Data Buffers};
    \draw [gtu arrow, <->] (bus) -- (buffers);

\end{tikzpicture}
\end{center}

\textbf{મુખ્ય ઘટકો:}
\begin{itemize}
    \item \textbf{ALU}: \textbf{અંકગણિત અને તાર્કિક} કામગીરી કરે છે
    \item \textbf{રજિસ્ટર્સ}: \textbf{અસ્થાયી ડેટા} સંગ્રહ કરે છે (A, B, C, D, E, H, L)
    \item \textbf{પ્રોગ્રામ કાઉન્ટર}: \textbf{આગળની સૂચના} તરફ નિર્દેશ કરે છે
    \item \textbf{સ્ટેક પોઇન્ટર}: \textbf{સ્ટેક ટોપ} તરફ નિર્દેશ કરે છે
    \item \textbf{કંટ્રોલ યુનિટ}: \textbf{કંટ્રોલ સિગ્નલ્સ} જનરેટ કરે છે
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``ઓલ રજિસ્ટર્સ પ્રોગ્રામ સ્ટેક કંટ્રોલ'' (A-R-P-S-C)
\end{mnemonicbox}

\orquestionmarks{2}{a}{3}
\textbf{8085 માઇક્રોપ્રોસેસરનો ફ્લેગ રજિસ્ટર દોરો અને તેને સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{ફ્લેગ રજિસ્ટર ફોર્મેટ:}

\begin{center}
\begin{tikzpicture}
    \foreach \x/\label in {0/C, 1/1, 2/P, 3/0, 4/AC, 5/0, 6/Z, 7/S} {
        \draw (\x,0) rectangle (\x+1,1);
        \node at (\x+0.5, 0.5) {\label};
        \node at (\x+0.5, 1.3) {D\x};
    }
\end{tikzpicture}
\end{center}

\textbf{ફ્લેગ કાર્યો:}
\begin{itemize}
    \item \textbf{S (સાઇન)}: \textbf{પરિણામ નેગેટિવ} હોય તો સેટ
    \item \textbf{Z (ઝીરો)}: \textbf{પરિણામ શૂન્ય} હોય તો સેટ
    \item \textbf{AC (ઓક્સિલિયરી કેરી)}: \textbf{BCD ઓપરેશન્સ} માટે સેટ
    \item \textbf{P (પેરિટી)}: \textbf{ઇવન પેરિટી} માટે સેટ
    \item \textbf{C (કેરી)}: \textbf{કેરી/બોરો} જ્યારે થાય તો સેટ
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``સમ ઝીરો ઓક્સિલિયરી પેરિટી કેરી'' (SZAPC)
\end{mnemonicbox}

\orquestionmarks{2}{b}{4}
\textbf{8085 માઇક્રોપ્રોસેસર માટે એડ્રેસ અને ડેટા બસોનું ડીમલ્ટિપ્લેક્સિંગ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:
\textbf{ડીમલ્ટિપ્લેક્સિંગ} AD0-AD7 લાઇન્સમાંથી એડ્રેસ અને ડેટા સિગ્નલ્સને અલગ કરે છે.

\textbf{ડીમલ્ટિપ્લેક્સિંગ સર્કિટ:}

\begin{center}
\begin{tikzpicture}[node distance=3cm, auto]
    \node (8085) [draw, minimum height=3cm] {8085};
    \node (latch) [gtu block, right of=8085, node distance=4cm] {Latch\\(74LS373)};
    
    \draw [thick] (8085.east) -- (latch.west) node[midway, above] {AD0-AD7};
    \draw [->, thick] (latch.east) -- ++(2,0) node[right] {A0-A7 (Address)};
    
    \draw [->, thick] ($(8085.east)+(2,0)$) -- ++(0, -1.5) -- ++(2,0) node[right] {D0-D7 (Data)};
    
    \draw [->, dashed] ($(8085.east)+(0,1)$) node[left] {ALE} -| (latch.north);
\end{tikzpicture}
\end{center}

\begin{itemize}
    \item \textbf{ALE હાઇ}: \textbf{એડ્રેસ} બાહ્ય લેચમાં લેચ થાય છે
    \item \textbf{ALE લો}: \textbf{ડેટા} બફર દ્વારા વહે છે
    \item \textbf{74LS373}: \textbf{સામાન્ય લેચ IC} વપરાય છે
    \item \textbf{ફાયદો}: \textbf{અલગ એડ્રેસ અને ડેટા બસ}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``એડ્રેસ લેચ એક્સ્ટર્નલ ડિમલ્ટિપ્લેક્સ'' (ALED)
\end{mnemonicbox}

\orquestionmarks{2}{c}{7}
\textbf{આકૃતિની મદદથી 8085 માઇક્રોપ્રોસેસરના પિન ડાયાગ્રામનું વર્ણન કરો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[scale=0.8, transform shape]
    \draw [thick] (0,0) rectangle (6,10);
    \node at (3,5) {\huge \textbf{8085}};
    \node at (3,9.5) {\footnotesize 40-Pin DIP};
    
    % Left Pins
    \foreach \y/\label/\pin in {9/X1/1, 8.5/X2/2, 8/RESET OUT/3, 7.5/SOD/4, 7/SID/5, 6.5/TRAP/6, 6/RST7.5/7, 5.5/RST6.5/8, 5/RST5.5/9, 4.5/INTR/10, 4/INTA/11, 3.5/AD0/12, 3/AD1/13, 2.5/AD2/14, 2/AD3/15, 1.5/AD4/16, 1/AD5/17, 0.5/AD6/18} {
        \draw (-0.5, \y) -- (0, \y);
        \node [left] at (-0.5, \y) {\tiny \label};
        \node [right] at (0, \y) {\tiny \pin};
    }
    
    % Right Pins
    \foreach \y/\label/\pin in {9/VCC/40, 8.5/HOLD/39, 8/HLDA/38, 7.5/CLK/37, 7/RESET IN/36, 6.5/READY/35, 6/IO/M/34, 5.5/S1/33, 5/RD/32, 4.5/WR/31, 4/ALE/30, 3.5/S0/29, 3/A15/28, 2.5/A14/27, 2/A13/26, 1.5/A12/25, 1/A11/24, 0.5/A10/23} {
        \draw (6, \y) -- (6.5, \y);
        \node [right] at (6.5, \y) {\tiny \label};
        \node [left] at (6, \y) {\tiny \pin};
    }
    
    % Bottom pins
    \draw (-0.5, 0.2) -- (0, 0.2); \node [left] at (-0.5, 0.2) {\tiny AD7}; \node [right] at (0, 0.2) {\tiny 19};
    \draw (6, 0.2) -- (6.5, 0.2); \node [right] at (6.5, 0.2) {\tiny A9}; \node [left] at (6, 0.2) {\tiny 22};
    
    \node at (3, 0.5) {VSS (20)};
\end{tikzpicture}
\end{center}

\textbf{પિન કેટેગરીઝ:}
\begin{itemize}
    \item \textbf{પાવર}: \textbf{VCC, VSS}
    \item \textbf{ક્લોક}: \textbf{X1, X2, CLK}
    \item \textbf{એડ્રેસ/ડેટા}: \textbf{AD0-AD7, A8-A15}
    \item \textbf{કંટ્રોલ}: \textbf{ALE, RD, WR, IO/M}
    \item \textbf{ઇન્ટરપ્ટ}: \textbf{INTR, INTA, RST7.5, RST6.5, RST5.5, TRAP}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``પાવર ક્લોક એડ્રેસ કંટ્રોલ ઇન્ટરપ્ટ'' (PCACI)
\end{mnemonicbox}

\questionmarks{3}{a}{3}
\textbf{DPTR અને PC નું કાર્ય લખો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{કાર્યો કોષ્ટક}
\begin{tabulary}{\linewidth}{|l|J|l|}
\hline
\textbf{રજિસ્ટર} & \textbf{કાર્ય} & \textbf{સાઇઝ} \\ \hline
\textbf{DPTR} & ડેટા પોઇન્ટર & 16-બિટ \\ \hline
\textbf{PC} & પ્રોગ્રામ કાઉન્ટર & 16-બિટ \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \textbf{DPTR કાર્યો}:
    \begin{itemize}
        \item \textbf{બાહ્ય ડેટા મેમરી} એક્સેસ કરે છે
        \item \textbf{MOVX સૂચનાઓ} માટે 16-બિટ એડ્રેસ
    \end{itemize}
    \item \textbf{PC કાર્યો}:
    \begin{itemize}
        \item \textbf{આગળની સૂચના} તરફ નિર્દેશ કરે છે
        \item \textbf{દરેક સૂચના ફેચ} પછી વધે છે
    \end{itemize}
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``ડેટા પ્રોગ્રામ કાઉન્ટર'' (DPC)
\end{mnemonicbox}

\questionmarks{3}{b}{4}
\textbf{8051 નું PCON SFR દોરો અને દરેક બિટનું કાર્ય સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{PCON રજિસ્ટર (87H):}

\begin{center}
\begin{tikzpicture}
    \foreach \x/\label/\bit in {0/SMOD/D7, 1/-/D6, 2/-/D5, 3/-/D4, 4/GF1/D3, 5/GF0/D2, 6/PD/D1, 7/IDL/D0} {
        \draw (\x,0) rectangle (\x+1,1);
        \node at (\x+0.5, 0.5) {\tiny \label};
        \node at (\x+0.5, 1.3) {\tiny \bit};
    }
\end{tikzpicture}
\end{center}

\textbf{બિટ કાર્યો:}
\begin{itemize}
    \item \textbf{SMOD}: \textbf{સીરિયલ પોર્ટ બોડ રેટ} ડબલર
    \item \textbf{GF1, GF0}: \textbf{સામાન્ય હેતુ} ફ્લેગ્સ
    \item \textbf{PD}: \textbf{પાવર ડાઉન મોડ} કંટ્રોલ
    \item \textbf{IDL}: \textbf{આઇડલ મોડ} કંટ્રોલ
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``સીરિયલ જનરલ પાવર આઇડલ'' (SGPI)
\end{mnemonicbox}

\questionmarks{3}{c}{7}
\textbf{આકૃતિની મદદથી 8051 માઇક્રોકંટ્રોલરનું આર્કિટેક્ચર સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{ડાયાગ્રામ:}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, auto, scale=0.8, transform shape]
    \node [gtu block] (cpu) {CPU};
    \node [gtu block, right of=cpu, node distance=3cm] (osc) {Oscillator};
    \node [gtu block, below of=cpu] (int) {Interrupt\\Control};
    \node [gtu block, right of=int, node distance=3cm] (bus) {Bus Control};
    
    \node [gtu block, left of=cpu, node distance=3.5cm] (rom) {4KB ROM};
    \node [gtu block, below of=rom] (ram) {128B RAM};
    
    \node [gtu block, right of=osc, node distance=3cm] (timers) {Timer 0\\Timer 1};
    \node [gtu block, below of=timers] (serial) {Serial Port\\(UART)};
    
    \node [gtu block, below of=int, minimum width=8cm] (ports) {I/O Ports (P0, P1, P2, P3)};
    
    \draw [gtu arrow, <->] (cpu) -- (rom);
    \draw [gtu arrow, <->] (cpu) -- (ram);
    \draw [gtu arrow] (osc) -- (cpu);
    \draw [gtu arrow] (int) -- (cpu);
    \draw [gtu arrow, <->] (cpu) -- (bus);
    \draw [gtu arrow, <->] (bus) -- (ports);
    \draw [gtu arrow, <->] (timers) -- (bus);
    \draw [gtu arrow, <->] (serial) -- (bus);
    
    \node [draw, dashed, fit=(cpu) (ports) (ram) (serial)] {};
\end{tikzpicture}
\end{center}

\textbf{મુખ્ય બ્લોક્સ:}
\begin{itemize}
    \item \textbf{CPU}: \textbf{ALU સાથે 8-બિટ} પ્રોસેસર
    \item \textbf{મેમરી}: \textbf{4KB ROM, 128B RAM}
    \item \textbf{ટાઇમર્સ}: \textbf{બે 16-બિટ} ટાઇમર્સ
    \item \textbf{સીરિયલ પોર્ટ}: \textbf{ફુલ ડુપ્લેક્સ UART}
    \item \textbf{I/O પોર્ટ્સ}: \textbf{ચાર 8-બિટ} પોર્ટ્સ
    \item \textbf{ઇન્ટરપ્ટ્સ}: \textbf{5 ઇન્ટરપ્ટ} સોર્સ
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``CPU મેમરી ટાઇમર સીરિયલ IO ઇન્ટરપ્ટ'' (CMTSII)
\end{mnemonicbox}

\orquestionmarks{3}{a}{3}
\textbf{8051 માઇક્રોકંટ્રોલરના સામાન્ય ફીચર્સની યાદી બનાવો.}

\begin{solutionbox}
\textbf{જવાબ}:
\textbf{સામાન્ય ફીચર્સ:}
\begin{itemize}
    \item \textbf{CPU}: \textbf{8-બિટ માઇક્રોકંટ્રોલર}
    \item \textbf{મેમરી}: \textbf{4KB ROM, 128B RAM}
    \item \textbf{I/O પોર્ટ્સ}: \textbf{32 I/O લાઇન્સ} (4 પોર્ટ્સ)
    \item \textbf{ટાઇમર્સ}: \textbf{બે 16-બિટ} ટાઇમર્સ/કાઉન્ટર્સ
    \item \textbf{સીરિયલ પોર્ટ}: \textbf{ફુલ ડુપ્લેક્સ UART}
    \item \textbf{ઇન્ટરપ્ટ્સ}: \textbf{5 ઇન્ટરપ્ટ} સોર્સ
    \item \textbf{ક્લોક}: \textbf{12MHz મહત્તમ} ફ્રીક્વન્સી
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``CPU મેમરી IO ટાઇમર સીરિયલ ઇન્ટરપ્ટ ક્લોક'' (CMITSIC)
\end{mnemonicbox}

\orquestionmarks{3}{b}{4}
\textbf{8051 નું IP SFR દોરો અને દરેક બિટનું કાર્ય સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{IP રજિસ્ટર (B8H):}

\begin{center}
\begin{tikzpicture}
    \foreach \x/\label/\bit in {0/-/D7, 1/-/D6, 2/-/D5, 3/PS/D4, 4/PT1/D3, 5/PX1/D2, 6/PT0/D1, 7/PX0/D0} {
        \draw (\x,0) rectangle (\x+1,1);
        \node at (\x+0.5, 0.5) {\tiny \label};
        \node at (\x+0.5, 1.3) {\tiny \bit};
    }
\end{tikzpicture}
\end{center}

\textbf{બિટ કાર્યો:}
\begin{itemize}
    \item \textbf{PS}: \textbf{સીરિયલ પોર્ટ ઇન્ટરપ્ટ} પ્રાઇઓરિટી
    \item \textbf{PT1}: \textbf{ટાઇમર 1 ઇન્ટરપ્ટ} પ્રાઇઓરિટી
    \item \textbf{PX1}: \textbf{એક્સ્ટર્નલ ઇન્ટરપ્ટ 1} પ્રાઇઓરિટી
    \item \textbf{PT0}: \textbf{ટાઇમર 0 ઇન્ટરપ્ટ} પ્રાઇઓરિટી
    \item \textbf{PX0}: \textbf{એક્સ્ટર્નલ ઇન્ટરપ્ટ 0} પ્રાઇઓરિટી
\end{itemize}
\textbf{પ્રાઇઓરિટી લેવલ્સ:} 1 = હાઇ, 0 = લો
\end{solutionbox}
\begin{mnemonicbox}
``પ્રાઇઓરિટી સીરિયલ ટાઇમર એક્સ્ટર્નલ'' (PSTE)
\end{mnemonicbox}

\orquestionmarks{3}{c}{7}
\textbf{આકૃતિની મદદથી 8051 માઇક્રોકંટ્રોલરનો પિન ડાયાગ્રામ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\begin{tikzpicture}[scale=0.8, transform shape]
    \draw [thick] (0,0) rectangle (6,10);
    \node at (3,5) {\huge \textbf{8051}};
    \node at (3,9.5) {\footnotesize 40-Pin DIP};
    
    % Left Pins (1-20)
    \foreach \y/\label/\pin in {9/P1.0/1, 8.5/P1.1/2, 8/P1.2/3, 7.5/P1.3/4, 7/P1.4/5, 6.5/P1.5/6, 6/P1.6/7, 5.5/P1.7/8, 5/RST/9, 4.5/P3.0/10, 4/P3.1/11, 3.5/P3.2/12, 3/P3.3/13, 2.5/P3.4/14, 2/P3.5/15, 1.5/P3.6/16, 1/P3.7/17, 0.5/XTAL2/18} {
        \draw (-0.5, \y) -- (0, \y);
        \node [left] at (-0.5, \y) {\tiny \label};
        \node [right] at (0, \y) {\tiny \pin};
    }
    \draw (-0.5, 0) -- (0, 0); \node [left] at (-0.5, 0) {\tiny XTAL1}; \node [right] at (0, 0) {\tiny 19};
    \node at (3, 0.5) {VSS (20)};
    
    % Right Pins (21-40)
    \foreach \y/\label/\pin in {9/VCC/40, 8.5/P0.0/39, 8/P0.1/38, 7.5/P0.2/37, 7/P0.3/36, 6.5/P0.4/35, 6/P0.5/34, 5.5/P0.6/33, 5/P0.7/32, 4.5/EA/31, 4/ALE/30, 3.5/PSEN/29, 3/P2.7/28, 2.5/P2.6/27, 2/P2.5/26, 1.5/P2.4/25, 1/P2.3/24, 0.5/P2.2/23} {
        \draw (6, \y) -- (6.5, \y);
        \node [right] at (6.5, \y) {\tiny \label};
        \node [left] at (6, \y) {\tiny \pin};
    }
    \draw (6, 0) -- (6.5, 0); \node [right] at (6.5, 0) {\tiny P2.1}; \node [left] at (6, 0) {\tiny 22};
    \draw (6, -0.5) -- (6.5, -0.5); \node [right] at (6.5, -0.5) {\tiny P2.0}; \node [left] at (6, -0.5) {\tiny 21};
\end{tikzpicture}
\end{center}

\textbf{પિન કેટેગરીઝ:}
\begin{itemize}
    \item \textbf{પાવર}: VCC (40), VSS (20)
    \item \textbf{ક્લોક}: XTAL1, XTAL2
    \item \textbf{રીસેટ}: RST
    \item \textbf{પોર્ટસ}: P0, P1, P2, P3
    \item \textbf{કંટ્રોલ}: ALE, PSEN, EA
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``પાવર ક્લોક રીસેટ પોર્ટ્સ કંટ્રોલ'' (PCRPC)
\end{mnemonicbox}

\questionmarks{4}{a}{3}
\textbf{ઉદાહરણ સાથે અંકગણિત (Arithmetic) સૂચનાઓ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{અંકગણિત સૂચનાઓ:}

\begin{center}
\captionof{table}{અંકગણિત સૂચનાઓ}
\begin{tabulary}{\linewidth}{|l|l|J|}
\hline
\textbf{સૂચના} & \textbf{કાર્ય} & \textbf{ઉદાહરણ} \\ \hline
\textbf{ADD} & સરવાળો & \code{ADD A,\#10H} \\ \hline
\textbf{SUBB} & બાદબાકી & \code{SUBB A,R0} \\ \hline
\textbf{MUL} & ગુણાકાર & \code{MUL AB} \\ \hline
\textbf{DIV} & ભાગાકાર & \code{DIV AB} \\ \hline
\textbf{INC} & વધારો (ઇન્ક્રીમેન્ટ) & \code{INC A} \\ \hline
\textbf{DEC} & ઘટાડો (ડીક્રીમેન્ટ) & \code{DEC R1} \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \code{ADD A,\#10H}: એક્યુમ્યુલેટરમાં 10H ઉમેરો
    \item \textbf{ફ્લેગ્સ}: અંકગણિત કામગીરીથી અસરગ્રસ્ત થાય છે (C, AC, OV, P)
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``એડ સબટ્રેક્ટ મલ્ટીપ્લાય ડિવાઈડ ઇન્ક્રીમેન્ટ ડીક્રીમેન્ટ'' (ASMIDI)
\end{mnemonicbox}

\questionmarks{4}{b}{4}
\textbf{મેમરી લોકેશન 65H પર સંગ્રહિત વેલ્યુનો 2's complement શોધવા માટે 8051 એસેમ્બલી લેંગ્વેજ પ્રોગ્રામ લખો. પરિણામ તે જ સ્થાન પર મૂકો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{lstlisting}[language={[x86masm]Assembler}]
ORG 0000H           ; પ્રોગ્રામ શરૂઆત
MOV A,65H           ; 65H પરથી વેલ્યુ લો
CPL A               ; કોમ્પ્લીમેન્ટ કરો (1's complement)
ADD A,#01H          ; 1 ઉમેરો (2's complement માટે)
MOV 65H,A           ; પરિણામ પાછું 65H પર મૂકો
SJMP $              ; પ્રોગ્રામ બંધ
END
\end{lstlisting}

\textbf{પ્રોગ્રામ સ્ટેપ્સ:}
\begin{itemize}
    \item \textbf{લોડ}: મેમરી લોકેશન 65H પરથી ડેટા લો
    \item \textbf{કોમ્પ્લીમેન્ટ}: CPL દ્વારા 1's complement કરો
    \item \textbf{1 ઉમેરો}: 2's complement માં ફેરવવા માટે
    \item \textbf{સ્ટોર}: પરિણામ તે જ લોકેશન પર સ્ટોર કરો
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``લોડ કોમ્પ્લીમેન્ટ એડ સ્ટોર'' (LCAS)
\end{mnemonicbox}

\questionmarks{4}{c}{7}
\textbf{8051 માઇક્રોકંટ્રોલરના એડ્રેસિંગ મોડ્સની યાદી બનાવો અને ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{એડ્રેસિંગ મોડ્સ}
\begin{tabulary}{\linewidth}{|l|J|l|J|}
\hline
\textbf{મોડ} & \textbf{વર્ણન} & \textbf{ઉદાહરણ} & \textbf{ઉપયોગ} \\ \hline
\textbf{ઇમીડિએટ} & ડેટા સીધો સૂચનામાં & \code{MOV A,\#25H} & કોન્સ્ટન્ટ ડેટા \\ \hline
\textbf{રજિસ્ટર} & ડેટા રજિસ્ટરમાં & \code{MOV A,R0} & ઝડપી એક્સેસ \\ \hline
\textbf{ડાયરેક્ટ} & મેમરી એડ્રેસ આપેલ & \code{MOV A,30H} & RAM એક્સેસ \\ \hline
\textbf{ઇનડાયરેક્ટ} & એડ્રેસ રજિસ્ટરમાં & \code{MOV A,@R0} & પોઇન્ટર/એરે \\ \hline
\textbf{ઇન્ડેક્સ્ડ} & બેઝ એડ્રેસ + ઓફસેટ & \code{MOVC A,@A+DPTR} & ટેબલ લુકઅપ \\ \hline
\textbf{રીલેટિવ} & PC સાપેક્ષ જમ્પ & \code{SJMP LOOP} & બ્રાન્ચિંગ \\ \hline
\textbf{બિટ} & સિંગલ બિટ પર કાર્ય & \code{SETB P1.0} & બિટ મેનિપ્યુલેશન \\ \hline
\end{tabulary}
\end{center}

\textbf{ઉદાહરણો:}
\begin{itemize}
    \item \code{MOV A,\#25H}: 25H વેલ્યુ સીધી લોડ કરો
    \item \code{MOV A,@R0}: R0 માં રહેલા એડ્રેસ પરથી ડેટા લોડ કરો
    \item \code{SJMP LOOP}: LOOP લેબલ પર જમ્પ કરો
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``ઇમીડિએટ રજિસ્ટર ડાયરેક્ટ ઇનડાયરેક્ટ ઇન્ડેક્સ્ડ રીલેટિવ બિટ'' (IRDIIRB)
\end{mnemonicbox}

\orquestionmarks{4}{a}{3}
\textbf{ઉદાહરણ સાથે તાર્કિક (Logical) સૂચનાઓ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{તાર્કિક સૂચનાઓ:}

\begin{center}
\captionof{table}{તાર્કિક સૂચનાઓ}
\begin{tabulary}{\linewidth}{|l|l|J|}
\hline
\textbf{સૂચના} & \textbf{કાર્ય} & \textbf{ઉદાહરણ} \\ \hline
\textbf{ANL} & AND ઓપરેશન & \code{ANL A,\#0FH} \\ \hline
\textbf{ORL} & OR ઓપરેશન & \code{ORL A,R1} \\ \hline
\textbf{XRL} & XOR ઓપરેશન & \code{XRL A,\#55H} \\ \hline
\textbf{CPL} & કોમ્પ્લીમેન્ટ & \code{CPL A} \\ \hline
\textbf{RL} & રોટેટ લેફ્ટ & \code{RL A} \\ \hline
\textbf{RR} & રોટેટ રાઇટ & \code{RR A} \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \code{ANL A,\#0FH}: એક્યુમ્યુલેટરને 0FH સાથે AND કરો (માસ્કિંગ)
    \item \textbf{ઉપયોગ}: બિટ માસ્કિંગ, ડેટા ફેરફાર, ફ્લેગ ટેસ્ટિંગ
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``AND OR XOR કોમ્પ્લીમેન્ટ રોટેટ'' (AOXCR)
\end{mnemonicbox}

\orquestionmarks{4}{b}{4}
\textbf{રજિસ્ટર R3 માં રહેલી સંખ્યાને રજિસ્ટર R0 માં રહેલી સંખ્યા સાથે ગુણાકાર કરવા અને પરિણામ આંતરિક RAM લોકેશન 10h (MSB) અને 11h (LSB) માં મૂકવા માટે 8051 એસેમ્બલી લેંગ્વેજ પ્રોગ્રામ લખો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{lstlisting}[language={[x86masm]Assembler}]
ORG 0000H           ; પ્રોગ્રામ શરૂઆત
MOV A,R3            ; ગુણ્ય (R3) ને A માં લો
MOV B,R0            ; ગુણક (R0) ને B માં લો
MUL AB              ; A અને B નો ગુણાકાર (Product: B=High, A=Low)
MOV 10H,B           ; MSB (B) ને 10H પર મૂકો
MOV 11H,A           ; LSB (A) ને 11H પર મૂકો
SJMP $              ; પ્રોગ્રામ બંધ
END
\end{lstlisting}

\textbf{પ્રોગ્રામ ફ્લો:}
\begin{itemize}
    \item \textbf{લોડ}: ગુણ્ય અને ગુણકને A અને B રજિસ્ટરમાં લો
    \item \textbf{મલ્ટીપ્લાય}: \code{MUL AB} આદેશ ચલાવો
    \item \textbf{પરિણામ}: 16-બિટ પરિણામ B (MSB) અને A (LSB) માં સંગ્રહિત થાય છે
    \item \textbf{સ્ટોર}: પરિણામને મેમરી લોકેશન પર સેવ કરો
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``લોડ મલ્ટીપ્લાય સ્ટોર રિઝલ્ટ'' (LMSR)
\end{mnemonicbox}

\orquestionmarks{4}{c}{7}
\textbf{ઉદાહરણ સાથે ડેટા ટ્રાન્સફર સૂચનાઓ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{ડેટા ટ્રાન્સફર સૂચનાઓ:}

\begin{center}
\captionof{table}{ડેટા ટ્રાન્સફર સૂચનાઓ}
\begin{tabulary}{\linewidth}{|l|l|J|l|}
\hline
\textbf{કેટેગરી} & \textbf{સૂચના} & \textbf{ઉદાહરણ} & \textbf{કાર્ય} \\ \hline
\textbf{રજિસ્ટર} & MOV & \code{MOV A,R0} & રજિસ્ટર થી રજિસ્ટર \\ \hline
\textbf{ઇમીડિએટ} & MOV & \code{MOV A,\#25H} & ઇમીડિએટ થી રજિસ્ટર \\ \hline
\textbf{ડાયરેક્ટ} & MOV & \code{MOV A,30H} & ડાયરેક્ટ મેમરી થી રજિસ્ટર \\ \hline
\textbf{ઇનડાયરેક્ટ} & MOV & \code{MOV A,@R0} & ઇનડાયરેક્ટ મેમરી \\ \hline
\textbf{એક્સ્ટર્નલ} & MOVX & \code{MOVX A,@DPTR} & બાહ્ય ડેટા મેમરી \\ \hline
\textbf{કોડ} & MOVC & \code{MOVC A,@A+DPTR} & કોડ (પ્રોગ્રામ) મેમરી \\ \hline
\textbf{સ્ટેક} & PUSH/POP & \code{PUSH ACC} & સ્ટેક ઓપરેશન્સ \\ \hline
\end{tabulary}
\end{center}

\textbf{ઉદાહરણો:}
\begin{itemize}
    \item \code{MOV A,R0}: R0 નો ડેટા A માં ખસેડો
    \item \code{MOVX A,@DPTR}: બાહ્ય RAM માંથી ડેટા વાંચો
    \item \code{PUSH ACC}: એક્યુમ્યુલેટર ડેટા સ્ટેક પર પુશ કરો
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``મૂવ ડેટા બીટવીન લોકેશન્સ'' (MDBL)
\end{mnemonicbox}

\questionmarks{5}{a}{3}
\textbf{PSW ફોર્મેટની મદદથી 8051 ફ્લેગ્સ સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{PSW રજિસ્ટર (D0H):}

\begin{center}
\begin{tikzpicture}
    \foreach \x/\label/\bit in {0/P/D0, 1/-/D1, 2/OV/D2, 3/RS0/D3, 4/RS1/D4, 5/F0/D5, 6/AC/D6, 7/C/D7} {
        \draw (\x,0) rectangle (\x+1,1);
        \node at (\x+0.5, 0.5) {\tiny \label};
        \node at (\x+0.5, 1.3) {\tiny \bit};
    }
\end{tikzpicture}
\end{center}

\textbf{ફ્લેગ કાર્યો:}
\begin{itemize}
    \item \textbf{C (કેરી - D7)}: અંકગણિતમાં કેરી/બોરો આવે તો સેટ
    \item \textbf{AC (ઓક્સિલિયરી કેરી - D6)}: BCD અંકગણિતમાં D3 થી D4 પર કેરી આવે તો સેટ
    \item \textbf{F0 (D5)}: યુઝર ડિફાઇન્ડ ફ્લેગ
    \item \textbf{RS1, RS0 (D4, D3)}: રજિસ્ટર બેંક સિલેક્ટ (00=Bank0, 01=Bank1, 10=Bank2, 11=Bank3)
    \item \textbf{OV (ઓવરફ્લો - D2)}: સાઇન્ડ અંકગણિતમાં ઓવરફ્લો થાય તો સેટ
    \item \textbf{P (પેરિટી - D0)}: જો એક્યુમ્યુલેટરમાં એકી સંખ્યામાં 1 હોય તો સેટ (Odd Parity)
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``કેરી ઓક્સિલિયરી ઓવરફ્લો પેરિટી રજિસ્ટર'' (CAOPR)
\end{mnemonicbox}

\questionmarks{5}{b}{4}
\textbf{માઇક્રોકંટ્રોલર સાથે 7 સેગમેન્ટ ઇન્ટરફેસિંગ ડાયાગ્રામ દોરો અને સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{7-સેગમેન્ટ ઇન્ટરફેસ (કોમન કેથોડ):}

\begin{center}
\begin{tikzpicture}[node distance=3cm, auto]
    \node [gtu block] (8051) {8051\\(Port 1)};
    \node [gtu block, right of=8051, node distance=4cm] (driver) {Driver\\(ULN2003)};
    \node [gtu block, right of=driver, node distance=4cm] (disp) {7-Segment\\Display\\(Common Cathode)};
    
    \draw [->, thick] (8051) -- (driver) node[midway, above] {P1.0-P1.7};
    \draw [->, thick] (driver) -- (disp) node[midway, above] {a-g, dp};
    
    \draw [->] (disp.south) -- ++(0,-1) node[below] {GND};
    \draw [->] (driver.north) -- ++(0,1) node[above] {+5V};
\end{tikzpicture}
\end{center}

\textbf{ઘટકો:}
\begin{itemize}
    \item \textbf{ULN2003/રેઝિસ્ટર્સ}: કરંટ ડ્રાઇવર તરીકે વપરાય છે કારણ કે 8051 સીધા LED ડ્રાઇવ કરી શકતું નથી.
    \item \textbf{ડિસ્પ્લે (કોમન કેથોડ)}: સેગમેન્ટ ચાલુ કરવા માટે લોજિક 1 (High) જરૂરી છે.
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``પોર્ટ ડ્રાઇવર ડિસ્પ્લે ગ્રાઉન્ડ'' (PDDG)
\end{mnemonicbox}

\questionmarks{5}{c}{7}
\textbf{માઇક્રોકંટ્રોલર સાથે 8 LEDs ઇન્ટરફેસ કરો અને તેને ચાલુ અને બંધ કરવા માટેનો પ્રોગ્રામ લખો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{LED ઇન્ટરફેસ સર્કિટ:}

\begin{center}
\begin{tikzpicture}[auto]
    \node [gtu block] (8051) {8051 Microcontroller};
    
    \foreach \i in {0,1,2,3,4,5,6,7} {
        \draw [->] (8051.east) ++(0, 1.75 - \i*0.5) coordinate (p\i) -- ++(1,0) node[right, draw, circle, scale=0.5] (led\i) {LED} -- ++(0.5,0) node[right] {+5V};
        \node [left] at (p\i) {P1.\i};
        \node [above] at ($(led\i)+(-0.3,0)$) {\tiny $R$};
    }
\end{tikzpicture}
\end{center}
\textit{નોંધ: આકૃતિ કોમન એનોડ કન્ફિગરેશન (એક્ટિવ લો) દર્શાવે છે.}

\textbf{એસેમ્બલી પ્રોગ્રામ:}
\begin{lstlisting}[language={[x86masm]Assembler}]
ORG 0000H           ; સ્ટાર્ટ એડ્રેસ
MAIN:
    MOV P1,#00H     ; બધા LEDs ચાલુ (Active Low માટે 0)
    ACALL DELAY     ; રાહ જુઓ
    MOV P1,#0FFH    ; બધા LEDs બંધ (1)
    ACALL DELAY     ; રાહ જુઓ
    SJMP MAIN       ; સતત પુનરાવર્તન

DELAY:
    MOV R2,#250     ; આઉટર લૂપ
D1: MOV R3,#250     ; ઇનર લૂપ
D2: DJNZ R3,D2      ; ઇનર ઘટાડો
    DJNZ R2,D1      ; આઉટર ઘટાડો
    RET             ; રિટર્ન
END
\end{lstlisting}
\end{solutionbox}
\begin{mnemonicbox}
``લાઇટ એમિટિંગ ડિસ્પ્લે ઇન્ટરફેસ'' (LEDI)
\end{mnemonicbox}

\orquestionmarks{5}{a}{3}
\textbf{વિવિધ ક્ષેત્રોમાં માઇક્રોકંટ્રોલરના ઉપયોગો (Applications) ની યાદી બનાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\begin{center}
\captionof{table}{ઉપયોગો}
\begin{tabulary}{\linewidth}{|l|J|}
\hline
\textbf{ક્ષેત્ર} & \textbf{ઉપયોગો} \\ \hline
\textbf{ઘરેલુ ઉપકરણો} & વોશિંગ મશીન, માઇક્રોવેવ, AC, ટીવી રિમોટ \\ \hline
\textbf{ઓટોમોટિવ} & ECU, ABS, એરબેગ્સ, ડેશબોર્ડ \\ \hline
\textbf{ઔદ્યોગિક} & પ્રોસેસ કંટ્રોલ, રોબોટિક્સ, સેન્સર્સ, ઓટોમેશન \\ \hline
\textbf{મેડિકલ} & પેસમેકર, બ્લડ પ્રેશર મોનિટર, વેન્ટિલેટર \\ \hline
\textbf{કોમ્યુનિકેશન} & મોબાઈલ ફોન, મોડેમ, રાઉટર \\ \hline
\textbf{સુરક્ષા} & એક્સેસ કંટ્રોલ, એલાર્મ, CCTV \\ \hline
\textbf{મનોરંજન} & ગેમિંગ કોન્સોલ, મ્યુઝિક પ્લેયર્સ, રમકડાં \\ \hline
\end{tabulary}
\end{center}
\end{solutionbox}
\begin{mnemonicbox}
``હોમ ઓટો ઇન્ડસ્ટ્રીયલ મેડિકલ કોમ્યુનિકેશન સિક્યુરિટી એન્ટરટેઈનમેન્ટ'' (HAIMCSE)
\end{mnemonicbox}

\orquestionmarks{5}{b}{4}
\textbf{8051 સાથે DC મોટર ઇન્ટરફેસિંગનો ડાયાગ્રામ દોરો અને સમજાવો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{DC મોટર ઇન્ટરફેસ (L293D નો ઉપયોગ કરીને):}

\begin{center}
\begin{tikzpicture}[node distance=3cm, auto]
    \node [gtu block] (8051) {8051};
    \node [gtu block, right of=8051, node distance=4cm] (driver) {L293D\\Driver};
    \node [gtu block, right of=driver, node distance=4cm] (motor) {DC\\Motor};
    
    \draw [->, thick] (8051) -- (driver) node[midway, above] {P1.1, P1.2};
    \draw [->, thick] (driver) -- (motor) node[midway, above] {Out1, Out2};
    
    \draw [->] (driver.north) -- ++(0,1) node[above] {+12V (Motor Supply)};
    \draw [->] (driver.south) -- ++(0,-1) node[below] {GND};
\end{tikzpicture}
\end{center}

\textbf{H-Bridge (L293D) કાર્ય:}
\begin{itemize}
    \item \textbf{ફોરવર્ડ}: P1.1 = 1, P1.2 = 0
    \item \textbf{રિવર્સ}: P1.1 = 0, P1.2 = 1
    \item \textbf{સ્ટોપ}: P1.1 = 0, P1.2 = 0
\end{itemize}
\end{solutionbox}
\begin{mnemonicbox}
``ડ્રાઇવર કંટ્રોલ મોટર ડાયરેક્શન'' (DCMD)
\end{mnemonicbox}

\orquestionmarks{5}{c}{7}
\textbf{માઇક્રોકંટ્રોલર સાથે LCD ઇન્ટરફેસ કરો અને "Microprocessor and Microcontroller" દર્શાવવા માટે એક પ્રોગ્રામ લખો.}

\begin{solutionbox}
\textbf{જવાબ}:

\textbf{LCD ઇન્ટરફેસ (16x2):}

\begin{center}
\begin{tikzpicture}[node distance=4cm, auto]
    \node [gtu block] (8051) {8051};
    \node [gtu block, right of=8051, minimum height=3cm] (lcd) {16x2 LCD};
    
    \draw [->, thick] (8051.20) -- (lcd.160) node[midway, above] {Data Bus (P1.0-P1.7)};
    \draw [->, thick] (8051.-20) -- (lcd.-160) node[midway, below] {Control (RS, RW, E)};
    
    \node [right] at (8051.east) {P2.0, P2.1, GND};
\end{tikzpicture}
\end{center}

\textbf{એસેમ્બલી પ્રોગ્રામ:}
\begin{lstlisting}[language={[x86masm]Assembler}]
ORG 0000H
    ACALL LCD_INIT      ; LCD ઇનિશિયલાઇઝ કરો
    MOV DPTR,#MSG       ; મેસેજ પોઇન્ટર
DISP_LOOP:
    CLR A
    MOVC A,@A+DPTR      ; કેરેક્ટર મેળવો
    JZ STOP             ; જો 0, તો અટકો
    ACALL SEND_DATA     ; કેરેક્ટર ડિસ્પ્લે કરો
    INC DPTR            ; આગળ વધો
    SJMP DISP_LOOP      ; પુનરાવર્તન
STOP: SJMP $

LCD_INIT:
    MOV A,#38H          ; 2 lines, 5x7 matrix
    ACALL SEND_CMD
    MOV A,#0FH          ; Display ON, Cursor ON
    ACALL SEND_CMD
    MOV A,#01H          ; Clear Display
    ACALL SEND_CMD
    RET
    
SEND_CMD:
    MOV P1,A            ; કમાન્ડ મોકલો
    CLR P2.0            ; RS=0 (Command)
    CLR P2.1            ; RW=0 (Write)
    SETB P2.2           ; E=1
    CLR P2.2            ; E=0 (Latch)
    ACALL DELAY
    RET

SEND_DATA:
    MOV P1,A            ; ડેટા મોકલો
    SETB P2.0           ; RS=1 (Data)
    CLR P2.1            ; RW=0 (Write)
    SETB P2.2           ; E=1
    CLR P2.2            ; E=0 (Latch)
    ACALL DELAY
    RET

DELAY: MOV R3,#50       ; ડીલે લૂપ
       DJNZ R3,$ 
       RET

MSG: DB "Microprocessor and Microcontroller",0h
END
\end{lstlisting}
\end{solutionbox}
\begin{mnemonicbox}
``લિક્વિડ ક્રિસ્ટલ ડિસ્પ્લે ઇન્ટરફેસ'' (LCDI)
\end{mnemonicbox}

\end{document}
