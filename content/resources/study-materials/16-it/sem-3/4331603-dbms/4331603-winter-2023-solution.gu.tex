\documentclass{article}
% Adjust the relative path to point to the latex-templates directory
\input{/Users/milav/Code/milav-next/latex-templates/gtu-solutions/preamble.tex}
\input{/Users/milav/Code/milav-next/latex-templates/gtu-solutions/gujarati-boxes.tex}
\input{/Users/milav/Code/milav-next/latex-templates/gtu-solutions/commands.tex}
\usetikzlibrary{fit}

\title{ડેટાબેઝ મેનેજમેન્ટ (4331603) - શિયાળો 2023 સોલ્યુશન}
\date{January 18, 2024}

\begin{document}
\maketitle

\questionmarks{1(a)}{3}{નીચેના શબ્દો વ્યાખ્યાયિત કરો: a). Data items b). Data dictionary c).Meta data}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{ડેટાબેઝ શબ્દો}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{શબ્દ} & \textbf{વ્યાખ્યા} \\ \hline
\textbf{Data Items} & ડેટાના મૂળભૂત એકમો જે વધુ વિભાજન કરી શકાતા નથી. ડેટાબેઝ ફીલ્ડ્સમાં સંગ્રહિત વ્યક્તિગત તથ્યો અથવા મૂલ્યો \\ \hline
\textbf{Data Dictionary} & ડેટાબેઝ સ્ટ્રક્ચર, ટેબલ્સ, કોલમ્સ અને સંબંધો વિશે મેટાડેટા ધરાવતો કેન્દ્રીય ભંડાર \\ \hline
\textbf{Metadata} & ડેટા વિશેનો ડેટા જે ડેટાબેઝ એલિમેન્ટ્સની રચના, અવરોધો અને ગુણધર્મોનું વર્ણન કરે છે \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Data Items}: ડેટાનો સૌથી નાનો એકમ
    \item \keyword{Data Dictionary}: સ્કીમા વ્યાખ્યાઓ સંગ્રહિત કરતું "સિસ્ટમ કેટલોગ"
    \item \keyword{Metadata}: ડેટાનું વર્ણન કરતી માળખાકીય માહિતી
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{DDM - Data Dictionary Manages}
\end{mnemonicbox}

\questionmarks{1(b)}{4}{ફાઇલ ઓરિએન્ટેડ સિસ્ટમના ગેરફાયદા સમજાવો.}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{ફાઇલ સિસ્ટમના ગેરફાયદા}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ગેરફાયદો} & \textbf{વિવરણ} \\ \hline
\textbf{ડેટા રીડન્ડન્સી} & બહુવિધ ફાઇલોમાં સમાન ડેટાનો સંગ્રહ, જે સ્ટોરેજનો બગાડ કરે છે \\ \hline
\textbf{ડેટા અસંગતતા} & વિવિધ ફાઇલોમાં સમાન ડેટાના વિવિધ વર્ઝન \\ \hline
\textbf{ડેટા આઇસોલેશન} & બહુવિધ ફાઇલોમાં વિખરાયેલા ડેટાને એક્સેસ કરવામાં મુશ્કેલી \\ \hline
\textbf{સિક્યોરિટી સમસ્યાઓ} & મર્યાદિત એક્સેસ કંટ્રોલ અને સુરક્ષા મિકેનિઝમ \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{રીડન્ડન્સી}: ફાઇલોમાં ડેટાનું ડુપ્લિકેશન
    \item \keyword{અસંગતતા}: નબળા સિંક્રનાઇઝેશનને કારણે મિસમેચ ડેટા
    \item \keyword{આઇસોલેશન}: પ્રમાણભૂત ફોર્મેટનો અભાવ ડેટા શેરિંગને અવરોધે છે
    \item \keyword{ઇન્ટેગ્રિટી}: ફાઇલોમાં કન્સ્ટ્રેઇન્ટ્સ લાગુ કરવું મુશ્કેલ
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{RDIS - Really Difficult Information System}
\end{mnemonicbox}

\questionmarks{1(c)}{7}{DBA ની જવાબદારીઓનું વિગતવાર વર્ણન કરો.}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{DBA ની જવાબદારીઓ}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{જવાબદારી} & \textbf{વિગતો} \\ \hline
\textbf{ડેટાબેઝ ડિઝાઇન} & લોજિકલ અને ફિઝિકલ ડેટાબેઝ સ્ટ્રક્ચર બનાવવું \\ \hline
\textbf{સિક્યોરિટી મેનેજમેન્ટ} & યુઝર એક્સેસ કંટ્રોલ અને ડેટા પ્રોટેક્શન લાગુ કરવું \\ \hline
\textbf{પર્ફોર્મન્સ મોનિટરિંગ} & ડેટાબેઝ પર્ફોર્મન્સ અને ક્વેરી એક્ઝિક્યુશન ઓપ્ટિમાઇઝ કરવું \\ \hline
\textbf{બેકઅપ અને રિકવરી} & નિયમિત બેકઅપ દ્વારા ડેટા સેફ્ટી સુનિશ્ચિત કરવી \\ \hline
\textbf{યુઝર સપોર્ટ} & ડેટાબેઝ યુઝર્સને ટેકનિકલ સહાય પૂરી પાડવી \\ \hline
\textbf{સિસ્ટમ મેઇન્ટેનન્સ} & નિયમિત અપડેટ્સ, પેચેસ અને સિસ્ટમ ઓપ્ટિમાઇઝેશન \\ \hline
\end{tabulary}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=1.5cm, auto, thick]
    \node [gtu root] (Root) {DBA જવાબદારીઓ};
    
    \node [gtu child, below left=1.5cm and 2cm of Root] (Des) {ડેટાબેઝ ડિઝાઇન};
    \node [gtu child, left=0.5cm of Des] (Sec) {સિક્યોરિટી};
    
    \node [gtu child, below right=1.5cm and 2cm of Root] (Back) {બેકઅપ અને રિકવરી};
    \node [gtu child, right=0.5cm of Back] (Sup) {યુઝર સપોર્ટ};
    
    \node [gtu child, below=1.5cm of Root] (Perf) {પર્ફોર્મન્સ};
    \node [gtu child, below=0.5cm of Perf] (Maint) {મેઇન્ટેનન્સ};
    
    \draw [gtu arrow] (Root) -- (Des);
    \draw [gtu arrow] (Root) -- (Sec);
    \draw [gtu arrow] (Root) -- (Perf);
    \draw [gtu arrow] (Root) -- (Back);
    \draw [gtu arrow] (Root) -- (Sup);
    \draw [gtu arrow] (Root) -- (Maint);
\end{tikzpicture}
\captionof{figure}{DBA ની મુખ્ય જવાબદારીઓ}
\end{center}

\begin{itemize}
    \item \keyword{ડિઝાઇન}: સ્કીમા વ્યાખ્યા અને સ્ટોરેજ પ્લાનિંગ
    \item \keyword{સિક્યોરિટી}: એક્સેસ આપવી/લેવી અને એન્ક્રિપ્શન
    \item \keyword{રિકવરી}: ડિઝાસ્ટર રિકવરી પ્લાનિંગ
    \item \keyword{ટ્યુનિંગ}: ઇન્ડેક્સિંગ અને ક્વેરી ઓપ્ટિમાઇઝેશન
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{DSPBUM - Database Specialists Provide Better User Management}
\end{mnemonicbox}

\questionmarks{1(c OR)}{7}{Data abstraction ની વ્યાખ્યા આપો? DBMS નું ત્રિ સ્તરનું આર્કિટેક્ચર સમજાવો.}

\begin{solutionbox}
\textbf{Data Abstraction}: યુઝર્સને માત્ર આવશ્યક ફીચર્સ દર્શાવતી વખતે જટિલ implementation વિગતો છુપાવવાની પ્રક્રિયા.

\begin{center}
\begin{tikzpicture}[node distance=1.5cm, auto, thick]
    % Levels
    \node [gtu block, fill=red!10, minimum width=6cm] (Ext) {External Level (યુઝર વ્યૂઝ)};
    \node [gtu block, fill=blue!10, minimum width=6cm, below=1cm of Ext] (Con) {Conceptual Level (લોજિકલ સ્કીમા)};
    \node [gtu block, fill=green!10, minimum width=6cm, below=1cm of Con] (Int) {Internal Level (ફિઝિકલ સ્ટોરેજ)};
    
    % Users
    \node [above=0.8cm of Ext] (Users) {એન્ડ યુઝર્સ / એપ્લિકેશન્સ};
    
    % Connections
    \draw [gtu arrow] (Users) -- (Ext);
    \draw [gtu arrow] (Ext) -- (Con);
    \draw [gtu arrow] (Con) -- (Int);
    
    % Labels (Mapping)
    \node [right=0.5cm of Ext, font=\small] {External/Conceptual Mapping};
    \node [right=0.5cm of Con, font=\small] {Conceptual/Internal Mapping};
\end{tikzpicture}
\captionof{figure}{ત્રિ સ્તરનું આર્કિટેક્ચર}
\end{center}

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{આર્કિટેક્ચર સ્તરો}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{સ્તર} & \textbf{વિવરણ} & \textbf{હેતુ} \\ \hline
\textbf{External Level} & ડેટાબેઝનો યુઝર વ્યૂ & વ્યક્તિગત યુઝર પરસ્પેક્ટિવ્સ \\ \hline
\textbf{Conceptual Level} & સંપૂર્ણ ડેટાબેઝની લોજિકલ સ્ટ્રક્ચર & એકંદર ડેટાબેઝ ઓર્ગેનાઇઝેશન \\ \hline
\textbf{Internal Level} & ફિઝિકલ સ્ટોરેજ વિગતો & ડેટા ખરેખર કેવી રીતે સ્ટોર થાય છે \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{View Level}: ડેટાબેઝના માત્ર એક ભાગનું વર્ણન કરે છે
    \item \keyword{Logical Level}: કયો ડેટા સંગ્રહિત છે અને સંબંધોનું વર્ણન કરે છે
    \item \keyword{Physical Level}: જટિલ નિમ્ન-સ્તરની ડેટા સ્ટ્રક્ચર્સનું વર્ણન કરે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ECI - Every Computer Industry}
\end{mnemonicbox}

\questionmarks{2(a)}{3}{નીચેના શબ્દો વ્યાખ્યાયિત કરો: a).Relationship set b).Participation c).Candidate key}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{શબ્દાવલી}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{શબ્દ} & \textbf{વ્યાખ્યા} \\ \hline
\textbf{Relationship Set} & એન્ટિટી સેટ્સ વચ્ચે સમાન પ્રકારના સંબંધોનો સંગ્રહ \\ \hline
\textbf{Participation} & અવરોધ જે સ્પષ્ટ કરે છે કે એન્ટિટી ઓકરન્સ સંબંધમાં ફરજિયાત છે કે નહીં \\ \hline
\textbf{Candidate Key} & એટ્રિબ્યુટ્સનો ન્યૂનતમ સેટ જે એન્ટિટી સેટમાં દરેક એન્ટિટીને અનન્ય રીતે ઓળખે છે \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Relationship}: અનેક એન્ટિટીઝ વચ્ચેનું જોડાણ
    \item \keyword{Total Participation}: દરેક એન્ટિટીએ ભાગ લેવો જ જોઇએ (ડબલ લાઇન)
    \item \keyword{Candidate Key}: સુપર કી જેનો કોઈ પ્રોપર સબસેટ સુપર કી નથી
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{RPC - Relationship Participation Candidate}
\end{mnemonicbox}

\questionmarks{2(b)}{4}{Generalization ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{Generalization}: બોટમ-અપ અપ્રોચ જ્યાં નીચલા-સ્તરની એન્ટિટીઝના સામાન્ય એટ્રિબ્યુટ્સને ઉચ્ચ-સ્તરની એન્ટિટીમાં જોડવામાં આવે છે.

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto, thick]
    % Superclass
    \node [gtu block] (Vehicle) {Vehicle};
    
    % Relationship
    \node [gtu decision, below=1cm of Vehicle] (IsA) {IS-A};
    
    % Subclasses
    \node [gtu block, below left=1.5cm and 1cm of IsA] (Car) {Car};
    \node [gtu block, below=1.5cm of IsA] (Truck) {Truck};
    \node [gtu block, below right=1.5cm and 1cm of IsA] (Bus) {Bus};
    
    % Connections
    \draw [thick] (Vehicle) -- (IsA);
    \draw [thick] (IsA) -| (Car);
    \draw [thick] (IsA) -- (Truck);
    \draw [thick] (IsA) -| (Bus);
    
    % Direction indicator
    \node [right=2cm of IsA, font=\small, color=red] {Bottom-Up Approach $\uparrow$};
\end{tikzpicture}
\captionof{figure}{Generalization ઉદાહરણ}
\end{center}

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Generalization ખ્યાલો}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ખ્યાલ} & \textbf{વિવરણ} \\ \hline
\textbf{હેતુ} & સામાન્ય સુપરક્લાસ બનાવીને રીડન્ડન્સી ઘટાડવી \\ \hline
\textbf{દિશા} & બોટમ-અપ (વિશિષ્ટથી સામાન્ય) \\ \hline
\textbf{ઉદાહરણ} & Car, Truck, Bus $\rightarrow$ Vehicle \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Superclass}: સામાન્ય ગુણધર્મો ધરાવતી સામાન્યીકૃત એન્ટિટી
    \item \keyword{Subclass}: અનન્ય ગુણધર્મો ધરાવતી વિશિષ્ટ એન્ટિટીઝ
    \item \keyword{Attribute Inheritance}: સબક્લાસીસ સુપરક્લાસના ગુણધર્મો વારસામાં મેળવે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{GBU - Generalization Builds Up}
\end{mnemonicbox}

\questionmarks{2(c)}{7}{E-R Diagram ની વ્યાખ્યા આપો? E-R ડાયાગ્રામમાં વપરાતા વિવિધ Symbols ને ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{E-R Diagram}: ડેટાબેઝ ડિઝાઇનમાં એન્ટિટીઝ, એટ્રિબ્યુટ્સ અને સંબંધો દર્શાવતું ગ્રાફિકલ પ્રતિનિધિત્વ.

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{ER ડાયાગ્રામ સિમ્બોલ્સ}
\begin{tabulary}{\linewidth}{|L|L|L|L|}
\hline
\textbf{સિમ્બોલ} & \textbf{આકાર} & \textbf{ઉપયોગ} & \textbf{ઉદાહરણ} \\ \hline
\textbf{Entity} & લંબચોરસ & ઓબ્જેક્ટ્સનું પ્રતિનિધિત્વ & Student, Course \\ \hline
\textbf{Attribute} & અંડાકાર & એન્ટિટીઝના ગુણધર્મો & Name, Age, ID \\ \hline
\textbf{Relationship} & ડાયમંડ & એન્ટિટીઝ વચ્ચેના જોડાણો & Enrolls, Teaches \\ \hline
\textbf{Primary Key} & અન્ડરલાઇન્ડ અંડાકાર & અનન્ય ઓળખકર્તા & Student\_ID \\ \hline
\textbf{Multivalued} & ડબલ અંડાકાર & બહુવિધ મૂલ્યો & Phone\_Numbers \\ \hline
\textbf{Derived} & ડેશ્ડ અંડાકાર & ગણતરી કરેલા એટ્રિબ્યુટ્સ & Age from DOB \\ \hline
\end{tabulary}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto, thick]
    % Entities
    \node [gtu block] (Student) {Student};
    \node [gtu block, right=4cm of Student] (Course) {Course};
    
    % Relationship
    \node [gtu decision] (Enrolls) at ($(Student)!0.5!(Course)$) {Enrolls};
    
    % Attributes Student
    \node [ellipse, draw, above left=1cm of Student] (Sid) {\underline{ID}};
    \node [ellipse, draw, above=1cm of Student] (Name) {Name};
    \node [ellipse, draw, double, below=0.5cm of Student] (Phone) {Phone};
    \node [ellipse, draw, dashed, below left=0.5cm of Student] (Age) {Age};
    
    % Attributes Course
    \node [ellipse, draw, above=1cm of Course] (Cid) {\underline{ID}};
    \node [ellipse, draw, above right=1cm of Course] (Cname) {Title};
    
    % Edges
    \draw (Student) -- (Sid);
    \draw (Student) -- (Name);
    \draw (Student) -- (Phone);
    \draw (Student) -- (Age);
    \draw (Course) -- (Cid);
    \draw (Course) -- (Cname);
    
    \draw (Student) -- node[above] {M} (Enrolls);
    \draw (Enrolls) -- node[above] {N} (Course);
\end{tikzpicture}
\captionof{figure}{ER ડાયાગ્રામ ઉદાહરણ}
\end{center}

\begin{itemize}
    \item \keyword{Entity Sets}: સ્વતંત્ર અસ્તિત્વ ધરાવતી વસ્તુઓ
    \item \keyword{Relationship Sets}: એન્ટિટીઝ વચ્ચેના જોડાણો
    \item \keyword{Attribute Types}: Key, Composite, Multivalued, Derived
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{EARPM - Every Attribute Represents Proper Meaning}
\end{mnemonicbox}

\questionmarks{2(a OR)}{3}{Relational Algebra ની વ્યાખ્યા આપો? Relational Algebra માં વિવિધ કામગીરીની યાદી આપો?}

\begin{solutionbox}
\textbf{Relational Algebra}: રિલેશનલ ડેટાબેઝ ટેબલ્સને મેનિપ્યુલેટ કરવા માટેની ઓપરેશન્સ સાથે ફોર્મલ ક્વેરી લેંગ્વેજ.

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Relational Algebra ઓપરેશન્સ}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ઓપરેશન પ્રકાર} & \textbf{ઓપરેશન્સ} \\ \hline
\textbf{મૂળભૂત ઓપરેશન્સ} & Select ($\sigma$), Project ($\pi$), Union ($\cup$), Set Difference ($-$), Cartesian Product ($\times$) \\ \hline
\textbf{વધારાની ઓપરેશન્સ} & Intersection ($\cap$), Join ($\bowtie$), Division ($\div$), Rename ($\rho$) \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Procedural Language}: શું મેળવવું અને કેવી રીતે મેળવવું તે સ્પષ્ટ કરે છે
    \item \keyword{Operators}: રિલેશન્સ ઇનપુટ તરીકે લે છે અને આઉટપુટ તરીકે રિલેશન આપે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SPUDC-IJDR - Simple People Use Database Concepts}
\end{mnemonicbox}

\questionmarks{2(b OR)}{4}{Specialization ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{Specialization}: ટોપ-ડાઉન અપ્રોચ જ્યાં ઉચ્ચ-સ્તરની એન્ટિટીને વિશિષ્ટ નીચલા-સ્તરની એન્ટિટીઝમાં વિભાજિત કરવામાં આવે છે.

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto, thick]
    % Superclass
    \node [gtu block] (Emp) {Employee};
    
    % Relationship
    \node [gtu decision, below=1cm of Emp] (IsA) {IS-A};
    
    % Subclasses
    \node [gtu block, below left=1.5cm and 1cm of IsA] (Mgr) {Manager};
    \node [gtu block, below=1.5cm of IsA] (Clerk) {Clerk};
    \node [gtu block, below right=1.5cm and 1cm of IsA] (Eng) {Engineer};
    
    % Connections
    \draw [thick] (Emp) -- (IsA);
    \draw [thick] (IsA) -| (Mgr);
    \draw [thick] (IsA) -- (Clerk);
    \draw [thick] (IsA) -| (Eng);
    
    % Unique Attributes
    \node [ellipse, draw, left=0.3cm of Mgr, font=\tiny] {Dept};
    \node [ellipse, draw, right=0.3cm of Eng, font=\tiny] {Skill};
    
    \node [right=2cm of IsA, font=\small, color=blue] {Top-Down Approach $\downarrow$};
\end{tikzpicture}
\captionof{figure}{Specialization ઉદાહરણ}
\end{center}

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Specialization ખ્યાલો}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ખ્યાલ} & \textbf{વિવરણ} \\ \hline
\textbf{હેતુ} & અનન્ય એટ્રિબ્યુટ્સ સાથે વિશિષ્ટ સબક્લાસીસ બનાવવી \\ \hline
\textbf{દિશા} & ટોપ-ડાઉન (સામાન્યથી વિશિષ્ટ) \\ \hline
\textbf{ઉદાહરણ} & Employee $\rightarrow$ Manager, Clerk, Engineer \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Subgrouping}: વિશિષ્ટ ભૂમિકાઓ સાથે એન્ટિટીઝના સબસેટ્સ ઓળખે છે
    \item \keyword{Inheritance}: નીચલા-સ્તરની એન્ટિટીઝ ઉચ્ચ-સ્તરથી વારસો મેળવે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{STD - Specialization Top Down}
\end{mnemonicbox}

\questionmarks{2(c OR)}{7}{Attribute ની વ્યાખ્યા આપો? વિવિધ પ્રકારના Attribute ને ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{Attribute}: એન્ટિટીનું વર્ણન કરતી મિલકત અથવા લાક્ષણિકતા.

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Attribute પ્રકારો}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{એટ્રિબ્યુટ પ્રકાર} & \textbf{વિવરણ} & \textbf{ઉદાહરણ} \\ \hline
\textbf{Simple} & વધુ વિભાજન કરી શકાતું નથી & Age, Name \\ \hline
\textbf{Composite} & ઉપવિભાગ કરી શકાય છે & Address (Street, City) \\ \hline
\textbf{Single-valued} & એક મૂલ્ય ધરાવે છે & SSN, Employee\_ID \\ \hline
\textbf{Multi-valued} & બહુવિધ મૂલ્યો હોઈ શકે છે & Phone\_Numbers \\ \hline
\textbf{Derived} & અન્ય એટ્રિબ્યુટ્સથી ગણતરી કરેલ & Age from Birth\_Date \\ \hline
\textbf{Key} & એન્ટિટીને અનન્ય રીતે ઓળખે છે & Student\_ID \\ \hline
\end{tabulary}
\end{center}

\begin{center}
\begin{tikzpicture}[level/.style={sibling distance=25mm, level distance=20mm}, auto, thick]
    \node [gtu root] {Attribute પ્રકારો}
        child {node [gtu child] {Simple}
             child {node [gtu state, fill=white] {Name}}
        }
        child {node [gtu child] {Composite}
             child {node [gtu state, fill=white] {Address}
                child {node [gtu state, fill=white] {City}}
                child {node [gtu state, fill=white] {State}}
             }
        }
        child {node [gtu child] {Multi-valued}
             child {node [gtu state, double, fill=white] {Phone}}
        }
        child {node [gtu child] {Derived}
             child {node [gtu state, dashed, fill=white] {Age}}
        };
\end{tikzpicture}
\captionof{figure}{એટ્રિબ્યુટ્સનું વર્ગીકરણ}
\end{center}

\begin{itemize}
    \item \keyword{Domain}: દરેક ડેટા માટે માન્ય મૂલ્યોનો સમૂહ
    \item \keyword{Null}: મૂલ્ય જ્યારે અજ્ઞાત હોય અથવા લાગુ પડતું નથી
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SCSMDK - Simple Composite Single Multi Derived Key}
\end{mnemonicbox}

\questionmarks{3(a)}{3}{SQL માં GRANT અને REVOKE સ્ટેટમેન્ટ સમજાવો.}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{DCL કમાન્ડ્સ}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{સ્ટેટમેન્ટ} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ ઉદાહરણ} \\ \hline
\textbf{GRANT} & યુઝર્સને વિશેષાધિકારો પ્રદાન કરે છે & \code{GRANT SELECT ON table TO user} \\ \hline
\textbf{REVOKE} & યુઝર્સ પાસેથી વિશેષાધિકારો દૂર કરે છે & \code{REVOKE SELECT ON table FROM user} \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Privileges}: પરવાનગીઓ જેમ કે SELECT, INSERT, UPDATE, DELETE
    \item \keyword{Control}: કોણ ડેટા એક્સેસ કરી શકે છે તેનું સંચાલન
    \item \keyword{Security}: ડેટાબેઝ સુરક્ષા માટે મૂળભૂત
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{GR - Grant Removes (via REVOKE)}
\end{mnemonicbox}

\questionmarks{3(b)}{4}{નીચેના Character function સમજાવો .1) INSTR 2) LENGTH}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{SQL Character ફંક્શન્સ}
\begin{tabulary}{\linewidth}{|L|L|L|L|}
\hline
\textbf{ફંક્શન} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\ \hline
\textbf{INSTR} & સબસ્ટ્રિંગની સ્થિતિ શોધે છે & \code{INSTR(str, substr)} & \code{INSTR('Hello', 'e')} $\rightarrow$ 2 \\ \hline
\textbf{LENGTH} & સ્ટ્રિંગની લંબાઈ રિટર્ન કરે છે & \code{LENGTH(str)} & \code{LENGTH('Hello')} $\rightarrow$ 5 \\ \hline
\end{tabulary}
\end{center}

\begin{lstlisting}[language=SQL]
SELECT INSTR('Database', 'a') FROM dual; -- Returns 2
SELECT LENGTH('Database') FROM dual;     -- Returns 8
\end{lstlisting}

\begin{itemize}
    \item \keyword{INSTR}: સબસ્ટ્રિંગ માટે કેસ સેન્સિટિવ શોધ
    \item \keyword{LENGTH}: સ્પેસ સહિત કુલ અક્ષરોની ગણતરી કરે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{IL - INSTR Locates, LENGTH measures}
\end{mnemonicbox}

\questionmarks{3(c)}{7}{નીચેના Table માટે SQL સ્ટેટમેન્ટ લખો: Student(Enno,name,branch,sem,clgname,bdate)}

\begin{solutionbox}
\begin{lstlisting}[language=SQL]
-- 1. Create a table Student
CREATE TABLE Student (
    Enno VARCHAR(10) PRIMARY KEY,
    name VARCHAR(50),
    branch VARCHAR(20),
    sem INT,
    clgname VARCHAR(100),
    bdate DATE
);

-- 2. Add a column mobno in Student table
ALTER TABLE Student ADD mobno VARCHAR(15);

-- 3. Insert one record in student table
INSERT INTO Student VALUES 
('E001', 'Raj Patel', 'IT', 3, 'GTU College', '2003-05-15', '9876543210');

-- 4. Find out list of students who have enrolled in "IT" branch
SELECT * FROM Student WHERE branch = 'IT';

-- 5. Retrieve all information about student where name begin with 'a'
SELECT * FROM Student WHERE name LIKE 'a%';

-- 6. Count the number of rows in student table
SELECT COUNT(*) FROM Student;

-- 7. Delete all record of student table
DELETE FROM Student;
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CAIRSCD - Create Add Insert Retrieve Search Count Delete}
\end{mnemonicbox}

\questionmarks{3(a OR)}{3}{SQL માં equi join ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{Equi Join}: સમાન કૉલમ્સના આધારે ટેબલ્સને જોડવા માટે સમાનતા શરતનો ઉપયોગ કરતું જોઇન ઓપરેશન.

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Equi Join}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{જોઇન પ્રકાર} & \textbf{શરત} & \textbf{પરિણામ} \\ \hline
\textbf{Equi Join} & Column1 = Column2 & બંને ટેબલ્સમાંથી મેચિંગ રો \\ \hline
\end{tabulary}
\end{center}

\begin{lstlisting}[language=SQL]
-- ઉદાહરણ
SELECT s.name, c.course_name 
FROM Student s, Course c 
WHERE s.course_id = c.course_id;
\end{lstlisting}

\begin{itemize}
    \item \keyword{Operator}: ઇક્વાલિટી ઓપરેટર (=) નો ઉપયોગ કરે છે
    \item \keyword{Columns}: સામાન્ય રીતે પ્રાઇમરી કી અને ફોરેન કીની સરખામણી કરે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{EE - Equi Equals}
\end{mnemonicbox}

\questionmarks{3(b OR)}{4}{નીચેના Aggregate function સમજાવો .1) MAX 2) SUM}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{SQL Aggregate ફંક્શન્સ}
\begin{tabulary}{\linewidth}{|L|L|L|L|}
\hline
\textbf{ફંક્શન} & \textbf{હેતુ} & \textbf{સિન્ટેક્સ} & \textbf{ઉદાહરણ} \\ \hline
\textbf{MAX} & મહત્તમ મૂલ્ય રિટર્ન કરે છે & \code{MAX(column)} & \code{MAX(salary)} \\ \hline
\textbf{SUM} & કુલ સરવાળો રિટર્ન કરે છે & \code{SUM(column)} & \code{SUM(marks)} \\ \hline
\end{tabulary}
\end{center}

\begin{lstlisting}[language=SQL]
SELECT MAX(salary) FROM Employee; -- e.g., 50000
SELECT SUM(marks) FROM Student;   -- e.g., 450
\end{lstlisting}

\begin{itemize}
    \item \keyword{Aggregation}: મૂલ્યોના સેટ પર ગણતરી કરીને એક મૂલ્ય આપે છે
    \item \keyword{Usage}: વારંવાર GROUP BY સાથે વપરાય છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{MS - MAX Sum}
\end{mnemonicbox}

\questionmarks{3(c OR)}{7}{નીચેના Table માટે SQL સ્ટેટમેન્ટ લખો: Employee(EmpID,Ename,DOB,Dept,Salary)}

\begin{solutionbox}
\begin{lstlisting}[language=SQL]
-- 1. Create a table Employee
CREATE TABLE Employee (
    EmpID VARCHAR(10) PRIMARY KEY,
    Ename VARCHAR(50),
    DOB DATE,
    Dept VARCHAR(30),
    Salary DECIMAL(10,2)
);

-- 2. Find sum of salaries of all employee
SELECT SUM(Salary) FROM Employee;

-- 3. Insert one record in Employee table
INSERT INTO Employee VALUES 
('E001', 'John Doe', '1990-05-15', 'IT', 35000);

-- 4. Find names of employees who salary between 25000/- and 48000/-
SELECT Ename FROM Employee WHERE Salary BETWEEN 25000 AND 48000;

-- 5. Display detail of all employees in descending order of their DOB
SELECT * FROM Employee ORDER BY DOB DESC;

-- 6. List name of all employees whose name ends with 'a'
SELECT Ename FROM Employee WHERE Ename LIKE '%a';

-- 7. Find highest and least salaries of all employees
SELECT MAX(Salary) AS Highest, MIN(Salary) AS Lowest FROM Employee;
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CSIDDHL - Create Sum Insert Display Display List HighLow}
\end{mnemonicbox}

\questionmarks{4(a)}{3}{Normalization ના ફાયદા જણાવો.}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Normalization લાભો}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{ફાયદો} & \textbf{વિવરણ} \\ \hline
\textbf{રીડન્ડન્સી ઘટાડો} & ડેટા ડુપ્લિકેશન દૂર કરે છે, સ્ટોરેજ બચાવે છે \\ \hline
\textbf{ડેટા કન્સિસ્ટન્સી} & ખાતરી કરે છે કે ડેટા આખા ડેટાબેઝમાં સચોટ રહે \\ \hline
\textbf{એનોમલી નિવારણ} & Insertion, Update અને Deletion એનોમલીઝ અટકાવે છે \\ \hline
\textbf{ફ્લેક્સિબિલિટી} & ડેટા સ્ટ્રક્ચરને ભવિષ્યના ફેરફારો માટે અનુકૂલનક્ષમ બનાવે છે \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Storage}: ઓછી જગ્યાની જરૂર પડે છે
    \item \keyword{Maintenance}: ડેટા મેનેજમેન્ટ સરળ બનાવે છે
    \item \keyword{Organization}: લોજિકલ ડેટા ગ્રુપિંગ પ્રદાન કરે છે
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{RCEF - Reducing Consistency Errors Forever}
\end{mnemonicbox}

\questionmarks{4(b)}{4}{1NF અને 2NF સમજાવો.}

\begin{solutionbox}
\textbf{1NF (First Normal Form)}:
\begin{itemize}
    \item કોલમમાં માત્ર એટોમિક (અવિભાજ્ય) મૂલ્યો હોવા જોઈએ.
    \item કોઈ રીપીટીંગ ગ્રુપ્સ ન હોવા જોઈએ.
\end{itemize}

\textbf{2NF (Second Normal Form)}:
\begin{itemize}
    \item ટેબલ 1NF માં હોવું જોઈએ.
    \item કોઈ પાર્શિયલ ડિપેન્ડન્સી (Partial Dependency) ન હોવી જોઈએ (Non-prime attributes સંપૂર્ણપણે પ્રાઇમરી કી પર આધારિત હોવા જોઈએ).
\end{itemize}

\textbf{ઉદાહરણ:}
\begin{center}
\captionof{table}{ડિપેન્ડન્સી ઉદાહરણ}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{Student\_ID} & \textbf{Course\_ID} & \textbf{Course\_Fee} \\ \hline
1 & C1 & 5000 \\ \hline
\end{tabulary}
\end{center}
\textit{અહીં, Course\_Fee માત્ર Course\_ID પર આધારિત છે, જે 2NF નું ઉલ્લંઘન છે.}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{AtomPart - Atomic values, No Partial dependency}
\end{mnemonicbox}

\questionmarks{4(c)}{7}{નીચેના SQL function સમજાવો. 1)COUNT 2)TO\_CHAR 3)LAST\_DAY 4)ADD\_MONTHS}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{SQL ફંક્શન્સ}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{ફંક્શન} & \textbf{વિવરણ} & \textbf{ઉદાહરણ} \\ \hline
\textbf{COUNT} & રો ની કુલ સંખ્યા ગણે છે & \code{COUNT(*)} $\rightarrow$ 10 \\ \hline
\textbf{TO\_CHAR} & ડેટાને સ્ટ્રિંગ ફોર્મેટમાં કન્વર્ટ કરે છે & \code{TO\_CHAR(SYSDATE, 'MM')} \\ \hline
\textbf{LAST\_DAY} & મહિનાનો છેલ્લો દિવસ રિટર્ન કરે છે & \code{LAST\_DAY(date)} \\ \hline
\textbf{ADD\_MONTHS} & તારીખમાં મહિના ઉમેરે છે & \code{ADD\_MONTHS(date, 2)} \\ \hline
\end{tabulary}
\end{center}

\begin{lstlisting}[language=SQL]
SELECT COUNT(*) FROM EMP;
SELECT TO_CHAR(2000, '$9,999') FROM DUAL; -- Returns $2,000
SELECT LAST_DAY('01-FEB-2024') FROM DUAL; -- Returns 29-FEB-24
SELECT ADD_MONTHS('01-JAN-2024', 1) FROM DUAL; -- Returns 01-FEB-24
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CTLA - Count To Last Add}
\end{mnemonicbox}

\questionmarks{4(a OR)}{3}{ACID પ્રોપર્ટીઝ સમજાવો.}

\begin{solutionbox}
\textbf{TRANSACTION}: ડેટાબેઝ કામગીરીનું લોજિકલ યુનિટ.

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{ACID ગુણધર્મો}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{પ્રોપર્ટી} & \textbf{વ્યાખ્યા} \\ \hline
\textbf{Atomicity} & બધું અથવા કંઈ નહીં (All or Nothing) \\ \hline
\textbf{Consistency} & ટ્રાન્ઝેક્શન પહેલાં અને પછી ડેટા કન્સિસ્ટન્ટ હોવો જોઈએ \\ \hline
\textbf{Isolation} & દરેક ટ્રાન્ઝેક્શન સ્વતંત્ર રીતે એક્ઝિક્યુટ થવું જોઈએ \\ \hline
\textbf{Durability} & કમિટ થયા પછી ફેરફારો કાયમી હોવા જોઈએ \\ \hline
\end{tabulary}
\end{center}

\begin{center}
\begin{tikzpicture}[node distance=2.5cm, auto, thick]
    \node [gtu state, fill=orange!20] (A) {Atomicity};
    \node [gtu state, fill=blue!20, right of=A] (C) {Consistency};
    \node [gtu state, fill=green!20, right of=C] (I) {Isolation};
    \node [gtu state, fill=red!20, right of=I] (D) {Durability};
\end{tikzpicture}
\captionof{figure}{ACID મોડેલ}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{ACID - Atomicity Consistency Isolation Durability}
\end{mnemonicbox}

\questionmarks{4(b OR)}{4}{Cursor ના સ્ટેપ્સ લખો.}

\begin{solutionbox}
\textbf{Explicit Cursor Lifecycle}:

\begin{enumerate}
    \item \textbf{DECLARE}: કર્સરને નામ આપવું અને ક્વેરી વ્યાખ્યાયિત કરવી (મેમરી ફાળવણી).
    \begin{itemize} \item \code{CURSOR c1 IS SELECT ...;} \end{itemize}
    
    \item \textbf{OPEN}: ક્વેરી એક્ઝિક્યુટ કરવી અને રિઝલ્ટ સેટ તૈયાર કરવો.
    \begin{itemize} \item \code{OPEN c1;} \end{itemize}
    
    \item \textbf{FETCH}: કર્સરમાંથી ડેટા વન-બાય-વન વેરીએબલ્સમાં લેવો.
    \begin{itemize} \item \code{FETCH c1 INTO v\_name;} \end{itemize}
    
    \item \textbf{CLOSE}: રિસોર્સિસ મુક્ત કરવા.
    \begin{itemize} \item \code{CLOSE c1;} \end{itemize}
\end{enumerate}

\begin{center}
\begin{tikzpicture}[node distance=1.5cm, auto, thick]
    \node [gtu block] (Dec) {DECLARE};
    \node [gtu block, below of=Dec] (Open) {OPEN};
    \node [gtu block, below of=Open] (Fetch) {FETCH};
    \node [gtu decision, below of=Fetch] (Check) {More Rows?};
    \node [gtu block, below=1.5cm of Check] (Close) {CLOSE};

    \draw [gtu arrow] (Dec) -- (Open);
    \draw [gtu arrow] (Open) -- (Fetch);
    \draw [gtu arrow] (Fetch) -- (Check);
    \draw [gtu arrow] (Check.east) -- node [right] {Yes} +(1,0) |- (Fetch);
    \draw [gtu arrow] (Check) -- node [right] {No} (Close);
\end{tikzpicture}
\captionof{figure}{Cursor Steps}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{DOFC - Declare Open Fetch Close}
\end{mnemonicbox}

\questionmarks{4(c OR)}{7}{3NF ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{3NF (Third Normal Form)}:
\begin{itemize}
    \item ટેબલ 2NF માં હોવું જોઈએ.
    \item કોઈ Transitive Dependency ન હોવી જોઈએ (Non-prime attribute અન્ય non-prime attribute પર આધારિત ન હોવો જોઈએ).
\end{itemize}

\textbf{ઉદાહરણ (Non-3NF):}
\begin{center}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{Emp\_ID} & \textbf{Dept\_Name} & \textbf{Dept\_Location} \\ \hline
101 & IT & Block A \\ \hline
102 & HR & Block B \\ \hline
\end{tabulary}
\end{center}
\textit{અહીં, Dept\_Location એ Dept\_Name પર આધારિત છે, અને Dept\_Name એ Emp\_ID પર. (Transitive: Emp\_ID $\rightarrow$ Dept\_Name $\rightarrow$ Dept\_Location).}

\textbf{ઉકેલ (3NF Conversion):}
બે ટેબલમાં વિભાજન કરો:
1. Employee (Emp\_ID, Dept\_Name)
2. Department (Dept\_Name, Dept\_Location)

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{3NF શરતો}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{શરત} & \textbf{વિવરણ} \\ \hline
\textbf{2NF} & પાર્શિયલ ડિપેન્ડન્સી દૂર થયેલ હોવી જોઈએ \\ \hline
\textbf{No Transitive} & A $\rightarrow$ B અને B $\rightarrow$ C (જ્યાં B non-key છે) ન હોવું જોઈએ \\ \hline
\end{tabulary}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{NoTransitive - No transitive dependencies allowed}
\end{mnemonicbox}

\questionmarks{5(a)}{3}{લોક આધારિત પ્રોટોકોલ સમજાવો.}

\begin{solutionbox}
\textbf{Lock}: ડેટા આઇટમ સાથે સંકળાયેલ વેરીએબલ જે તે આઇટમ પરના ઓપરેશન્સની સ્થિતિ દર્શાવે છે.

\textbf{લોક મિકેનિઝમ:}
\begin{itemize}
    \item \keyword{Shared Lock (S)}: રીડ-ઓન્લી લોક. ડેટા વાંચી શકાય છે પણ બદલી શકાતો નથી.
    \item \keyword{Exclusive Lock (X)}: રીડ-રાઈટ લોક. ડેટા વાંચી અને બદલી શકાય છે.
\end{itemize}

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Lock Compatibility Matrix}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
 & \textbf{Shared (S)} & \textbf{Exclusive (X)} \\ \hline
\textbf{Shared (S)} & True (Compatible) & False (Conflict) \\ \hline
\textbf{Exclusive (X)} & False (Conflict) & False (Conflict) \\ \hline
\end{tabulary}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{SX - Shared reads, Exclusive writes}
\end{mnemonicbox}

\questionmarks{5(b)}{4}{ડેટાબેઝ ટ્રિગર સમજાવો.}

\begin{solutionbox}
\textbf{Trigger}: એક સ્ટોર કરેલ પ્રોસિજર જે કોઇ ચોક્કસ ડેટાબેઝ ઇવેન્ટ (જેમ કે INSERT, UPDATE, DELETE) થાય ત્યારે આપમેળે એક્ઝિક્યુટ થાય છે.

\textbf{ઉપયોગો:}
\begin{itemize}
    \item જટિલ ઇન્ટેગ્રિટી કન્સ્ટ્રેઇન્ટ્સ લાગુ કરવા.
    \item ઓડિટ ટ્રેલ્સ (Audit Trails) જાળવવા.
    \item ટેબલ્સ વચ્ચે ડેટા સિંક્રનાઇઝ કરવા.
\end{itemize}

\textbf{સિન્ટેક્સ:}
\begin{lstlisting}[language=SQL]
CREATE TRIGGER trigger_name
BEFORE/AFTER INSERT/UPDATE/DELETE
ON table_name
FOR EACH ROW
BEGIN
    -- Logic
END;
\end{lstlisting}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{AutoFire - Automatically fires on events}
\end{mnemonicbox}

\questionmarks{5(c)}{7}{Two Phase Locking (2PL) પ્રોટોકોલ સમજાવો.}

\begin{solutionbox}
\textbf{2PL Protocol}: સિરિયલાઇઝેબિલિટીની ખાતરી કરતું કોન્કરન્સી કંટ્રોલ મિકેનિઝમ. ટ્રાન્ઝેક્શનને બે તબક્કામાં વહેંચે છે.

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto, thick]
    \draw [->] (0,0) -- (6,0) node[right] {Time};
    \draw [->] (0,0) -- (0,4) node[above] {Number of Locks};
    
    \coordinate (Start) at (0,0);
    \coordinate (Peak) at (3,3);
    \coordinate (End) at (6,0);
    \coordinate (LockPoint) at (3,3);
    
    \draw [thick, blue] (Start) -- (Peak) node[midway, above, sloped] {Growing Phase};
    \draw [thick, red] (Peak) -- (End) node[midway, above, sloped] {Shrinking Phase};
    
    \draw [dashed] (Peak) -- (3,0) node[below] {Lock Point};
    
    \node [right=0.2cm of Peak, font=\small] {Max Locks};
\end{tikzpicture}
\captionof{figure}{2PL Phases}
\end{center}

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{2PL તબક્કાઓ}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{તબક્કો} & \textbf{ક્રિયા} \\ \hline
\textbf{Growing Phase} & ટ્રાન્ઝેક્શન લોક્સ મેળવે છે, પણ કોઈ લોક છોડતું નથી. \\ \hline
\textbf{Shrinking Phase} & ટ્રાન્ઝેક્શન લોક્સ છોડે છે, પણ કોઈ નવું લોક મેળવી શકતું નથી. \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Lock Point}: જ્યારે ટ્રાન્ઝેક્શન પાસે મહત્તમ લોક્સ હોય છે.
    \item \keyword{Serializability}: ગેરંટી આપે છે કે શીડ્યુલ સિરિયલાઇઝેબલ છે.
    \item \keyword{Deadlock}: 2PL માં ડેડલોક થવાની શક્યતા રહે છે.
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{GS - Growing then Shrinking}
\end{mnemonicbox}

\questionmarks{5(a OR)}{3}{Deadlock એટલે શું?}

\begin{solutionbox}
\textbf{Deadlock}: એવી સ્થિતિ જ્યાં બે કે તેથી વધુ ટ્રાન્ઝેક્શન્સ એકબીજા દ્વારા લોક કરેલા રિસોર્સિસની અનંતકાળ સુધી રાહ જુએ છે.

\textbf{ઉદાહરણ:}
\begin{itemize}
    \item T1 લોક કરે છે A ને, રાહ જુએ છે B ની.
    \item T2 લોક કરે છે B ને, રાહ જુએ છે A ની.
    \item સાયકલ બને છે અને કોઈ આગળ વધી શકતું નથી.
\end{itemize}

\begin{center}
\begin{tikzpicture}[node distance=2cm, auto, thick]
    \node [gtu state] (T1) {T1};
    \node [gtu state, right of=T1] (T2) {T2};
    \node [gtu state, below of=T1] (R1) {Resource A};
    \node [gtu state, below of=T2] (R2) {Resource B};
    
    \draw [->] (T1) -- node[left] {Holds} (R1);
    \draw [->] (T1) -- node[above] {Waits} (R2);
    \draw [->] (T2) -- node[right] {Holds} (R2);
    \draw [->] (T2) -- node[below] {Waits} (R1);
\end{tikzpicture}
\captionof{figure}{Deadlock Cycle}
\end{center}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{CyclicWait - Cycle of waiting}
\end{mnemonicbox}

\questionmarks{5(b OR)}{4}{Implicit cursor અને Explicit cursor વચ્ચેનો તફાવત આપો.}

\begin{solutionbox}
\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Cursor તફાવત}
\begin{tabulary}{\linewidth}{|L|L|L|}
\hline
\textbf{ફીચર} & \textbf{Implicit Cursor} & \textbf{Explicit Cursor} \\ \hline
\textbf{ક્રિએશન} & ઓરેકલ દ્વારા આપમેળે બને છે & પ્રોગ્રામર દ્વારા વ્યાખ્યાયિત થાય છે \\ \hline
\textbf{નામ} & 'SQL' & યુઝર દ્વારા અપાયેલ નામ \\ \hline
\textbf{નિયંત્રણ} & ઓછું નિયંત્રણ & સંપૂર્ણ નિયંત્રણ (Open, Fetch, Close) \\ \hline
\textbf{ઉપયોગ} & DML (INSERT, UPDATE, DELETE) & SELECT કમાન્ડ જે એકથી વધુ રો આપે છે \\ \hline
\textbf{એટ્રિબ્યુટ્સ} & SQL\%FOUND, SQL\%ROWCOUNT & c1\%FOUND, c1\%ROWCOUNT \\ \hline
\end{tabulary}
\end{center}

\begin{itemize}
    \item \keyword{Implicit}: સરળ, ઓછો કોડ, ઓછી ફ્લેક્સિબિલિટી
    \item \keyword{Explicit}: જટિલ, વધુ કોડ, વધારે ફ્લેક્સિબિલિટી
\end{itemize}
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{AutoVsManual - Oracle handles vs User handles}
\end{mnemonicbox}

\questionmarks{5(c OR)}{7}{Concurrency Control ની સમસ્યાઓની યાદી બનાવો. કોઈપણ બે ઉદાહરણ સાથે સમજાવો.}

\begin{solutionbox}
\textbf{Concurrency Control ની સમસ્યાઓ}:
\begin{enumerate}
    \item \keyword{Lost Update}: અપૂર્ણ (uncommitted) ડેટાને ઓવરરાઈટ કરવો
    \item \keyword{Dirty Read}: અપૂર્ણ (uncommitted) ડેટા વાંચવો
    \item \keyword{Non-repeatable Read}: બદલાયેલ ડેટા ફરીથી વાંચવો
    \item \keyword{Phantom Read}: રેન્જ ક્વેરીમાં નવી રો (rows) દેખાવી
\end{enumerate}

\textbf{ટેબલ:}
\begin{center}
\captionof{table}{Concurrency સમસ્યાઓ}
\begin{tabulary}{\linewidth}{|L|L|}
\hline
\textbf{સમસ્યા} & \textbf{ઉદાહરણ દૃશ્ય} \\ \hline
\textbf{Lost Update} & T1 વાંચે છે X, T2 વાંચે છે X. T1 અપડેટ કરે છે X, T2 અપડેટ કરે છે X. T1 નું અપડેટ ખોવાઈ જાય છે. \\ \hline
\textbf{Dirty Read} & T1 અપડેટ કરે છે X. T2 વાંચે છે X. T1 ફેલ/રોલબેક થાય છે. T2 પાસે અમાન્ય ડેટા છે. \\ \hline
\end{tabulary}
\end{center}

\paragraph{ઉદાહરણ 3:}
Lost Update માટે બીજું ઉદાહરણ:
T1: Read A(100) $\rightarrow$ A=A+50
T2: Read A(100) $\rightarrow$ A=A+30
T1: Write A(150)
T2: Write A(130) \textbf{[T1 ના 150 ને ઓવરરાઈટ કરે છે!]}
અંતિમ મૂલ્ય 180 હોવું જોઈએ, પરંતુ 130 છે.

\paragraph{ઉદાહરણ 4 (Dirty Read):}
T1: Update A=200 \textbf{[કમીટ થયેલ નથી]}
T2: Read A(200) \textbf{[Dirty]}
T1: Rollback to 100
T2 200 નો ઉપયોગ કરે છે, જે ક્યારેય સત્તાવાર રીતે અસ્તિત્વમાં નહોતું.
\end{solutionbox}

\begin{mnemonicbox}
\mnemonic{LDNP - Lost Dirty Non-repeatable Phantom}
\end{mnemonicbox}

\end{document}
