\documentclass[10pt,a4paper]{article}
\input{../../../../../../latex-templates/gtu-solutions/preamble.tex}
\input{../../../../../../latex-templates/gtu-solutions/english-boxes.tex}

\begin{document}

\begin{center}
{\Huge\bfseries\color{headcolor} Subject Name Solutions}\\[5pt]
{\LARGE 4331603 -- Winter 2023}\\[3pt]
{\large Semester 1 Study Material}\\[3pt]
{\normalsize\textit{Detailed Solutions and Explanations}}
\end{center}

\vspace{10pt}

\subsection*{Question 1(a) [3 marks]}\label{q1a}

\textbf{Define the following terms: a). Data items b). Data dictionary
c).Meta data}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6667}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Term
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Definition
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Data Items} & Basic units of data that cannot be subdivided
further. Individual facts or values stored in database fields \\
\textbf{Data Dictionary} & Centralized repository containing metadata
about database structure, tables, columns, and relationships \\
\textbf{Metadata} & Data about data that describes structure,
constraints, and properties of database elements \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``DDM - Data Dictionary Manages''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 1(b) [4 marks]}\label{q1b}

\textbf{Explain disadvantages of File oriented system.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5185}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4815}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Disadvantage
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Data Redundancy} & Same data stored in multiple files leading to
storage waste \\
\textbf{Data Inconsistency} & Different versions of same data in
different files \\
\textbf{Data Isolation} & Difficulty in accessing data scattered across
multiple files \\
\textbf{Security Issues} & Limited access control and security
mechanisms \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``RDIS - Really Difficult Information System''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 1(c) [7 marks]}\label{q1c}

\textbf{Describe the responsibilities of DBA in detail.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6400}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3600}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Responsibility
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Details
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Database Design} & Creating logical and physical database
structures \\
\textbf{Security Management} & Implementing user access controls and
data protection \\
\textbf{Performance Monitoring} & Optimizing database performance and
query execution \\
\textbf{Backup \& Recovery} & Ensuring data safety through regular
backups \\
\textbf{User Support} & Providing technical assistance to database
users \\
\textbf{System Maintenance} & Regular updates, patches, and system
optimization \\
\end{longtable}
}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[DBA Responsibilities] {-{-}{} B[Design \& Planning]}
    A {-{-}{} C[Security \& Access]}
    A {-{-}{} D[Performance \& Optimization]}
    A {-{-}{} E[Backup \& Recovery]}
    A {-{-}{} F[User Support]}
    A {-{-}{} G[Maintenance]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\end{solutionbox}
\begin{mnemonicbox}
``DSPBUM - Database Specialists Provide Better User
Management''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 1(c OR) [7
marks]}\label{question-1c-or-7-marks}

\textbf{Define data abstraction? Explain Three level Architecture of
DBMS.}

\begin{solutionbox}

\textbf{Data Abstraction}: Process of hiding complex implementation
details while showing only essential features to users.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2414}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4483}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3103}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Level
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Purpose
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{External Level} & User view of database & Individual user
perspectives \\
\textbf{Conceptual Level} & Logical structure of entire database &
Overall database organization \\
\textbf{Internal Level} & Physical storage details & How data is
actually stored \\
\end{longtable}
}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph LR
    A[External Level{br/{}User Views] {-}{-}{} B[Conceptual Level{}br/{}Logical Schema]}
    B {-{-}{} C[Internal Level{}br/{}Physical Schema]}
    
    A1[User 1 View] {-{-}{} A}
    A2[User 2 View] {-{-}{} A}
    A3[User 3 View] {-{-}{} A}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\end{solutionbox}
\begin{mnemonicbox}
``ECI - Every Computer Industry''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 2(a) [3 marks]}\label{q2a}

\textbf{Define the Following Terms :a).Relationship set b).Participation
c).Candidate key}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6667}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Term
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Definition
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Relationship Set} & Collection of relationships of same type
between entity sets \\
\textbf{Participation} & Constraint specifying whether entity occurrence
is mandatory in relationship \\
\textbf{Candidate Key} & Minimal set of attributes that uniquely
identifies each entity in entity set \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``RPC - Relationship Participation Candidate''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 2(b) [4 marks]}\label{q2b}

\textbf{Explain Generalization with example.}

\begin{solutionbox}

\textbf{Generalization}: Bottom-up approach where common attributes of
lower-level entities are combined into higher-level entity.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Concept & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Purpose} & Reduce redundancy by creating common superclass \\
\textbf{Direction} & Bottom-up (specific to general) \\
\textbf{Example} & Car, Truck, Bus \rightarrow Vehicle \\
\end{longtable}
}

\begin{verbatim}
graph BT
    A[Car] {-{-} D[Vehicle]}
    B[Truck] {-{-} D}
    C[Bus] {-{-} D}
    
    A1[Brand, Model, Fuel Type] {-{-} A}
    B1[Brand, Model, Load Capacity] {-{-} B}
    C1[Brand, Model, Seating Capacity] {-{-} C}
    D1[Vehicle\_ID, Brand, Model] {-{-} D}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``GBU - Generalization Builds Up''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 2(c) [7 marks]}\label{q2c}

\textbf{Define E-R diagram? Explain different symbols used in E-R
diagram with example.}

\begin{solutionbox}

\textbf{E-R Diagram}: Graphical representation showing entities,
attributes, and relationships in database design.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2581}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2258}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2258}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2903}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Symbol
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Shape
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Usage
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Example
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Entity} & Rectangle & Represents objects & Student, Course \\
\textbf{Attribute} & Oval & Properties of entities & Name, Age, ID \\
\textbf{Relationship} & Diamond & Connections between entities &
Enrolls, Teaches \\
\textbf{Primary Key} & Underlined oval & Unique identifier &
Student\_ID \\
\textbf{Multivalued} & Double oval & Multiple values & Phone\_Numbers \\
\textbf{Derived} & Dashed oval & Calculated attributes & Age from DOB \\
\end{longtable}
}

\begin{verbatim}
erDiagram
    STUDENT \{
        int student\_id PK
        string name
        date birth\_date
        string email
    \}
    COURSE \{
        int course\_id PK
        string course\_name
        int credits
    \}
    STUDENT ||{-{-}o\{ ENROLLMENT : enrolls}
    COURSE ||{-{-}o\{ ENROLLMENT : "enrolled in"}
    ENROLLMENT \{
        int student\_id FK
        int course\_id FK
        date enrollment\_date
        string grade
    \}
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``EARPM - Every Attribute Represents Proper Meaning''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 2(a OR) [3
marks]}\label{question-2a-or-3-marks}

\textbf{Define Relational Algebra? List out various operations in
relational algebra?}

\begin{solutionbox}

\textbf{Relational Algebra}: Formal query language with operations for
manipulating relational database tables.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5714}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4286}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Operation Type
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Operations
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Basic Operations} & Select, Project, Union, Set Difference,
Cartesian Product \\
\textbf{Additional Operations} & Intersection, Join, Division, Rename \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``SPUDC-IJDR - Simple People Use Database Concepts''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 2(b OR) [4
marks]}\label{question-2b-or-4-marks}

\textbf{Explain Specialization with example.}

\begin{solutionbox}

\textbf{Specialization}: Top-down approach where higher-level entity is
divided into specialized lower-level entities.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Concept & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Purpose} & Create specialized subclasses with unique
attributes \\
\textbf{Direction} & Top-down (general to specific) \\
\textbf{Example} & Employee \rightarrow Manager, Clerk, Engineer \\
\end{longtable}
}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[Employee{br/{}Emp\_ID, Name, Salary] {-}{-}{} B[Manager{}br/{}Department]}
    A {-{-}{} C[Clerk{}br/{}Typing\_Speed]}
    A {-{-}{} D[Engineer{}br/{}Specialization]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\end{solutionbox}
\begin{mnemonicbox}
``STD - Specialization Top Down''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 2(c OR) [7
marks]}\label{question-2c-or-7-marks}

\textbf{Define attribute? Explain different types of attributes with
example.}

\begin{solutionbox}

\textbf{Attribute}: Property or characteristic that describes an entity.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Attribute Type & Description & Example \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Simple} & Cannot be divided further & Age, Name \\
\textbf{Composite} & Can be subdivided & Address (Street, City,
State) \\
\textbf{Single-valued} & Has one value & SSN, Employee\_ID \\
\textbf{Multi-valued} & Can have multiple values & Phone\_Numbers,
Skills \\
\textbf{Derived} & Calculated from other attributes & Age from
Birth\_Date \\
\textbf{Key} & Uniquely identifies entity & Student\_ID \\
\end{longtable}
}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph TD
    A[Attributes] {-{-}{} B[Simple{}br/{}Age, Name]}
    A {-{-}{} C[Composite{}br/{}Address]}
    A {-{-}{} D[Multi{-}valued{}br/{}Phone Numbers]}
    A {-{-}{} E[Derived{}br/{}Age from DOB]}
    
    C {-{-}{} F[Street]}
    C {-{-}{} G[City]}
    C {-{-}{} H[State]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\end{solutionbox}
\begin{mnemonicbox}
``SCSMDK - Simple Composite Single Multi Derived
Key''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 3(a) [3 marks]}\label{q3a}

\textbf{Explain the GRANT and REVOKE statement in SQL.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.3056}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2500}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4444}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Statement
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Purpose
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Syntax Example
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{GRANT} & Provides privileges to users &
\texttt{GRANT\ SELECT\ ON\ table\ TO\ user} \\
\textbf{REVOKE} & Removes privileges from users &
\texttt{REVOKE\ SELECT\ ON\ table\ FROM\ user} \\
\end{longtable}
}

\textbf{Common Privileges}: SELECT, INSERT, UPDATE, DELETE, ALL

\end{solutionbox}
\begin{mnemonicbox}
``GR - Grant Removes (via REVOKE)''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 3(b) [4 marks]}\label{q3b}

\textbf{Explain following Character functions. 1) INSTR 2) LENGTH}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2778}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2500}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2222}}
  >{\raggedright\arraybackslash}p{(\linewidth - 6\tabcolsep) * \real{0.2500}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Purpose
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Syntax
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Example
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{INSTR} & Finds position of substring &
\texttt{INSTR(string,\ substring)} &
\texttt{INSTR(\textquotesingle{}Hello\textquotesingle{},\ \textquotesingle{}e\textquotesingle{})}
returns 2 \\
\textbf{LENGTH} & Returns string length & \texttt{LENGTH(string)} &
\texttt{LENGTH(\textquotesingle{}Hello\textquotesingle{})} returns 5 \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``IL - INSTR Locates, LENGTH measures''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 3(c) [7 marks]}\label{q3c}

\textbf{Write SQL statements for following table:
Student(Enno,name,branch,sem,clgname,bdate)}

\begin{solutionbox}

\begin{verbatim}
{-{-} 1. Create a table Student}
CREATE TABLE Student (
    Enno VARCHAR(10) PRIMARY KEY,
    name VARCHAR(50),
    branch VARCHAR(20),
    sem INT,
    clgname VARCHAR(100),
    bdate DATE
);

{-{-} 2. Add a column mobno in Student table}
ALTER TABLE Student ADD mobno VARCHAR(15);

{-{-} 3. Insert one record in student table}
INSERT INTO Student VALUES 
({E001}, {Raj Patel}, {IT}, 3, {GTU College}, {2003{-}05{-}15}, {9876543210});

{-{-} 4. Find out list of students who have enrolled in "IT" branch}
SELECT * FROM Student WHERE branch = {IT};

{-{-} 5. Retrieve all information about student where name begin with a}
SELECT * FROM Student WHERE name LIKE {a\%};

{-{-} 6. Count the number of rows in student table}
SELECT COUNT(*) FROM Student;

{-{-} 7. Delete all record of student table}
DELETE FROM Student;
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``CAIRSCD - Create Add Insert Retrieve Search Count
Delete''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 3(a OR) [3
marks]}\label{question-3a-or-3-marks}

\textbf{Explain equi join with example in SQL.}

\begin{solutionbox}

\textbf{Equi Join}: Join operation using equality condition to combine
tables.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Join Type & Condition & Result \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Equi Join} & Column1 = Column2 & Matching rows from both
tables \\
\end{longtable}
}

\begin{verbatim}
{-{-} Example}
SELECT s.name, c.course\_name 
FROM Student s, Course c 
WHERE s.course\_id = c.course\_id;
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``EE - Equi Equals''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 3(b OR) [4
marks]}\label{question-3b-or-4-marks}

\textbf{Explain following Aggregate functions. 1) MAX 2) SUM}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
Function & Purpose & Syntax & Example \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{MAX} & Returns maximum value & \texttt{MAX(column)} &
\texttt{MAX(salary)} \\
\textbf{SUM} & Returns total sum & \texttt{SUM(column)} &
\texttt{SUM(marks)} \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``MS - MAX Sum''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 3(c OR) [7
marks]}\label{question-3c-or-7-marks}

\textbf{Write SQL statements for the following table:
Employee(EmpID,Ename,DOB,Dept,Salary)}

\begin{solutionbox}

\begin{verbatim}
{-{-} 1. Create a table Employee}
CREATE TABLE Employee (
    EmpID VARCHAR(10) PRIMARY KEY,
    Ename VARCHAR(50),
    DOB DATE,
    Dept VARCHAR(30),
    Salary DECIMAL(10,2)
);

{-{-} 2. Find sum of salaries of all employee}
SELECT SUM(Salary) FROM Employee;

{-{-} 3. Insert one record in Employee table}
INSERT INTO Employee VALUES 
({E001}, {John Doe}, {1990{-}05{-}15}, {IT}, 35000);

{-{-} 4. Find names of employees who salary between 25000/{-} and 48000/{-}}
SELECT Ename FROM Employee WHERE Salary BETWEEN 25000 AND 48000;

{-{-} 5. Display detail of all employees in descending order of their DOB}
SELECT * FROM Employee ORDER BY DOB DESC;

{-{-} 6. List name of all employees whose name ends with a}
SELECT Ename FROM Employee WHERE Ename LIKE {\%a};

{-{-} 7. Find highest and least salaries of all employees}
SELECT MAX(Salary) AS Highest, MIN(Salary) AS Lowest FROM Employee;
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``CSIDDHL - Create Sum Insert Display Display List
HighLow''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 4(a) [3 marks]}\label{q4a}

\textbf{Consider a following relational schema \& give Relational
Algebra Expressions for the following queries.}

\begin{solutionbox}

\begin{verbatim}
Student (Enrollment_No,Name,DOB,SPI)

i. σ(SPI > 7.0)(Student)
ii. π(Name)(σ(Enrollment_No = 007)(Student))
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``SP - Select Project''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 4(b) [4 marks]}\label{q4b}

\textbf{Write a short note on partial functional dependency.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.4091}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.5909}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Concept
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Definition} & Non-prime attribute depends on part of composite
primary key \\
\textbf{Occurs in} & Tables with composite primary keys \\
\textbf{Problem} & Causes redundancy and update anomalies \\
\textbf{Solution} & Decompose into 2NF \\
\end{longtable}
}

\textbf{Example}: In table(StudentID, CourseID, StudentName,
CourseName), StudentName depends only on StudentID (part of key).

\end{solutionbox}
\begin{mnemonicbox}
``PDPR - Partial Dependency Problems Resolved''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 4(c) [7 marks]}\label{q4c}

\textbf{Explain need of Normalization? Discuss about 2NF with example.}

\begin{solutionbox}

\textbf{Need of Normalization}:

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Problem & Solution through Normalization \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Data Redundancy} & Eliminates duplicate data \\
\textbf{Update Anomalies} & Prevents inconsistent updates \\
\textbf{Insert Anomalies} & Allows independent data insertion \\
\textbf{Delete Anomalies} & Prevents loss of important data \\
\end{longtable}
}

\textbf{Second Normal Form (2NF)}:

\begin{itemize}
\tightlist
\item
  Must be in 1NF
\item
  No partial functional dependencies
\end{itemize}

\textbf{Example}:

\begin{verbatim}
Before 2NF:
StudentCourse(StudentID, CourseID, StudentName, CourseName)

After 2NF:
Student(StudentID, StudentName)
Course(CourseID, CourseName)
Enrollment(StudentID, CourseID)
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``NUID2 - Normalization Unifies Important Data to
2NF''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 4(a OR) [3
marks]}\label{question-4a-or-3-marks}

\textbf{Consider a following relational schema \& give Relational
Algebra Expressions for the following queries.}

\begin{solutionbox}

\begin{verbatim}
Student(Enno,name,age,address)

i. π(name)(σ(address = 'Surat')(Student))
ii. π(name)(σ(age > 30)(Student))
\end{verbatim}

\end{solutionbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 4(b OR) [4
marks]}\label{question-4b-or-4-marks}

\textbf{Define 1 NF? Explain 1NF with suitable example.}

\begin{solutionbox}

\textbf{First Normal Form (1NF)}: Each column contains atomic
(indivisible) values, and each column contains values of a single type.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Rule & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Atomic Values} & No multiple values in single cell \\
\textbf{No Repeating Groups} & No duplicate columns \\
\textbf{Unique Rows} & Each row must be unique \\
\end{longtable}
}

\textbf{Example}:

\begin{verbatim}
Before 1NF:
Student(ID, Name, Subjects)
1, John, Math,Science,English

After 1NF:
Student(ID, Name, Subject)
1, John, Math
1, John, Science  
1, John, English
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``ANU - Atomic No-repeat Unique''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 4(c OR) [7
marks]}\label{question-4c-or-7-marks}

\textbf{Define Transitive Dependency? Explain 3NF with suitable
example.}

\begin{solutionbox}

\textbf{Transitive Dependency}: Non-prime attribute depends on another
non-prime attribute rather than directly on primary key.

\textbf{Third Normal Form (3NF)}:

\begin{itemize}
\tightlist
\item
  Must be in 2NF
\item
  No transitive dependencies
\end{itemize}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Before 3NF & After 3NF \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Student(ID, Name, DeptCode, DeptName) & Student(ID, Name, DeptCode) \\
DeptName depends on DeptCode & Department(DeptCode, DeptName) \\
\end{longtable}
}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph LR
    A[Student\_ID] {-{-}{} B[DeptCode]}
    B {-{-}{} C[DeptName]}
    A {-.{-}{} C}
    
    D[After 3NF:] 
    E[Student\_ID] {-{-}{} F[DeptCode]}
    G[DeptCode] {-{-}{} H[DeptName]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\end{solutionbox}
\begin{mnemonicbox}
``T3ND - Transitive Third Normal Form No
Dependencies''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 5(a) [3 marks]}\label{q5a}

\textbf{Define Serializability? Explain rules of serializability?}

\begin{solutionbox}

\textbf{Serializability}: Property ensuring concurrent transaction
execution produces same result as serial execution.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.3158}}
  >{\raggedright\arraybackslash}p{(\linewidth - 2\tabcolsep) * \real{0.6842}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Rule
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Conflict Serializability} & No conflicting operations in
different order \\
\textbf{View Serializability} & Same read-write patterns as serial
schedule \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``SCV - Serial Conflict View''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 5(b) [4 marks]}\label{q5b}

\textbf{Explain Attributes of Implicit Cursors.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Attribute & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{\%FOUND} & TRUE if last SQL affected at least one row \\
\textbf{\%NOTFOUND} & TRUE if last SQL affected no rows \\
\textbf{\%ROWCOUNT} & Number of rows affected by last SQL \\
\textbf{\%ISOPEN} & Always FALSE for implicit cursors \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``FNRI - Found NotFound RowCount IsOpen''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 5(c) [7 marks]}\label{q5c}

\textbf{Explain two phase locking protocol with suitable example.}

\begin{solutionbox}

\textbf{Two Phase Locking (2PL)}: Protocol ensuring serializability
through two phases.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2593}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.4815}}
  >{\raggedright\arraybackslash}p{(\linewidth - 4\tabcolsep) * \real{0.2593}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Phase
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Description
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Rules
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Growing Phase} & Acquire locks only & Can acquire locks, cannot
release \\
\textbf{Shrinking Phase} & Release locks only & Can release locks,
cannot acquire \\
\end{longtable}
}

\textbf{Example}:

\begin{verbatim}
Transaction T1:
1. Lock(A) - Growing
2. Lock(B) - Growing  
3. Read(A), Write(A)
4. Unlock(A) - Shrinking
5. Read(B), Write(B)
6. Unlock(B) - Shrinking
\end{verbatim}

\begin{center}
\textbf{Mermaid Diagram (Code)}
\begin{verbatim}
{Shaded}
{Highlighting}[]
graph LR
    A[Start] {-{-}{} B[Growing Phase{}br/{}Acquire Locks]}
    B {-{-}{} C[Lock Point{}br/{}Max Locks Held]}
    C {-{-}{} D[Shrinking Phase{}br/{}Release Locks]}
    D {-{-}{} E[End]}
{Highlighting}
{Shaded}
\end{verbatim}
\end{center}

\end{solutionbox}
\begin{mnemonicbox}
``2PGS - Two Phase Growing Shrinking''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 5(a OR) [3
marks]}\label{question-5a-or-3-marks}

\textbf{Explain ACID properties of transaction.}

\begin{solutionbox}

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Property & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Atomicity} & Transaction is all-or-nothing \\
\textbf{Consistency} & Database remains in valid state \\
\textbf{Isolation} & Concurrent transactions don't interfere \\
\textbf{Durability} & Committed changes are permanent \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``ACID - All Changes In Database''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 5(b OR) [4
marks]}\label{question-5b-or-4-marks}

\textbf{Define Triggers? Explain advantages of triggers.}

\begin{solutionbox}

\textbf{Triggers}: Special stored procedures that automatically execute
in response to database events.

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Advantage & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Automatic Execution} & Runs without explicit call \\
\textbf{Data Integrity} & Enforces business rules \\
\textbf{Auditing} & Tracks database changes \\
\textbf{Security} & Controls data access \\
\end{longtable}
}

\end{solutionbox}
\begin{mnemonicbox}
``ADAS - Automatic Data Auditing Security''

\end{mnemonicbox}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection*{Question 5(c OR) [7
marks]}\label{question-5c-or-7-marks}

\textbf{List down problems of concurrency control. Explain any two with
suitable example.}

\begin{solutionbox}

\textbf{Problems of Concurrency Control}:

{\def\LTcaptype{none} % do not increment counter
\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Problem & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Lost Update} & One transaction's update overwrites another's \\
\textbf{Dirty Read} & Reading uncommitted data \\
\textbf{Non-repeatable Read} & Different values read in same
transaction \\
\textbf{Phantom Read} & New rows appear between reads \\
\end{longtable}
}

\textbf{Example 1 - Lost Update}:

\begin{verbatim}
T1: Read(A=100)
T2: Read(A=100)  
T1:

A = A + 50 (A=150)

T2:

A = A + 30 (A=130) <- Lost T1's update

T1: Write(A=150)
T2: Write(A=130) <- Final value wrong
\end{verbatim}

\textbf{Example 2 - Dirty Read}:

\begin{verbatim}
T1: Write(A=200) [Not committed]
T2: Read(A=200)  <- Dirty read
T1: Rollback     <- A back to original
T2: Continues with wrong value
\end{verbatim}

\end{solutionbox}
\begin{mnemonicbox}
``LDNP - Lost Dirty Non-repeatable Phantom''

\end{mnemonicbox}

\end{document}
