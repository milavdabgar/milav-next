
% content/resources/templates/gujarati-boxes.tex
\usepackage{fontspec}
\usepackage{polyglossia}

% Set Gujarati as main language (document is primarily in Gujarati)
% Note: gloss-gujarati.ldf doesn't exist in polyglossia, but it will use hyphenation patterns
\setdefaultlanguage{gujarati}
\setotherlanguage{english}

% Configure Gujarati font properly
% Use Language=Default to prevent polyglossia from trying to add language-specific features
% that don't exist for Gujarati, which causes "empty feature" warnings
\newfontfamily\gujaratifont[Script=Gujarati,AutoFakeBold=2.5,AutoFakeSlant=0.3]{Noto Sans Gujarati}
\setmainfont[Script=Gujarati,AutoFakeBold=2.5,AutoFakeSlant=0.3]{Noto Sans Gujarati}
% Use Noto Sans Gujarati for monospace to support Gujarati in text
\setmonofont[Scale=0.9]{Noto Sans Gujarati}

% Configure English to use the same font
\newfontfamily\englishfont[Script=Gujarati,AutoFakeBold=2.5,AutoFakeSlant=0.3]{Noto Sans Gujarati}

% Translations for polyglossia
\gappto\captionsgujarati{
  \renewcommand{\tablename}{કોષ્ટક}
  \renewcommand{\figurename}{આકૃતિ}
}

% Helper for TikZ nodes to ensure Gujarati font
\newcommand{\gu}[1]{{\gujaratifont #1}}

% Custom environments
\newtcolorbox{solutionbox}{
    breakable,
    enhanced,
    colback=solutioncolor!5!white,
    colframe=solutioncolor!75!black,
    fonttitle=\bfseries,
    title=જવાબ
}

\newtcolorbox{solutionboxnobreak}{
 colback=solutioncolor!5!white,
 colframe=solutioncolor!75!black,
 fonttitle=\bfseries,
 title=જવાબ
}

\newtcolorbox{keyformula}{
 breakable,
 enhanced,
 colback=keycolor!5!white,
 colframe=keycolor!75!black,
 fonttitle=\bfseries,
 title=રાસાયણિક સમીકરણ/સૂત્ર
}

\newtcolorbox{mnemonicbox}{
 breakable,
 enhanced,
 colback=mnemoniccolor!5!white,
 colframe=mnemoniccolor!75!black,
 fonttitle=\bfseries,
 title=મેમરી ટ્રીક
}
